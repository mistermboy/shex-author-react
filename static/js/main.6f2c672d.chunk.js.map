{"version":3,"sources":["components/Nav.js","components/mainComps/toolbar/AssistBtn.js","components/mainComps/toolbar/VisualizeBtn.js","entities/editor.js","entities/shexEntities/types/type.js","entities/shexEntities/others/prefix.js","entities/shexEntities/types/concreteTypes/prefixedIri.js","entities/shexEntities/types/concreteTypes/iriRef.js","entities/shexEntities/types/concreteTypes/bNode.js","entities/shexEntities/types/concreteTypes/blankType.js","entities/shexEntities/types/concreteTypes/primitive.js","entities/shexEntities/types/concreteTypes/valueSet.js","entities/shexEntities/types/concreteTypes/kinds/literal.js","entities/shexEntities/types/concreteTypes/kinds/nonLiteral.js","entities/shexEntities/types/concreteTypes/kinds/iriKind.js","entities/shexEntities/types/concreteTypes/kinds/bNodeKind.js","entities/shexEntities/types/concreteTypes/literal/stringLiteral.js","entities/shexEntities/types/concreteTypes/literal/numberLiteral.js","entities/shexEntities/types/concreteTypes/literal/booleanLiteral.js","entities/shexEntities/types/typesFactory.js","entities/shexEntities/types/concreteTypes/kinds/blankKind.js","entities/shexEntities/shape.js","entities/shexEntities/others/facet.js","utils/prefixUtils.js","entities/shexEntities/others/valueSetValue.js","utils/shexUtils.js","utils/tokenUtils.js","entities/shexEntities/others/cardinality/cardinalityExactly.js","entities/shexEntities/others/cardinality/cardinalityMinLimit.js","entities/shexEntities/others/cardinality/cardinalityRange.js","entities/shexEntities/others/cardinality/cardinalitySimple.js","entities/shexEntities/others/cardinality/cardinalityFactory.js","entities/shexEntities/others/shapeRef.js","conf/config.js","entities/shexEntities/triple.js","utils/yasheUtils.js","galery/defaultExample.js","utils/toolbarUtils.js","galery/wikiExample.js","components/mainComps/toolbar/UndoBtn.js","components/mainComps/toolbar/RedoBtn.js","components/mainComps/toolbar/UploadBtn.js","components/mainComps/toolbar/DownloadBtn.js","components/mainComps/toolbar/ChangeThemeBtn.js","components/mainComps/toolbar/GaleryBtn.js","components/mainComps/toolbar/DeleteAllBtn.js","components/mainComps/toolbar/ScrollBtn.js","components/mainComps/Toolbar.js","utils/cssUtils.js","components/mainComps/assistant/AssistNav.js","conf/colors.js","conf/properties.js","components/mainComps/assistant/tabs/shEx/headers/ShapeHeader.js","components/mainComps/assistant/tabs/shEx/customize/config/TypeConfig.js","components/mainComps/assistant/tabs/shEx/customize/config/PrefixConfig.js","components/mainComps/assistant/tabs/shEx/customize/config/QualifierConfig.js","components/mainComps/assistant/tabs/shEx/customize/CustomComp.js","components/mainComps/assistant/tabs/shEx/headers/TripleHeader.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/QNameValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/InputValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/NumberValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/BooleanValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/ValueSetComp.js","components/mainComps/assistant/tabs/shEx/customize/constraint/ValueSetContainer.js","components/mainComps/assistant/tabs/shEx/customize/ConstraintComp.js","components/mainComps/assistant/tabs/shEx/customize/ShapeRefComp.js","components/mainComps/assistant/tabs/shEx/customize/facets/FacetComp.js","components/mainComps/assistant/tabs/shEx/customize/FacetContainer.js","components/mainComps/assistant/tabs/shEx/customize/CardinalityComp.js","components/mainComps/assistant/tabs/shEx/TripleComponent.js","components/mainComps/assistant/tabs/shEx/ShapeComponent.js","components/mainComps/assistant/tabs/Shapes.js","components/mainComps/assistant/AssistLoader.js","components/mainComps/assistant/AssistError.js","components/mainComps/assistant/tabs/prefix/PrefixComp.js","components/mainComps/assistant/tabs/Prefixes.js","components/mainComps/assistant/tabs/color/views/ShapeView.js","components/mainComps/assistant/tabs/color/views/TripleView.js","components/mainComps/assistant/tabs/color/utils/ColorPicker.js","components/mainComps/assistant/tabs/color/utils/ColorComp.js","conf/pickers.js","components/mainComps/assistant/tabs/color/ShapeColors.js","components/mainComps/assistant/tabs/color/views/PrefixView.js","components/mainComps/assistant/tabs/color/PrefixColors.js","components/mainComps/assistant/tabs/Colors.js","components/mainComps/assistant/tabs/Config.js","components/mainComps/assistant/AssistContent.js","components/mainComps/Assistant.js","components/mainComps/EditorComp.js","components/MainContainer.js","components/Visualizer.js","App.js","serviceWorker.js","index.js"],"names":["Nav","props","colapseAll","className","type","onClick","target","href","AssistBtn","context","useContext","AppContext","title","assistantToggle","ShowAssistBtn","visualizeToggle","Editor","EditorClass","this","getYashe","yashe","setYashe","instance","getInstance","Type","value","Prefix","prefixName","prefixValue","id","PrefixedIri","prefix","getPrefix","getPrefixName","getValue","IriRef","BNode","BlankType","Primitive","ValueSet","values","push","str","map","v","toString","Literal","NonLiteral","IriKind","BNodeKind","StringLiteral","NumberLiteral","BooleanLiteral","TypesFactory","retType","BlankKind","Shape","triples","qualifier","triplesCount","length","factory","triple","tripleId","filter","obj","createType","checkContent","getTriplesString","longestTriple","getLongestElement","longestConstraint","longestRef","longestCard","longestCRef","getLongestCR","forEach","tripleLength","constLength","constraint","refLength","shapeRef","cardLength","cardinality","tripleDiference","constDiference","refDiference","cardDiference","CRefDiference","getSeparators","isContent","getType","element","size","tripleSize","constraintSize","refSize","cardSize","CRefSize","getSeparator","ref","card","CRef","separator","i","Facet","prefixCount","defined","getDefinedPrefixes","Object","keys","reduce","acc","p","addPrefixComp","prefixes","width","newPrefix","newPrefixes","assign","emitPrefixes","addPrefix","current","setValue","namespaces","def","getUri","Codemirror","signal","undefined","ValueSetValue","shapesCount","facetsCount","valuesCount","emit","newShapes","checkPrefixes","hasPrefix","defs","refs","shexUtils","addShape","shapes","newShape","deleteShape","shapeId","confirm","window","shape","getShapeById","getShapeByName","name","s","getTripleById","getTriples","addFacet","facets","addValueSetValue","CardinalityExactly","min","CardinalityMinLimit","CardinalityRange","max","CardinalitySimple","CardinalityFactory","ShapeRef","DEFAULTS","sincronize","pretty","saveColors","Triple","cardFactory","constraints","constraintsCount","facet","createCardinality","separators","getConstraint","getFacets","getShapeRef","getCardinality","tripleSeparator","checkPrettyOptions","constSeparator","refSeparator","cardSeparator","checkFacets","f","getTypeName","PRIMITIVES","startsWith","split","defPrefixes","getPrefixValue","toLowerCase","kind","range","getValueSetValue","isNaN","substring","getRefName","getNonWsTokens","tokens","tokenUtils","getTokens","l","lineCount","getLineTokens","token","getDefinedShapes","brackets","shapeCont","hasTripleStarted","string","getShapes","defShapes","shapeType","getQualifier","singleTriple","tTokens","start","t","getTripleTokens","index","isEndOfTriple","valueSet","getTriple","updateShapeRefs","r","setShape","yasheUtils","getPrefixes","defP","draw","newContent","getPrefixesStr","getSchema","debounce","func","wait","immediate","timeout","result","args","arguments","later","apply","callNow","clearTimeout","setTimeout","defaultExample","downloadFile","textFileAsBlob","Blob","downloadLink","document","createElement","download","innerHTML","URL","createObjectURL","style","display","body","appendChild","click","changeTheme","themeValue","getOption","getElementById","classList","add","remove","setOption","loadExample","example","scrollTop","scrollTo","UndoBtn","undo","replaceShapes","RedoBtn","redo","UploadBtn","handleRead","e","files","file","endsWith","reader","FileReader","onload","event","readAsText","readFile","onChange","accept","data-multiple-caption","multiple","htmlFor","xmlns","height","viewBox","d","DownloadBtn","baseProfile","ChangeThemeBtn","fill","GaleryBtn","data-toggle","DeleteAllBtn","ScrollBtn","Toolbar","Collapse","isOpen","isToolBarOpen","VisualizeBtn","makeItResponsive","tabs","getElementsByClassName","shapeHeaders","tripleHeaders","addTripleBtns","addShapeBtns","grids","customs","prefixesColors","pickers","tabClass","shClass","thClass","adTClass","adSClass","grClass","ccClass","prClass","prcClass","picClass","getKeys","collection","activeTab","evt","tablinks","replace","currentTarget","changeClass","before","after","AssistTitle","asssistContext","AssistContext","closeAll","setAssistOpen","setPrefixesOpen","setColorsOpen","setConfigOpen","SHAPE_COLORS","label","header","custom","customFill","delete","deleteFill","collapse","addTriple","addTripleFill","addShapeFill","TRIPLE_COLORS","constraintFill","facetFill","shapeRefFill","cardinalityFill","CONSTRAINT_COLORS","addFill","FACET_COLORS","SHAPEREF_COLORS","CARDINALITY_COLORS","PREFIX_COLORS","specialLabel","Properties","PropertyClass","useCookies","cookies","setCookie","removeCookie","getShapeStyle","color","background","getTripleStyle","getConstraintStyle","getFacetStyle","getShapeRefStyle","getCardinalityStyle","getPrefixStyle","loadCookies","loadCookie","cookie","namespace","properties","load","path","propeties","c","removeCookies","saveDefaults","defaultShape","defaultTriple","defaultConstraint","defaultFacet","defaultShapeRef","defaultCardinality","defaultConfig","restoreDefaultColors","restoreDefaultConfig","ShapeHeader","shapeContext","ShapeContext","disabled","styles","customizeShape","collapseTriples","colapseBtn","useState","setName","initialRegExp","RegExp","regExp","attributesInput","placeholder","handleChange","onKeyUp","setDisabled","handleKeyUp","validationOption","reg","regMsg","Bnode","isBnode","TypeConfig","entity","setPrefix","bnode","setPrefixOpen","shapeStyles","tripleStyles","setType","PrefixConfig","isPrefixOpen","pre","key","QualifierConfig","setQualifier","newType","Qualifier","isQualifier","CustomComp","isCustomOpen","customClass","initialPrefix","initialOpenPrefix","TripleHeader","deleteTriple","customize","customizeTriple","customizeRef","customizeFacet","customizeContraints","customizeCardinality","collapseToggle","QNameValue","console","log","newName","InputValue","NumberValue","number","setNumber","newNumber","BooleanValue","boolean","setBoolean","newBoolean","ValueSetComp","valueSetValue","deleteValue","isIriRef","setIriRef","isQName","setQName","isString","setString","isNumber","isBoolean","checkCollapses","useEffect","ValueSetContainer","setValueSet","newValues","setValues","addValue","primitives","ConstraintComp","constValue","primValue","initialValueSet","getValues","primitive","setPrimitive","setConstraint","setCustomOpen","isValueSetOpen","setValueSetOpen","isNameOpen","setNameOpen","checkValueSet","checkRefs","prim","newPrimitive","newConstraint","ShapeRefComp","refValue","setShapeRef","refSelector","FacetComp","deleteFacet","handleTypeChange","handleValueChange","FacetContainer","setFacets","newFacets","CardinalityComp","cardValue","getCardType","initialExactly","initialRange","initialMin","initialMax","setCardinality","isExactly","setExactly","isRange","setRange","setMin","setMax","handleMinChange","valueAsNumber","newCardinality","TripleComponent","isTripleOpen","setTripleOpen","isTripleCustomOpen","setTripleCustomOpen","isConstraintsOpen","setConstraintsOpen","isRefOpen","setRefOpen","isFacetOpen","setFacetOpen","isCardinalityOpen","setCardinalityOpen","allCollased","setAllCollapsed","setColapseBtn","constStyles","facetStyles","refStyles","cardStyles","collapseAll","changeCollapseBtn","React","createContext","ShapeComponent","setTriples","isTriplesOpen","setTriplesOpen","initialDisabled","newTriples","Provider","getTriplesCount","Shapes","AssistLoader","AssistError","CodeMirror","PrefixComp","emitPref","handleAlias","handleIri","deletePrefix","Prefixes","ShapeView","colors","TripleView","ColorPicker","setColor","isDisplay","setDisplay","handleClose","reactCSS","borderRadius","swatch","padding","boxShadow","cursor","popover","position","transform","zIndex","cover","top","right","bottom","left","hex","onChangeComplete","ColorComp","labelType","bodyType","tag","SHAPE_PICKERS","TRIPLE_PICKERS","CONSTRAINT_PICKERS","FACET_PICKERS","SHAPEREF_PICKERS","CARDINALITY_PICKERS","BTNS_PICKERS","PREFIX_PICKERS","ShapeColors","constraintStyles","shapeRefStyles","cardinalityStyles","PrefixView","PrefixColors","Colors","Config","sinc","setSinc","setPretty","setSaveColors","setCookies","checked","icons","newPretty","AssistContent","isAssistOpen","isPrefixesOpen","isColorsOpen","isConfigOpen","Assistant","NAMESPACE","isAssistantOpen","onResize","data","handleResize","resizeHandles","minConstraints","maxConstraints","AssistNav","ERROR_EDITOR_MSG","EditorComp","divRef","useRef","defaultPrefixes","options","persistent","lineNumbers","showTooltip","theme","y","YASHE","on","isComplex","oldShapes","hasErrors","hideError","hideConvert","loading","loaded","showConvert","showError","updateAssist","_handlers","focus","keyup","keyHandled","updatePrefixes","refresh","replacePrefixes","animate","before1","after1","before2","after2","e1","e2","err","textContent","MainContainer","Visualizer","svg","isVisualizeOpen","dangerouslySetInnerHTML","__html","App","setShapes","setPrefixes","setSvg","setAssistantOpen","setToolBarOpen","setVisualizeOpen","setWidth","visualize","bodyFormData","FormData","set","axios","method","url","config","headers","then","response","catch","CookiesProvider","checkShapeName","prefixId","deletePrefixComp","Boolean","location","hostname","match","ReactDOM","render","spaces","j","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6f2c672d.chunk.js","sourcesContent":["import React from 'react';\nimport '../css/navComponents/Nav.css'; \n\nfunction Nav (props) {\n\n    const {colapseAll} = props;\n\n    return (   <nav className=\"navbar navbar-default \">\n        <div className=\"navbar-header\">\n        \n         <button className=\"collapseAllBtn mdc-icon-button material-icons\"type=\"button\"\n                 onClick={colapseAll} >\n                            menu\n                        </button> \n            <span className='shexTitle'>ShExAuthor</span>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/YASHE/\">YASHE</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/\">Weso</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/\">About me</a>\n     \n        </div>\n    </nav>);\n    \n    \n}\n\nexport default Nav;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                title=\"ShEx Assistant\"\n                type=\"button\"\n                onClick={context.assistantToggle}>\n                info\n        </button>);\n    \n    \n}\n\n\nexport default AssistBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction ShowAssistBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Visualize\"\n                onClick={context.visualizeToggle}>\n                remove_red_eye\n        </button> );\n    \n    \n}\n\n\nexport default ShowAssistBtn;\n\n\n","import YASHE from 'yashe';\n\n//Singleton Pattern\nconst Editor = (()=> {\n\n    function EditorClass(){\n\n        this.getYashe = function () {\n            return this.yashe;\n        }\n\n        this.setYashe =  function (yashe) {\n            this.yashe = yashe;\n        }\n\n    }\n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new EditorClass();\n            }\n            return instance;\n        },\n\n        getYashe: ()=>{\n            return instance?.getYashe();\n        }\n\n    }\n\n})();\n\n\nexport default Editor;","class Type{\n\n    constructor(value){\n        this.value = value;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n}\n\nexport default Type;","class Prefix {\n\n    constructor(prefixName='',prefixValue='http://example.org/',id){\n        this.prefixName = prefixName;\n        this.prefixValue = prefixValue;\n        this.id = id;\n    }\n\n\n    getPrefixName(){\n        return this.prefixName;\n    }\n\n    getPrefixValue(){\n        return this.prefixValue;\n    }\n\n}\n\nexport default Prefix;","import Type from '../type';\nimport Prefix from '../..//others//prefix';\n\nclass PrefixedIri extends Type{\n\n    constructor(prefix=new Prefix(),value=''){\n        super(value);\n        this.prefix = prefix;\n    }\n\n    getPrefix(){\n        return this.prefix;\n    }\n\n    setPrefix(prefix){\n        this.prefix = prefix;\n    }\n\n   \n    getTypeName(){\n        return 'prefixedIri';\n    }\n\n\n    toString(){\n        return this.getPrefix().getPrefixName()+':'+this.getValue();\n    }\n\n}\n\nexport default PrefixedIri;","import Type from '../type';\nimport Editor from'../../../editor';\n\nclass IriRef extends Type{\n\n    constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'iriRef';\n    }\n\n\n    toString(){\n        return '<'+this.getValue()+'>';\n    }\n\n\n}\n\nexport default IriRef;","import Type from '../type';\n\nclass BNode extends Type{\n\n    constructor(value='example'){\n        super(value);\n    }\n\n\n    getTypeName(){\n        return 'bnodeType';\n    }\n\n\n    toString(){\n        return '_:'+this.getValue();\n    }\n\n}\n\n\n\nexport default BNode;","import Type from '../type';\n\nclass BlankType extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'blankType';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankType;","import Type from '../type';\n\nconst PRIMITIVES = ['String','Integer','Date','Boolean'];\n\nclass Primitive extends Type{\n\n     constructor(value='none'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'primitive';\n    }\n\n    toString(){\n        if(this.value=='none'){\n            return '.';\n        }\n        return 'xsd:'+this.getValue();\n    }\n\n\n\n}\n\nexport default Primitive;","import Type from '../type';\n\nclass ValueSet extends Type{\n\n     constructor(values=[],value){\n        // If we use 'value' instead of 'values' it doesn't work \n        // I am not sure why...\n        super(value);\n        this.values = values;\n    }\n\n    addValue(value){\n        this.values.push(value);\n    }\n       \n\n    getValues(){\n        return this.values;\n    }\n\n    setValues(values){\n        this.values = values;\n    }\n\n    getTypeName(){\n        return 'valueSet';\n    }\n\n    toString(){\n        let str ='[';\n        this.values.map(v=>{\n            str+=v.toString()+' ';\n        })\n        str+=']';\n        return str;\n    }\n\n\n\n}\n\nexport default ValueSet;","import Type from '../../type';\n\nclass Literal extends Type{\n\n    getTypeName(){\n        return 'literal';\n    }\n\n    toString(){\n        return 'Literal';\n    }\n\n\n\n}\n\nexport default Literal;","import Type from '../../type';\n\nclass NonLiteral extends Type{\n\n    getTypeName(){\n        return 'nonliteral';\n    }\n\n    toString(){\n        return 'NONLITERAL';\n    }\n\n}\n\nexport default NonLiteral;","import Type from '../../type';\n\nclass IriKind extends Type{\n\n    getTypeName(){\n        return 'iri';\n    }\n\n    toString(){\n        return 'IRI';\n    }\n\n\n\n}\n\nexport default IriKind;","import Type from '../../type';\n\nclass BNodeKind extends Type{\n\n    getTypeName(){\n        return 'bnode';\n    }\n\n    toString(){\n        return 'BNODE';\n    }\n\n\n\n}\n\nexport default BNodeKind;","import Type from '../../type';\n\nclass StringLiteral extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'stringLiteral';\n    }\n\n    toString(){\n        return '\"'+this.value+'\"';\n    }\n\n\n\n}\n\nexport default StringLiteral;","import Type from '../../type';\n\nclass NumberLiteral extends Type{\n\n    constructor(value=0){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'numberLiteral';\n    }\n\n    toString(){\n        return this.value;\n    }\n\n\n\n}\n\nexport default NumberLiteral;","import Type from '../../type';\n\nclass BooleanLiteral extends Type{\n\n    constructor(value='true'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'booleanLiteral';\n    }\n\n    toString(){\n        return this.value;\n    }\n\n\n\n}\n\nexport default BooleanLiteral;","import PrefixedIri from'./concreteTypes/prefixedIri';\nimport IriRef from'./concreteTypes/iriRef';\nimport BNode from'./concreteTypes/bNode';\nimport BlankType from'./concreteTypes/blankType';\nimport Primitive from'./concreteTypes/primitive';\nimport ValueSet from'./concreteTypes/valueSet';\n\nimport Literal from'./concreteTypes/kinds/literal';\nimport NonLiteral from'./concreteTypes/kinds/nonLiteral';\nimport IriKind from'./concreteTypes/kinds/iriKind';\nimport BNodeKind from'./concreteTypes/kinds/bNodeKind';\n\n\nimport StringLiteral from'./concreteTypes/literal/stringLiteral';\nimport NumberLiteral from'./concreteTypes/literal/numberLiteral';\nimport BooleanLiteral from'./concreteTypes/literal/booleanLiteral';\n\n\n\nclass TypesFactory{\n\n    createType(type){\n\n        let retType;\n        if(type == 'iriRef'){\n            retType = new IriRef();\n        }\n        \n        if(type == 'prefixedIri'){\n            retType = new PrefixedIri();\n        }\n        \n        if(type == 'bnodeType'){\n            retType = new BNode();\n        }\n\n        if(type == 'blankType'){\n            retType = new BlankType();\n        }\n\n        if(type == 'primitive'){\n            retType = new Primitive();\n        }\n\n        if(type == 'literal'){\n            retType = new Literal();\n        }\n\n        if(type == 'nonliteral'){\n            retType = new NonLiteral();\n        }\n\n\n        if(type == 'iri'){\n            retType = new IriKind();\n        }\n\n        if(type == 'bnode'){\n            retType = new BNodeKind();\n        }\n\n        if(type == 'valueSet'){\n            retType = new ValueSet();\n        }\n\n        if(type == 'stringLiteral'){\n            retType = new StringLiteral();\n        }\n\n        if(type == 'numberLiteral'){\n            retType = new NumberLiteral();\n        }\n\n        if(type == 'booleanLiteral'){\n            retType = new BooleanLiteral();\n        }\n \n\n        return retType;\n\n    }\n\n\n}\n\nexport default TypesFactory;","import Type from '../../type';\n\nclass BlankKind extends Type{\n\n    getTypeName(){\n        return 'blank';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankKind;","import TypesFactory from './types/typesFactory';\n\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\nimport BlankKind from './types/concreteTypes/kinds/blankKind';\nimport Prefix from './others/prefix';\n\nclass Shape {\n\n  constructor(id,type=new PrefixedIri(new Prefix('','http://example.org/')),triples = [],qualifier=new BlankKind()) {\n      this.id = id;\n      this.type = type;\n      this.triples = triples;\n      this.triplesCount = this.triples.length;\n      this.factory = new TypesFactory();\n      this.qualifier = qualifier;\n    }\n\n    addTriple(triple){\n        this.triples.push(triple);\n        this.triplesCount++;\n    }\n\n    removeTriple(tripleId){\n      this.triples = this.triples.filter(function( obj ) {\n        return obj.id != tripleId\n      });\n    }\n\n    setQualifier(qualifier){\n      this.qualifier = this.factory.createType(qualifier);\n    }\n    \n\n    setType(type){\n        this.type = this.factory.createType(type);\n     }\n\n \n    toString(){\n      let str='\\n';\n      if(this.type.value!=''){\n        str+=this.type+' '+this.qualifier;\n        if(this.checkContent()){\n          str+=' {\\n';\n          str+= this.getTriplesString();\n          str+=\"}\\n\\n\"\n        }\n      }\n      return str\n     }\n\n     getTriplesString(){\n        let str='';\n        let longestTriple = this.getLongestElement('type');\n        let longestConstraint = this.getLongestElement('constraint');\n        let longestRef = this.getLongestElement('shapeRef');\n        let longestCard = this.getLongestElement('cardinality');\n        let longestCRef = this.getLongestCR();//constraint+shapeRef\n        this.triples.forEach(triple => {\n          let tripleLength = triple.type.toString().length;\n          let constLength = triple.constraint.toString().length;\n          let refLength = triple.shapeRef.toString().length;\n          let cardLength = triple.cardinality.toString().length;\n          let CRefLength = constLength + refLength;\n\n          let tripleDiference = longestTriple - tripleLength;\n          let constDiference = longestConstraint - constLength;\n          let refDiference = longestRef - refLength;\n          let cardDiference = longestCard - cardLength;\n          let CRefDiference = longestCRef - CRefLength;\n\n          str+=triple.toString( \n                      this.getSeparators(tripleDiference,\n                                          constDiference,\n                                          refDiference,\n                                          cardDiference,\n                                          CRefDiference));\n        });\n        return str;\n     }\n\n     //Checks if there is any triple with content\n     checkContent(){\n       let isContent = false;\n       this.triples.forEach(triple => {\n          if(triple.getType().value!=''){\n            isContent = true;\n          }\n        });\n        return isContent;\n     }\n\n\n    getLongestElement(element){\n      let size=0;\n      this.triples.forEach(triple => {\n          let value = triple[element].toString().length;\n          if(value>size)size = value;\n      });\n      return size;\n    }\n\n    /**\n    * Get the longest Constraint+ShapeRef\n    * */\n    getLongestCR(){\n      let size=0;\n      this.triples.forEach(triple => {\n          let cValue = triple.constraint.toString().length;\n          let rValue = triple.shapeRef.toString().length;\n          let value = cValue+rValue;\n          if(value>size)size = value;\n      });\n      return size;\n    }\n\n\n\n\n    getSeparators(tripleSize,constraintSize,refSize,cardSize,CRefSize){\n      return{\n        triple:this.getSeparator(tripleSize),\n        constraint:this.getSeparator(constraintSize),\n        ref:this.getSeparator(refSize),\n        card:this.getSeparator(cardSize),\n        CRef:this.getSeparator(CRefSize),\n      }\n    }\n\n    getSeparator(size){\n      let space = ' ';\n      let separator = ' ';\n      for(let i=0;i<size;i++){\n        separator+=space;\n      }\n      return separator;\n    }\n\n    //Getters and setters\n    getId(){\n      return this.id;\n    }\n\n    setId(id){\n      this.id=id;\n    }\n\n    getType(){\n      return this.type;\n    }\n\n    getTriples(){\n      return this.triples;\n    }\n\n    setTriples(triples){\n      this.triples = triples;\n    }\n\n    getTriplesCount(){\n      return this.triplesCount;\n    }\n\n    setTriplesCount(triplesCount){\n      this.triplesCount = triplesCount;\n    }\n\n    getQualifier(){\n      return this.qualifier;\n    }\n\n  }\n\nexport default Shape;","class Facet{\n\n    constructor(id,type='length',value=0){\n        this.id = id;\n        this.type = type;\n        this.value = value;\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n        return this.type;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setId(id){\n        this.id = id;\n    }\n\n    setType(type){\n        this.type = type;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n    toString(){\n        return this.type+\" \"+this.value;\n    }\n\n\n}\n\nexport default Facet;","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Prefix from '../entities/shexEntities/others/prefix';\nimport {ALL_PREFIXES} from './rdfUtils';\n\nlet prefixCount = 0;\n\nexport function getPrefix(prefix){\n    let defined = Editor.getYashe().getDefinedPrefixes();\n    return Object.keys(defined).reduce((acc,p)=>{\n      if(defined[p]==prefix) acc = new Prefix(p,defined[p]);\n      return acc;\n    },new Prefix());\n}\n\n\nexport function addPrefixComp(prefixes,width){\n    const id = prefixes.length + prefixCount++;\n    let newPrefix = new Prefix('','',id);\n    let newPrefixes = [];\n    newPrefixes = Object.assign(newPrefixes, prefixes);\n    newPrefixes.push(newPrefix);\n    emitPrefixes(newPrefixes,width);\n    return newPrefix;\n}\n\nexport function deletePrefixComp(prefixes,prefixId,width) {\n    let newPrefixes = prefixes.filter(prefix => prefix.id != prefixId);\n    emitPrefixes(newPrefixes,width);\n    return newPrefixes;\n}\n\n\nexport function addPrefix(prefix){\n        let namespaces = ALL_PREFIXES;\n        let yashe = Editor.getYashe();\n        let current = yashe.getValue();\n        let defined = yashe.getDefinedPrefixes();\n        yashe.setValue( 'PREFIX ' + prefix + ': <' + getUri() + '>\\n' + current );\n        Codemirror.signal(yashe,'prefixUpdate');\n  }\n\n\nexport function getUri(prefix,namespaces){\n  for(let def in namespaces){\n    for(let p in namespaces[def]){\n      if(p==prefix)\n        return namespaces[def][p];\n    }\n  }\n  return 'http://example.org/';\n}\n\n\nfunction getPrefixesStr(prefixes){\n  return prefixes.reduce((acc,p)=>{\n    return acc += 'PREFIX ' + p.prefixName + ': <' + p.prefixValue + '>\\n';\n  },'');\n}\n\nexport function emitPrefixes(newPrefixes,width) {\n    const yashe = Editor.getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'prefixChange',getPrefixesStr(newPrefixes),width);\n    }\n}","import TypesFactory from '../types/typesFactory';\nimport PrefixedIri from '../types/concreteTypes/prefixedIri';\nimport Prefix from './prefix';\n\nclass ValueSetValue {\n\n     constructor(id,type=new PrefixedIri(new Prefix('schema','http://schema.org/'))){\n        this.id = id;\n        this.type = type;\n        this.factory = new TypesFactory();\n    }\n\n    getType(){\n        return this.type;\n    }\n\n    setType(type){\n       this.type = this.factory.createType(type);\n     }\n\n    toString(){\n        return this.type.toString();\n    }\n\n}\n\nexport default ValueSetValue;","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Shape from '../entities/shexEntities/shape';\nimport Facet from '../entities/shexEntities/others/facet';\nimport {addPrefix} from './prefixUtils';\nimport ValueSetValue from '../entities/shexEntities/others/valueSetValue';\n\nlet shapesCount = 0;\nlet facetsCount = 0;\nlet valuesCount = 0;\n\nfunction addShape(shapes,width){\n\n    const id = shapes.length + shapesCount++;\n    const newShape = new Shape(id);\n\n    let newShapes = [];\n    newShapes = Object.assign(newShapes, shapes);\n    newShapes.push(newShape);\n    checkPrefixes();\n    emit(newShapes,width);\n    return newShape;    \n}\n\nfunction deleteShape(shapes,shapeId,confirm,width) {\n    if(!confirm){\n        confirm = window.confirm('Are you sure?');\n    }\n    if (confirm == true) {\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\n        emit(newShapes,width);\n        return newShapes;\n    }\n    return shapes;\n}\n\n\nfunction getShapeById(shapes,shapeId) {\n    return shapes.filter(function( obj ) {\n        return obj.id == shapeId\n    })[0];\n}\n\nfunction getShapeByName(shapes,name) {\n    return shapes.filter(s=>{\n        return s.getType().toString() == name;\n    })[0];\n}\n\n\nfunction getTripleById(shape,tripleId) {\n    return shape.getTriples().filter(function( obj ) {\n        return obj.id == tripleId\n    })[0];\n}\n\n\nfunction emit(newShapes,width) {\n    const yashe = Editor.getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'humanEvent',newShapes,width);\n        checkPrefixes();\n    }\n}\n\nfunction checkPrefixes(){\n    if(!hasPrefix('')) addPrefix('');\n    if(!hasPrefix('schema')) addPrefix('schema');\n    if(!hasPrefix('xsd')) addPrefix('xsd');\n}\n\nfunction hasPrefix(prefix){\n    const defs = Editor.getYashe().getDefinedPrefixes();\n    return Object.keys(defs).filter(p=>{\n        return p==prefix;\n    }).length > 0 ? true:false;\n}\n\n\nfunction addValueSetValue(values){\n    const id = values.length + valuesCount++;\n    return new ValueSetValue(id);    \n}\n\n\nfunction addFacet(facets){\n    const id = facets.length + facetsCount++;\n    return new Facet(id);    \n}\n\n\n\nconst shexUtils = {\n    addShape:addShape,\n    deleteShape:deleteShape,\n    getShapeById:getShapeById,\n    getShapeByName:getShapeByName,\n    getTripleById:getTripleById,\n    emit:emit,\n    addFacet:addFacet,\n    addValueSetValue:addValueSetValue\n}\n\nexport default shexUtils;","\nimport Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport shexUtils from './shexUtils';\n\nimport  Shape from '../entities/shexEntities/shape';\nimport  Triple from '../entities/shexEntities/triple';\n\nimport TypesFactory from '../entities/shexEntities/types/typesFactory';\nimport CardinalityFactory from '../entities/shexEntities/others/cardinality/cardinalityFactory';\nimport Facet from '../entities/shexEntities/others/facet';\n\nimport PrefixedIri from '../entities/shexEntities/types/concreteTypes/prefixedIri';\nimport IriRef from '../entities/shexEntities/types/concreteTypes/iriRef';\nimport BNode from '../entities/shexEntities/types/concreteTypes/bNode';\nimport Primitive from '../entities/shexEntities/types/concreteTypes/primitive';\nimport ValueSet from '../entities/shexEntities/types/concreteTypes/valueSet';\n\nimport Literal from '../entities/shexEntities/types/concreteTypes/kinds/literal';\nimport NonLiteral from '../entities/shexEntities/types/concreteTypes/kinds/nonLiteral';\nimport IriKind from '../entities/shexEntities/types/concreteTypes/kinds/iriKind';\nimport BNodeKind from '../entities/shexEntities/types/concreteTypes/kinds/bNodeKind';\nimport BlankKind from '../entities/shexEntities/types/concreteTypes/kinds/blankKind';\n\nimport NumberLiteral from '../entities/shexEntities/types/concreteTypes/literal/numberLiteral';\nimport StringLiteral from '../entities/shexEntities/types/concreteTypes/literal/stringLiteral';\nimport BooleanLiteral from '../entities/shexEntities/types/concreteTypes/literal/booleanLiteral';\n\n\n\nimport Prefix from '../entities/shexEntities/others/prefix';\nimport ShapeRef from '../entities/shexEntities/others/shapeRef';\nimport ValueSetValue from '../entities/shexEntities/others/valueSetValue';\n\n\n\n//HAY QUE METER TODOS (Update... igual no hace falta...)\nconst PRIMITIVES = ['string','integer','date','boolean'];\n\n\nlet refs;\n/**\n*   Obtains all the current tokens in the editor\n*   @return {Array} tokens\n*\n */\nfunction getTokens(){\n    let yashe = Editor.getYashe();\n    let tokens =[];\n    if(yashe!=undefined){\n        for (var l = 0; l < yashe.lineCount(); ++l) {\n            let lineTokens = getNonWsTokens(yashe.getLineTokens(l));\n            lineTokens.forEach(token =>{\n                tokens.push(token);\n            })\n\n        }\n    }\n    return tokens;\n}\n\n/**\n*   Split the tokens into Shapes\n*   @param {Array} Tokens\n*   @return {Array} Defined Shapes (Array of Token's arrays)\n*\n */\nfunction getDefinedShapes(tokens){\n    let shape = []\n    let brackets=0\n    let shapeCont = 0;\n    let hasTripleStarted = false;\n    //Separate shapes in arrays\n    return tokens.reduce((acc,element)=>{\n\n        if(element.type == 'shape'){\n            shape = [];\n            shape.push(element)\n            acc[shapeCont]=shape;\n            shapeCont++;\n        }else{\n            // IMPORTANT \n            // We could do just shape.push(element) but if there \n            // are directives between shapes we will push that directives into the shape   \n            if(element.string == '{'){\n                hasTripleStarted=true;\n            }\n             \n            if(hasTripleStarted){\n                //Get the tokens while it's from the inside of the shape\n                if(element.string == '{')brackets++;\n                if(element.string == '}')brackets--;\n                if(brackets!=0)shape.push(element);\n                //if(brackets==0)hasTripleStarted = false\n             }else{\n                 //Get the previous tokens before the triples\n                 shape.push(element);\n             }\n        }\n\n        return acc;\n\n    },[]);\n}\n\n/**\n* Get the Shapes objects\n* @param {Array} Shapes (Array of Token's arrays)\n*\n */\nfunction getShapes(defShapes){\n    refs = [];\n    return defShapes.reduce((acc,shape)=>{\n        let id  = acc.length;\n        let shapeDef = shape[0].string;\n        let shapeType = getType(shapeDef);\n        let qualifier = getQualifier(shape[1]);\n        let triples = getTriples(id,shape);\n\n        acc.push(new Shape(id,shapeType,triples,qualifier));\n        return acc;\n\n    },[])\n}\n/**\n* Get the type of the Shape or Triple\n* @param {String} Shape or Triple\n*\n */\nfunction getType(def) {\n    let value;\n    let yashe = Editor.getYashe();\n    if(def.startsWith('<')){\n        value = def.split('<')[1].split('>')[0];\n        return new IriRef(value);\n    }else if(def.startsWith('_:')){\n        value = def.split(':')[1];\n        return new BNode(value);\n    }else{\n        value = def.split(':')[1];\n        let prefixName = def.split(':')[0];\n        let prefixValue = getPrefixValue(prefixName)\n        let prefix = new Prefix(prefixName,prefixValue);\n        return new PrefixedIri(prefix,value);\n    }\n}\n\n\n/**\n*   Get the Qualifier\n*   @param {Token} First token next to the ShapeExprLabel\n*   @return {Type}\n*\n*/\nfunction getQualifier(qualifier) {\n    if(qualifier){\n        if(qualifier.type == 'constraintKeyword'){\n            let type = qualifier.string.toLowerCase();\n            return new TypesFactory().createType(type);\n        }\n    }\n    return new BlankKind();\n}\n\n\n/**\n*   Get an array of Triples\n*   @param {Integer} shapeId\n*   @param {Array} Shape (Tokens)\n*\n* */\nfunction getTriples(shapeId,shape) {\n        let triples = [];\n        let singleTriple = [];\n        let yashe = Editor.getYashe();\n        let tTokens = getTripleTokens(shape);\n        return tTokens.reduce((acc,token,index)=>{\n            singleTriple.push(token);\n            if(isEndOfTriple(token,index,tTokens)){\n                acc.push(getTriple(acc.length,singleTriple,shapeId));\n                singleTriple = [];\n            }\n            return acc;\n        },[])\n}\n\n\n/**\n*    Get a Triple Object from a line of tokens\n*    @param {Array} Triples\n*    @param {Array} LineTokens\n*    @param {Integer} ShapeId\n*/\nfunction getTriple(id,singleTriple,shapeId) {   \n    let type;\n    let constraint;\n    let valueSet = [];\n    let facets = [];\n    let cardinality= new TypesFactory().createType('');\n    let shapeRef = new ShapeRef();\n\n    //I am using a for loop just because of the facets (see line 233)\n    for(let i=0;i<singleTriple.length;i++){\n        let token = singleTriple[i];\n        if(token.type == 'string-2' || token.type == 'variable-3'){\n            type = getType(token.string);\n        }\n        if(token.type == 'constraint' || token.type == 'constraintKeyword' ){\n            constraint = getConstraint(token.string);\n        }\n        \n\n        if(token.type == 'valueSet'){\n            if(token.string.startsWith('@')){// LANTAG NOT SUPPORTED AT THE MOMENT\n                Codemirror.signal(Editor.getYashe(),'forceError','LANTAG_ERR');\n            }else{\n                 valueSet.push(new ValueSetValue(valueSet.length,getValueSetValue(token.string)));\n            }\n        }\n\n        if(token.type == 'shapeRef' ){\n            let ref = getRefName(token.string);\n            refs.push(\n                    {\n                        shapeId:shapeId,\n                        tripleId:id,\n                        shapeRef:ref\n                    }\n                );\n        }\n\n        if(token.type == 'facet'){\n            i++;//I Need the next value\n            let value = singleTriple[i].string;\n            let id =facets.length;\n            let type = token.string.toLowerCase();\n            facets.push(new Facet(id,type,value));\n        }\n\n\n        if(token.type == 'cardinality'){\n          cardinality=getCardinality(token.string);\n        }\n        \n        if( token.type != 'string-2' && \n            token.type != 'variable-3' &&\n            token.type != 'constraint' && \n            token.type != 'constraintKeyword' && \n            token.type != 'valueSet' && \n            token.type != 'shapeRef' && \n            token.type != 'facet' && \n            token.type != 'cardinality' && \n            token.type != 'punc' &&\n            token.type !='comment'){\n\n            Codemirror.signal(Editor.getYashe(),'forceError');\n        }\n\n       \n        // Force errors in case to find one of the following tokens\n\n        if(token.string == '~'){\n            Codemirror.signal(Editor.getYashe(),'forceError','EXCLUSION_ERR');\n        }\n\n        if(token.string == '('){\n            Codemirror.signal(Editor.getYashe(),'forceError','PARENTHESIS_ERR');\n        }\n            \n\n        if(token.string == '{'){\n            Codemirror.signal(Editor.getYashe(),'forceError','INLINESHAPE_ERR');\n        }\n  \n    }\n    if(valueSet.length>0)constraint=new ValueSet(valueSet);\n    return new Triple(id,type,constraint,shapeRef,facets,cardinality);\n}\n\n/**\n*   Get the triple tokens. We start collecting the tokens after find '{' token\n*   @param {Array} Shape (Tokens)\n*   @return {Array} Tokens\n*\n*/\nfunction getTripleTokens(shape){\n    let start=false;\n    return shape.reduce((acc,t)=>{\n        if(start)acc.push(t);\n        if(t.string=='{')start=true;\n        return acc;\n    },[])\n}\n\n/**\n * Returns true in case the token represent the end of a Triple\n * @param {Object} Token\n * @param {Integer} Index\n * @param {Array} TripleTokens\n *\n */\nfunction isEndOfTriple(token,index,tTokens){\n    if((token.type == 'punc' &&  token.string==';')// finish of the triple ';' \n        || index==tTokens.length-1){  // finish of the last triple without ';'\n\n        return true;\n    }\n    return false;\n}\n\n\n/**\n*   Get the constraint of the Triple\n*   @param {String} Token\n*   @return {Type}\n*/\nfunction getConstraint(def) {\n    let factory = new TypesFactory();\n    let type = factory.createType(def.toLowerCase());\n    //Isn't a Prefixed/Iri/Primitive?\n    if(type!=undefined)return type;\n\n    type = getType(def);\n    //Is a Primitive?\n    if(type.getTypeName() == 'prefixedIri' && isPrimitive(type.value)){\n        let kind = def.split(':')[1];\n        return new Primitive(kind);\n    }\n\n    return type;\n}\n\n\n/**\n*   Get the Cardinality Object\n*   @param {String} Cardinality\n*   @return {Cardinality|String} Cardinality\n* */\nfunction getCardinality(card){\n    let factory = new CardinalityFactory();\n    if(card.length==1)return factory.createCardinality(card);//Is it a simple card?\n    let range = card.split('{')[1].split('}')[0].split(','); //I know...\n    let min = range[0];\n    let max;\n    if(range.length>1){\n        max = range[1];\n    }\n\n    let context = 'range';\n    if(max == undefined){\n        context = 'exactly';\n    }\n    if(max == '' || max == '*'){\n        context = 'minLimit';\n    }\n\n    return factory.createCardinality(context,min,max);\n}\n\n\n/**\n* Get the type of a valueSetValue\n* @param {String} Token\n* @return {Type} ValueSetValue\n*\n */\nfunction getValueSetValue(def) {\n    let value = def.toLowerCase();\n    if(!isNaN(def)) return new NumberLiteral(def);\n    if(def.startsWith('\"')) return new StringLiteral(def.substring(1,def.length-1));//remove the \"\"\n    if(value == 'true' || value == 'false') return new BooleanLiteral(value);\n    return getType(def);\n}\n\n\nfunction updateShapeRefs(shapes) {\n    for(let r in refs){\n        let shapeId = refs[r].shapeId;\n        let tripleId = refs[r].tripleId;\n        let ref = refs[r].shapeRef;\n\n        let shape = shexUtils.getShapeById(shapes,shapeId);\n        let triple = shexUtils.getTripleById(shape,tripleId);\n        let shapeRef = shexUtils.getShapeByName(shapes,ref);\n\n        triple.shapeRef.setShape(shapeRef);\n    }\n}\n\n\n/**\n * Returns the value of a specific prefix by its alias\n * @param {String} prefixName\n * @return {String} prefixValue\n *\n */\nfunction getPrefixValue(prefixName){\n    let defPrefixes = Editor.getYashe().getDefinedPrefixes();\n    return defPrefixes[Object.keys(defPrefixes).filter(p=>{\n        return p==prefixName;\n    })]; \n}\n\n\n/**\n * Returns true if the value is a primitive Type: \n * ['string','integer','date','boolean']\n * @param {String} Value\n * @return {Boolean} \n *\n */\nfunction isPrimitive(value) {\n    return PRIMITIVES.reduce((acc,p)=>{\n        if(p == value) acc=true;\n        return acc;\n    },false)\n}\n\n/**\n * Returns the name of the shapeRef. It just remove the @\n * @param {String} ShapeRef\n * @return {String} ShapeName\n */\nfunction getRefName(ref) {\n    return ref.split('@')[1];\n}\n\n\n/**\n * Returns all the tokens except ws tokens (eg: WhiteSpaces)\n * @param {Array} Tokens\n * @return {Array} Tokens\n *\n*/\nfunction getNonWsTokens(tokens){\n    return tokens.filter(function(obj){\n        return obj.type != 'ws';\n    })\n}\n\nconst tokenUtils = {\n    getTokens:getTokens,\n    getDefinedShapes:getDefinedShapes,\n    getShapes:getShapes,\n    updateShapeRefs:updateShapeRefs\n}\n\nexport default tokenUtils;","class CardinalityExactly{\n\n    constructor(min=1){\n        this.min = min;\n    }\n\n    getCardType(){\n        return 'exactly';\n    }\n\n    toString(){\n        return '{'+this.min+'}';\n    }\n\n}\n\nexport default CardinalityExactly;","class CardinalityMinLimit{\n\n    constructor(min=1){\n        this.min = min;\n    }\n\n    getCardType(){\n        return 'minLimit';\n    }\n\n    toString(){\n        return '{'+this.min+',*}';\n    }\n\n}\n\nexport default CardinalityMinLimit;","class CardinalityRange{\n\n    constructor(min=1,max=10){\n        this.min = min;\n        this.max = max;\n    }\n\n    getCardType(){\n        return 'range';\n    }\n\n    toString(){\n        return '{'+this.min+','+this.max+'}';\n    }\n\n}\n\nexport default CardinalityRange;","class CardinalitySimple{\n\n    constructor(value=' '){\n        this.value = value;\n    }\n\n    getCardType(){\n        return this.value;\n    }\n\n    toString(){\n        return this.value;\n    }\n\n}\n\nexport default CardinalitySimple;","import CardinalityExactly from './cardinalityExactly';\nimport CardinalityMinLimit from './cardinalityMinLimit';\nimport CardinalityRange from './cardinalityRange';\nimport CardinalitySimple from './cardinalitySimple';\n\nclass CardinalityFactory{\n\n    createCardinality(type,min,max){\n\n        if(type == 'exactly'){\n            return new CardinalityExactly(min);\n        }\n\n        if(type == 'minLimit'){\n            return new CardinalityMinLimit(min);\n        }\n\n        if(type == 'range'){\n            return new CardinalityRange(min,max);\n        }\n\n        return new CardinalitySimple(type);\n \n    }\n\n\n}\n\nexport default CardinalityFactory;","import Shape from'../shape';\n\nclass ShapeRef{\n\n    constructor(shape=null){\n        this.shape = shape;\n    }\n\n\n    getShape(){\n        return this.shape;\n    }\n\n    setShape(shape){\n        this.shape = shape;\n    }\n\n\n    toString(){\n        if(this.shape){\n           let shapeRef = this.shape.getType().toString();\n           return '@'+shapeRef;\n        }\n\n        return '';\n    }\n\n\n}\n\nexport default ShapeRef;","export const DEFAULTS = {\n    sincronize:true,\n    pretty:'pretty2',\n    saveColors:true,\n}","import TypesFactory from './types/typesFactory';\nimport CardinalityFactory from './others/cardinality/cardinalityFactory';\nimport CardinalitySimple from './others/cardinality/cardinalitySimple';\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\nimport Primitive from './types/concreteTypes/primitive';\nimport ShapeRef from './others/shapeRef';\nimport Prefix from './others/prefix';\nimport {DEFAULTS} from '../../conf/config.js';\nimport Shape from './shape';\n\nclass Triple {\n\n    constructor(id,type=new PrefixedIri(new Prefix('schema','http://schema.org/')),constraint=new Primitive(),shapeRef=new ShapeRef(),facets=[],cardinality=new CardinalitySimple()) {\n        this.id = id;\n        this.type = type;\n        this.constraint = constraint;\n        this.shapeRef = shapeRef;\n        this.facets = facets;\n        this.cardinality = cardinality;\n        this.factory = new TypesFactory();\n        this.cardFactory = new CardinalityFactory();\n      }\n      \n    addValue(constraint){\n        this.constraints.push(constraint);\n        this.constraintsCount++;\n    }\n    \n    addFacet(facet){\n        this.facets.push(facet);\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n    setType(type){\n       this.type = this.factory.createType(type);\n     }\n\n    setConstraint(constraint){\n        this.constraint = this.factory.createType(constraint);\n    }\n\n    setCardinality(cardinality,min,max){\n        this.cardinality = this.cardFactory.createCardinality(cardinality,min,max);\n    }\n\n    getShapeRef(){\n        return this.shapeRef;\n    }\n\n    setShapeRef(shapeRef){\n        this.shapeRef = shapeRef;\n    }\n\n\n    getFacets(){\n        return this.facets;\n    }\n\n    setFacets(facets){\n        this.facets = facets;\n    }\n\n    getConstraint(){\n       return this.constraint;\n    }\n\n\n    getCardinality(){\n        return this.cardinality;\n    }\n\n\n\n    toString(separators){\n        let str='';\n        let type=this.getType();\n        let constraint = this.getConstraint();\n        let facets = this.getFacets();\n        let shapeRef = this.getShapeRef();\n        let cardinality = this.getCardinality();\n        separators = this.checkPrettyOptions(separators);\n        let tripleSeparator = separators.triple; \n        let constSeparator = separators.constraint; \n        let refSeparator = separators.ref;\n        let cardSeparator = separators.card;\n \n        if(type.value!=''){\n            str+= '  '+type+tripleSeparator;\n            str+= this.checkFacets();\n            if(facets){\n                facets.map(f=>{\n                    str+=' '+f+' ';\n                })\n            }\n            if(constraint.value=='' && DEFAULTS.pretty!='pretty3' ){\n                constSeparator='';\n                refSeparator+=' ';\n            }\n            str+=constSeparator+shapeRef\n                +refSeparator+cardinality\n                +cardSeparator+';\\n';\n        }\n        return str;\n\n    }\n\n    checkPrettyOptions(separators){\n\n        if(DEFAULTS.pretty=='none'){\n            separators.triple=' ';\n            separators.constraint=' ';\n            separators.ref=' ';\n        }\n        if(DEFAULTS.pretty=='pretty1'){\n            separators.constraint=' ';\n            separators.ref=' ';\n        }\n        if(DEFAULTS.pretty=='pretty2'){\n            separators.constraint=' ';\n            separators.ref=separators.CRef;\n        }\n        \n        //default pretty3\n        return separators;\n    }\n\n    /**\n    * If none constraint and there are facets don't print the '.'\n     */\n    checkFacets(){\n        let constraint = this.getConstraint();\n        let shapeRef = this.getShapeRef();\n        if(this.facets.length>0){\n             if(constraint.getTypeName()!='Primitive' \n                && constraint.value!='none'){\n                    return constraint+' ';\n                }\n            return '';\n        }\n        return constraint;\n    }\n\n\n\n\n}\n\nexport default Triple;","import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\nimport Prefix from '../entities/shexEntities/others/prefix';\n\nlet prefixCount = 0;\n\nfunction getShapes(){\n  let tokens = tokenUtils.getTokens();\n  let defShapes = tokenUtils.getDefinedShapes(tokens);\n  let newShapes = tokenUtils.getShapes(defShapes);\n\n  tokenUtils.updateShapeRefs(newShapes);\n\n  return newShapes;\n}\n\nfunction getPrefixes(){\n  let defP = Editor.getYashe().getDefinedPrefixes();\n  return Object.keys(defP).reduce((acc,p)=>{\n    let id = acc.length + prefixCount++;\n    acc.push(new Prefix(p,defP[p],id))\n    return acc;\n  },[]);\n}\n\nfunction draw(yashe,shapes,prefixes){\n    let newContent=prefixes;\n    if(!prefixes)newContent = getPrefixesStr(yashe);\n  \n    yashe.setValue(shapes.reduce((acc,s) => {\n        return acc+=s.toString();\n    },newContent));\n}\n\nfunction getPrefixesStr(yashe){\n    let defP = yashe.getDefinedPrefixes();\n    return Object.keys(defP).reduce((acc,p)=>{\n      return acc+='PREFIX '+p+':    <'+defP[p]+'>\\n';\n    },'');\n}\n\nfunction getSchema(){\n    return Editor.getYashe()?.getValue();\n  }\n\n\n\nfunction debounce(func, wait, immediate) {\n    let timeout; let result;\n    return function() {\n        const context = this; \n        const args = arguments;\n        const later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(context, args);\n        return result;\n    };\n};\n\n const yasheUtils = {\n      getShapes:getShapes,\n      getPrefixes:getPrefixes,\n      draw:draw,\n      getSchema:getSchema,\n      debounce:debounce\n  }\n\n  export default yasheUtils;\n","export const defaultExample = \n\n'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+\n'  schema:name          xsd:string   ;\\n'+\n'  schema:birthDate     xsd:date   ? ;\\n'+\n'  schema:birthPlace    xsd:string + ;\\n'+\n'  schema:knows         @:User     *  \\n'+\n'}\\n';\n","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\n\nimport {defaultExample} from '../galery/defaultExample';\nimport {wikiExample} from '../galery/wikiExample';\n\nexport function readFile(files){\n    //Only one file allowed\n    if(files.length>1){\n        return;\n    }\n\n    var file = files[0];\n    //Only ShEx files allowed\n    if(!file.name.endsWith('.shex')){\n        return;\n    }\n    var reader = new FileReader();\n    reader.onload = function(event) {\n        Editor.getYashe().setValue(event.target.result)\n    };\n\n    reader.readAsText(file);\n    Codemirror.signal(Editor.getYashe(),'upload');\n}\n\nexport function downloadFile(){\n    var textFileAsBlob = new Blob([ Editor.getYashe().getValue() ], { type: 'text/shex' });\n    var fileNameToSaveAs = \"document.shex\";\n\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.download = fileNameToSaveAs;\n    downloadLink.innerHTML = \"Download File\";\n    if (window.URL != null) {\n        // Chrome allows the link to be clicked without actually adding it to the DOM.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    } else {\n        // Firefox requires the link to be added to the DOM before it can be clicked.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        downloadLink.style.display = \"none\";\n        document.body.appendChild(downloadLink);\n    }\n    downloadLink.click();\n}\n\nexport function changeTheme(){\n    let yashe = Editor.getYashe();\n    var themeValue = 'wiki'\n    var color = 'black'\n    if(yashe.getOption('theme') == 'wiki'){\n        themeValue='dark'\n        color = 'white'\n        document.getElementById(\"downloadBtn\").classList.add('light');\n        document.getElementById(\"copyBtn\").classList.add('light');\n        document.getElementById(\"deleteBtn\").classList.add('light');\n        document.getElementById(\"themeBtn\").classList.add('light');\n        document.getElementById(\"smallBtn\").classList.add('light');\n        document.getElementById(\"fullBtn\").classList.add('light');\n        document.getElementById(\"uploadBntLabel\").classList.add('light');\n    }else{\n        document.getElementById(\"downloadBtn\").classList.remove('light');\n        document.getElementById(\"copyBtn\").classList.remove('light');\n        document.getElementById(\"deleteBtn\").classList.remove('light');\n        document.getElementById(\"themeBtn\").classList.remove('light');\n        document.getElementById(\"smallBtn\").classList.remove('light');\n        document.getElementById(\"fullBtn\").classList.remove('light');\n        document.getElementById(\"uploadBntLabel\").classList.remove('light');\n    }\n    \n    yashe.setOption(\"theme\",themeValue)\n    Codemirror.signal(yashe,'themeChange');\n\n}\n\nexport function loadExample(example){\n    let yashe = Editor.getYashe();\n    if(example=='default'){\n        yashe.setValue(defaultExample)\n    }else{\n        yashe.setValue(wikiExample)\n    }\n    setTimeout(() => {//needed\n        Codemirror.signal(yashe,'galery');\n    }, 10); \n}\n\nexport function scrollTop(){\n    window.scrollTo(0, 0);\n}\n\n\nexport function undo(){\n    let yashe = Editor.getYashe();\n    yashe.undo();\n}\n\nexport function redo(){\n    let yashe = Editor.getYashe();\n    yashe.redo();\n}\n","\nexport const wikiExample = \n'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n'+\n'PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n'+\n'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt: <http://www.wikidata.org/prop/direct/>\\n\\n'+\n\n'start = @<human>\\n\\n'+\n\n'<human> EXTRA wdt:P31 {\\n'+\n'  wdt:P31    [wd:Q5];\\n'+\n'  wdt:P21    [wd:Q6581097 wd:Q6581072 wd:Q1097630 wd:Q1052281 wd:Q2449503 wd:Q48270]?;\\n'+\n'  wdt:P19    . ? ;\\n'+\n'  wdt:P569   . ? ;\\n'+\n'  wdt:P735   . * ;\\n'+\n'  wdt:P734   . * ;\\n'+\n'  wdt:P106   . * ;\\n'+\n'  wdt:P27    @<country> *;\\n'+\n'  wdt:P22    @<human> *;\\n'+\n'  wdt:P25    @<human> *;\\n'+\n'  wdt:P3373  @<human> *;\\n'+\n'  wdt:P26    @<human> *;\\n'+\n'  wdt:P40    @<human> *;\\n'+\n'  wdt:P1038  @<human> *;\\n'+\n'  wdt:P103   @<language> *;\\n'+\n'  wdt:P1412  @<language> *;\\n'+\n'  wdt:P6886  @<language> *;\\n'+\n'  rdfs:label rdf:langString+;\\n'+\n'}\\n\\n'+\n\n'<country> EXTRA wdt:P31 {\\n'+\n'  wdt:P31 [wd:Q6256 wd:Q3024240 wd:Q3624078] +;\\n'+\n'}\\n\\n'+\n\n'<language> EXTRA wdt:P31 {\\n'+\n'  wdt:P31 [wd:Q34770 wd:Q1288568] +;\\n'+\n'}';\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport yasheUtils from '../../../utils/yasheUtils';\nimport {undo} from '../../../utils/toolbarUtils';\n\nfunction UndoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleUndo = function(){\n        undo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            //context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Undo\"\n                onClick={handleUndo}>\n                undo\n        </button> );\n    \n  \n}\n\n\nexport default UndoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {redo} from '../../../utils/toolbarUtils';\nimport yasheUtils from '../../../utils/yasheUtils';\n\nfunction RedoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRedo = function(){\n        redo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            //context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Redo\"\n                onClick={handleRedo}>\n                redo\n        </button> );\n    \n}\n\n\nexport default RedoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {readFile} from '../../../utils/toolbarUtils';\n\nfunction UploadBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRead = function(e){\n        readFile(e.target.files);\n    }\n\n    return (\n        <div className=\"svgBtnCont uploadBtn\">\n            <input  type=\"file\" \n                    onChange={handleRead} \n                    accept=\".shex\" \n                    name=\"file-1[]\" \n                    id=\"file-1\" \n                    className=\"inputfileBtn\" \n                    data-multiple-caption=\"{count}'+'files selected\" \n                    multiple \n                    onChange={handleRead}/>\n\n            <label  className=\"svgBtn\" \n                    htmlFor=\"file-1\"\n                    title=\"Upload\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \n                        width=\"25\" \n                        height=\"30\" \n                        viewBox=\"0 0 20 17\">\n                        <path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/>\n                    </svg>\n            </label>\n        </div> );\n    \n  \n}\n\nexport default UploadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {downloadFile} from '../../../utils/toolbarUtils';\n\nfunction DownloadBtn () {\n\n    const context = useContext(AppContext);\n\n\n    return (\n        <button className=\"svgBtnCont\"\n                type=\"button\" \n                title=\"Download\"\n                onClick={downloadFile}>\n                <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    baseProfile=\"tiny\" \n                    viewBox=\"0 0 100 100\">\n                    <path d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/>\n                </svg>\n        </button>  );\n    \n  \n}\n\nexport default DownloadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {changeTheme} from '../../../utils/toolbarUtils';\n\nfunction ChangeThemeBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button  className=\"svgBtnCont\" \n                  type=\"button\" \n                  title=\"Theme\"\n                  onClick={changeTheme}>\n                  <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    viewBox=\"0 0 24 24\">\n                    <path fill=\"none\" d=\"M24 0H0v24h24V0z\"/>\n                    <path d=\"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z\"/>\n                  </svg>\n        </button>  );\n    \n  \n}\n\nexport default ChangeThemeBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {loadExample} from '../../../utils/toolbarUtils';\n\nfunction GaleryBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <div className=\"dropdown\" title=\"Galery\">\n            <button className=\"dropdown-toggle  \n                            mdc-icon-button material-icons \n                                btns selector\" \n                    type=\"button\" \n                    data-toggle=\"dropdown\">\n                    folder_open\n                    <span className=\"caret\"></span>\n            </button>\n            <ul className='dropdown-menu'>\n                <li>\n                    <div id='prefixesDropdown'>  \n                        <button className=\"form-control\"\n                                onClick={()=>loadExample('default')}>\n                                User\n                        </button>\n                       <button className=\"form-control\"\n                                onClick={()=>loadExample('wiki')}>\n                                E10: Human\n                        </button>\n                    </div>\n                </li>\n            </ul>\n        </div>  );\n    \n  \n}\n\nexport default GaleryBtn;\n\n\n/*\n\n <button className=\"form-control\" \n                                onClick={()=>loadExample('wiki')}>\n                                Wikidata\n                        </button>*/","import React,{useContext} from 'react';\nimport Codemirror from 'codemirror';\nimport {AppContext} from '../../../App';\nimport  Editor from '../../../entities/editor';\n\nfunction DeleteAllBtn () {\n\n    const context = useContext(AppContext);\n\n    const  deleteShapes = function(){\n        if(window.confirm('Are you sure?')){\n            //Needed for visualize\n            setTimeout(() => {\n                context.replaceShapes([]);    \n            }, 10);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reason...\n            // It's something about react state\n            let yashe = Editor.getYashe();\n            yashe.setValue('');\n            Codemirror.signal(yashe,'delete');\n        }\n    }\n\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 title=\"Delete all\"\n                 onClick={deleteShapes}>\n                 delete_outline\n            </button>  );\n    \n  \n}\n\nexport default DeleteAllBtn;\n\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport  Editor from '../../../entities/editor';\nimport {scrollTop} from '../../../utils/toolbarUtils';\n\nfunction ScrollBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 type=\"button\" \n                 title=\"Up\"\n                 onClick={scrollTop}>\n                 arrow_upward\n        </button>   );\n    \n  \n}\n\nexport default ScrollBtn;\n\n\n\n\n","import React, {useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../App'; \nimport AssistBtn from './toolbar/AssistBtn';\nimport VisualizeBtn from './toolbar/VisualizeBtn';\nimport UndoBtn from './toolbar/UndoBtn';\nimport RedoBtn from './toolbar/RedoBtn';\nimport UploadBtn from './toolbar/UploadBtn';\nimport DownloadBtn from './toolbar/DownloadBtn';\nimport ChangeThemeBtn from './toolbar/ChangeThemeBtn';\nimport GaleryBtn from './toolbar/GaleryBtn';\nimport DeleteAllBtn from './toolbar/DeleteAllBtn';\nimport ScrollBtn from './toolbar/ScrollBtn';\n\nimport '../../css/navComponents/Toolbar.css';\n\n\nfunction Toolbar () {\n\n    const context = useContext(AppContext);\n\n    return (\n    <Collapse isOpen={context.isToolBarOpen} className=\"col-xs-1 toolbarCollapse\">\n        <div className='toolbar'>\n                <div className='toolbarTop'>                    \n                    <AssistBtn/>\n                    <VisualizeBtn/>\n                    <UndoBtn/>\n                    <RedoBtn/>\n                    <UploadBtn/>\n                    <DownloadBtn/>\n                    <ChangeThemeBtn/>\n                    <GaleryBtn/>\n                    <DeleteAllBtn/>\n                </div>                     \n\n                <div className='toolbarBottom'>\n                    <ScrollBtn/> \n                </div>\n        </div>\n    </Collapse>);\n    \n    \n}\n\n\nexport default Toolbar;\n","export function makeItResponsive(width){\n        \n        //TimeOut need to take all the elements after render the DOM\n        setTimeout(() => {\n        let tabs = document.getElementsByClassName(\"xs-tabs\")[0];\n        let shapeHeaders = document.getElementsByClassName(\"xs-header\");\n        let tripleHeaders = document.getElementsByClassName(\"xs-tripleHeader\");\n        let addTripleBtns = document.getElementsByClassName(\"xs-addTripleButton\");\n        let addShapeBtns = document.getElementsByClassName(\"xs-addShapeButton\");\n        let grids = document.getElementsByClassName(\"xs-gridBox\");\n        let customs = document.getElementsByClassName(\"xs-customConstraint\");\n        let prefixes = document.getElementsByClassName(\"xs-prefixHeader\");\n        let prefixesColors = document.getElementsByClassName(\"xs-prefixHeaderColors\");\n        let pickers = document.getElementsByClassName(\"xs-pickers\");\n\n        let tabClass = 'xs-tabs';\n        let shClass = 'xs-header';\n        let thClass = 'xs-tripleHeader';\n        let adTClass = 'xs-addTripleButton';\n        let adSClass = 'xs-addShapeButton';\n        let grClass = 'xs-gridBox';\n        let ccClass = 'xs-customConstraint';\n        let prClass = 'xs-prefixHeader';\n        let prcClass = 'xs-prefixHeaderColors';\n        let picClass = 'xs-pickers';\n        if(width>600){\n            tabClass += ' tabs';\n            shClass += ' header';\n            thClass += ' tripleHeader';\n            adTClass += ' addTripleButton';\n            adSClass += ' addShapeButton';\n            grClass  += ' gridBox';\n            ccClass += ' customConstraint';\n            prClass += ' prefixHeader';\n            prcClass += ' prefixHeaderColors';\n            picClass += ' pickers';\n        }\n\n        \n        tabs.className = tabClass;\n\n\n        getKeys(shapeHeaders).forEach(element => {\n            shapeHeaders[element].className = shClass;\n        });\n        \n        getKeys(tripleHeaders).forEach(element => {\n            tripleHeaders[element].className = thClass;\n        });\n\n        getKeys(addTripleBtns).forEach(element => {\n            addTripleBtns[element].className = adTClass;\n        });\n\n        getKeys(addShapeBtns).forEach(element => {\n            addShapeBtns[element].className = adSClass;\n        });\n\n        getKeys(grids).forEach(element => {\n            grids[element].className = grClass;\n        });\n\n        getKeys(customs).forEach(element => {\n            customs[element].className = ccClass;\n        });\n\n        getKeys(prefixes).forEach(element => {\n            prefixes[element].className = prClass;\n        });\n\n        getKeys(prefixesColors).forEach(element => {\n            prefixesColors[element].className = prcClass;\n        });\n\n        getKeys(pickers).forEach(element => {\n            pickers[element].className = picClass;\n        });\n\n\n    }, 0);\n        \n}\n\n\nfunction getKeys(collection){\n    return Object.keys(collection);\n}\n\nexport function activeTab(evt){\n        let i;\n        let tablinks;\n\n        tablinks = document.getElementsByClassName(\"tablink\");\n        for (i = 0; i < tablinks.length; i++) {\n            tablinks[i].className = tablinks[i].className.replace(\" activeTab\", \"\");\n        }\n        evt.currentTarget.className += \" activeTab\";\n}\n\n\nexport function checkShapeName(shape){\n    let name = shape.type.value;\n    let type = shape.type.getTypeName();\n    let id = shape.id;  \n    setTimeout(() => {\n        /*\n        if(!name.match(new RegExp('^[a-zA-Z0-9_.-]*$')) && type == 'prefixedIri'){\n            return changeClass('sTriples'+id,'hidden');\n        }\n        */\n\n        if(name =='')return changeClass('addTriple'+id,'disabled');\n        \n\n        changeClass('addTriple'+id,'addTripleButton');\n\n    }, 0);\n        \n}\n\n\nfunction changeClass(before,after){\n    let triples = document.getElementsByClassName(before)[0];\n    if(triples)triples.className = before+' '+after;\n    \n}\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {AssistContext} from '../Assistant';\nimport {activeTab} from '../../../utils/cssUtils';\n\nfunction AssistTitle (props) {\n\n    const context = useContext(AppContext);\n    const asssistContext = useContext(AssistContext);\n\n    const handleShapes = function(evt){\n        closeAll();\n        asssistContext.setAssistOpen(true);\n        activeTab(evt);\n    }\n\n    const handlePrefixes = function(evt){\n        closeAll();\n        asssistContext.setPrefixesOpen(true);\n        activeTab(evt);\n    }\n\n    const handleColors = function(evt){\n        closeAll();\n        asssistContext.setColorsOpen(true);\n        activeTab(evt);\n    }\n\n    const handleConfig = function(evt){\n        closeAll();\n        asssistContext.setConfigOpen(true);\n        activeTab(evt);\n    }\n\n    const closeAll = function(){\n        asssistContext.setAssistOpen(false);\n        asssistContext.setPrefixesOpen(false);\n        asssistContext.setColorsOpen(false);\n        asssistContext.setConfigOpen(false);\n    }\n\n    \n   \n    return (<div className=\"xs-tabs\">\n                <button className=\"tablink activeTab\" \n                        title=\"ShEx Assistant\" \n                        onClick={(e)=>handleShapes(e)}>\n                        ShEx Assistant\n                </button>\n                <button className=\"tablink\" \n                        title=\"Prefixes\" \n                        onClick={(e)=>handlePrefixes(e)}>\n                        Prefixes \n                </button>\n                <button className=\"tablink material-icons\" \n                        title=\"Colors\" \n                        onClick={(e)=>handleColors(e)}>\n                        format_paint\n                </button>\n\n                <button className=\"tablink material-icons\" \n                        title=\"Config\" \n                        onClick={(e)=>handleConfig(e)}>\n                        settings\n                </button>\n       \n                <div className=\"asisTitleClose\">\n                    <button className=\"closeAsisBtn\" \n                            title=\"Close Assistant\" \n                            onClick={context.assistantToggle}>x</button>\n                </div>\n                \n            </div>);\n}\n\n\nexport default AssistTitle;\n\n","export const SHAPE_COLORS = {\n        label:'#222',\n        header:'#C6E2FF',\n        custom:'#3d3d3d',\n        customFill:'#79aff5',\n        delete:'#79aff5',\n        deleteFill:'#FFFFFF',\n        collapse:'#222',\n        body:'#EBF4FF',\n        addTriple:'#EFDECD',\n        addTripleFill:'#222',\n        addShape:'#ddeafa',\n        addShapeFill:'#222',\n};\n\nexport const TRIPLE_COLORS = {\n        label:'#222',\n        header:'#EFDECD',\n        custom:'#3d3d3d',\n        customFill:'#f8a252',\n        constraint:'#3d3d3d',\n        constraintFill:'#b1e086',\n        facet:'#3d3d3d',\n        facetFill:'#f5817f',\n        shapeRef:'#3d3d3d',\n        shapeRefFill:'#f8fa95',\n        cardinality:'#3d3d3d',\n        cardinalityFill:'#f7adea',\n        delete:'#f8a252',\n        deleteFill:'#ffff',\n        collapse:'#222',\n        body:'#EFE8E1'\n};\n\nexport const CONSTRAINT_COLORS = {\n        label:'#222',\n        body:'#E8FAE4',\n        add:'#ffff',\n        addFill:'#222',\n        delete:'#a1db6a',\n        deleteFill:'#ffff',\n};\n\nexport const FACET_COLORS = {\n        label:'#222',\n        body:'#f5d6d6',\n        add:'#ffff',\n        addFill:'#222',\n        delete:'#fd9090',\n        deleteFill:'#ffff',\n};\n\nexport const SHAPEREF_COLORS = {\n        label:'#222',\n        body:'#f5fac8',\n};\n\nexport const CARDINALITY_COLORS = {\n        label:'#222',\n        body:'#fae2f8',\n};\n\nexport const PREFIX_COLORS = {\n        label:'#222',\n        header:'#fdd5d5',\n        add:'#fdd5d5',\n        addFill:'#222',\n        delete:'#222',\n        deleteFill:'#ffff',\n        specialLabel:'#222',\n        body:'#FDEBEB'\n};","import React,{useState,useContext} from 'react';\nimport { useCookies } from 'react-cookie';\nimport {SHAPE_COLORS,\n        TRIPLE_COLORS,\n        CONSTRAINT_COLORS,\n        FACET_COLORS,\n        SHAPEREF_COLORS,\n        CARDINALITY_COLORS,\n        PREFIX_COLORS} from './colors';\n\nimport {DEFAULTS} from './config'       ;\n//Singleton Pattern\nconst Properties = (()=> {\n\n    function PropertyClass(){\n\n        const [cookies, setCookie,removeCookie] = useCookies('colors');\n       \n        this.getShapeStyle = function(){\n            return {\n                label:{color:SHAPE_COLORS.label},\n                header:{background:SHAPE_COLORS.header},\n                custom:{\n                        color:SHAPE_COLORS.customFill,\n                        background:SHAPE_COLORS.custom\n                },\n                delete:{\n                        color:SHAPE_COLORS.deleteFill,\n                        background:SHAPE_COLORS.delete\n                },\n                collapse:{color:SHAPE_COLORS.collapse},\n                body:{background:SHAPE_COLORS.body},\n                addTriple:{\n                        color:SHAPE_COLORS.addTripleFill,\n                        background:SHAPE_COLORS.addTriple\n                },\n                addShape:{\n                        color:SHAPE_COLORS.addShapeFill,\n                        background:SHAPE_COLORS.addShape\n                },\n            };  \n        }\n\n        this.getTripleStyle = function(){\n            return {      \n                label:{color:TRIPLE_COLORS.label}, \n                header:{background:TRIPLE_COLORS.header},\n                custom:{\n                        color:TRIPLE_COLORS.customFill,\n                        background:TRIPLE_COLORS.custom\n                },\n                constraint:{\n                        color:TRIPLE_COLORS.constraintFill,\n                        background:TRIPLE_COLORS.constraint\n                },\n                facet:{\n                        color:TRIPLE_COLORS.facetFill,\n                        background:TRIPLE_COLORS.facet\n                },\n                shapeRef:{\n                        color:TRIPLE_COLORS.shapeRefFill,\n                        background:TRIPLE_COLORS.shapeRef\n                },\n                cardinality:{\n                        color:TRIPLE_COLORS.cardinalityFill,\n                        background:TRIPLE_COLORS.cardinality\n                },\n                delete:{\n                        color:TRIPLE_COLORS.deleteFill,\n                        background:TRIPLE_COLORS.delete\n                },\n                collapse:{color:TRIPLE_COLORS.collapse},\n                body:{background:TRIPLE_COLORS.body},\n            }\n        }\n\n        this.getConstraintStyle = function(){\n            return {\n                label:{color:CONSTRAINT_COLORS.label}, \n                body:{background:CONSTRAINT_COLORS.body},\n                add:{\n                        color:CONSTRAINT_COLORS.addFill,\n                        background:CONSTRAINT_COLORS.add\n                },\n                delete:{\n                        color:CONSTRAINT_COLORS.deleteFill,\n                        background:CONSTRAINT_COLORS.delete\n                },\n            };  \n        }\n\n        this.getFacetStyle = function(){\n            return {\n                label:{color:FACET_COLORS.label}, \n                body:{background:FACET_COLORS.body},\n                add:{\n                        color:FACET_COLORS.addFill,\n                        background:FACET_COLORS.add\n                },\n                delete:{\n                        color:FACET_COLORS.deleteFill,\n                        background:FACET_COLORS.delete\n                },\n            };  \n        }\n\n        this.getShapeRefStyle = function(){\n            return {\n                label:{color:SHAPEREF_COLORS.label}, \n                body:{background:SHAPEREF_COLORS.body}\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getPrefixStyle = function(){\n            return {\n                label:{color:PREFIX_COLORS.label},\n                header:{background:PREFIX_COLORS.header},\n                delete:{\n                        color:PREFIX_COLORS.deleteFill,\n                        background:PREFIX_COLORS.delete\n                },\n                add:{\n                        color:PREFIX_COLORS.addFill,\n                        background:PREFIX_COLORS.add\n                },\n                specialLabel:{color:PREFIX_COLORS.specialLabel},\n                body:{background:PREFIX_COLORS.body}\n            };  \n        }\n\n\n\n\n        this.loadCookies = function(){\n            //Colors\n            this.loadCookie('shapeColors',SHAPE_COLORS);\n            this.loadCookie('tripleColors',TRIPLE_COLORS);\n            this.loadCookie('constraintColors',CONSTRAINT_COLORS);\n            this.loadCookie('facetColors',FACET_COLORS);\n            this.loadCookie('shapeRefColors',SHAPEREF_COLORS);\n            this.loadCookie('cardinalityColors',CARDINALITY_COLORS);\n\n            //Config\n            this.loadCookie('conf',DEFAULTS);\n            \n         }\n\n        this.loadCookie = function(cookie,namespace){\n            let properties = cookies[cookie];\n            if(!properties){\n                setCookie(cookie, namespace, { path: '/' });\n            }else{\n                this.load(properties,namespace);\n            }\n        }\n\n        this.load = function(propeties,namespace){\n            //namespace = colors; It doesn't work\n            Object.keys(propeties).map(c=>{\n                //console.log(propeties[c])\n                namespace[c]=propeties[c];\n            });\n        }\n\n\n        this.removeCookies = function(){\n            //Colors\n            removeCookie('shapeColors');\n            removeCookie('tripleColors');\n            removeCookie('constraintColors');\n            removeCookie('facetColors');\n            removeCookie('shapeRefColors');\n            removeCookie('cardinalityColors');\n            removeCookie('cardinalityColors');\n            //Config\n            removeCookie('conf');\n        }\n\n        this.saveDefaults = function(){\n            //Colors\n            this.defaultShape = Object.assign({}, SHAPE_COLORS);\n            this.defaultTriple = Object.assign({}, TRIPLE_COLORS);\n            this.defaultConstraint = Object.assign({}, CONSTRAINT_COLORS);\n            this.defaultFacet = Object.assign({}, FACET_COLORS);\n            this.defaultShapeRef = Object.assign({}, SHAPEREF_COLORS);\n            this.defaultCardinality = Object.assign({}, CARDINALITY_COLORS);\n            //Config\n            this.defaultConfig = Object.assign({}, DEFAULTS);\n        }\n\n        this.restoreDefaultColors = function(){\n            this.removeCookies();\n            this.load(this.defaultShape,SHAPE_COLORS);\n            this.load(this.defaultTriple,TRIPLE_COLORS);\n            this.load(this.defaultConstraint,CONSTRAINT_COLORS);\n            this.load(this.defaultFacet,FACET_COLORS);\n            this.load(this.defaultShapeRef,SHAPEREF_COLORS);\n            this.load(this.defaultCardinality,CARDINALITY_COLORS);\n        }\n\n        this.restoreDefaultConfig = function(){\n            this.load(this.defaultConfig,DEFAULTS);\n            this.removeCookies();\n        }\n\n        this.saveDefaults();\n        this.loadCookies();                \n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new PropertyClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Properties;","import React,{useState,useContext} from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport {PN_LOCAL,IRI_REF} from '../../../../../../utils/regExpUtils';\nimport '../../../../../../css/shexComponents/headers/ShapeHeader.css';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeHeader (props) {\n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const disabled = shapeContext ? shapeContext.disabled : false;\n    const styles = Properties.getInstance().getShapeStyle();\n    \n    const {shape,customizeShape,collapseTriples,colapseBtn} = props;\n    const [name,setName] = useState(shape.type.value);\n\n    let initialRegExp = new RegExp(\"^\" +PN_LOCAL);\n    if(shape.type.getTypeName()=='iriRef') initialRegExp = new RegExp(\"^\" +IRI_REF);;\n    const [regExp,setRegExp] = useState(initialRegExp);\n\n    const handleChange = function(name){\n        shape.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    const handleKeyUp = function(e){\n        if(e.target.value==''){\n            shapeContext.setDisabled(true);\n        }else{\n            shapeContext.setDisabled(false);\n        }\n    }\n\n    \n    return (\n        <div className='xs-header' style={styles.header}>            \n            <label style={styles.label}>Shape</label>\n            <Textbox \n                    attributesInput={{ \n                        id: 'Name',\n                        name: 'Name',\n                        type: 'text',\n                        placeholder: 'eg: User',\n                    }}\n                    value={name} \n                    onChange={(e)=>handleChange(e)}\n                    onKeyUp={(e)=>handleKeyUp(e)}\n                    validationOption={{\n                        reg: regExp, \n                        regMsg: 'Invalid name'\n                    }}\n                    title=\"Shape Name\"\n                    /> \n\n            <button className=\"buildBtn mdc-icon-button material-icons\" \n                    style={styles.custom} \n                    onClick={customizeShape}\n                    disabled={disabled}\n                    title=\"Customize Shape\">\n                    build\n            </button>\n           \n            <button className=\"deleteShapeBtn mdc-icon-button material-icons\" \n                    style={styles.delete}\n                    onClick={()=>context.deleteShape(shape.id)}\n                    title=\"Delete Shape\">\n                    delete\n            </button>\n            \n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    onClick={collapseTriples} \n                    disabled={disabled}\n                    title=\"Triple Constraints\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default ShapeHeader;\n\n/*\n\n<input  type=\"text\" \n                    className={\"sName\"+shape.id+\" name\"}\n                    value={name}\n                    onChange={handleChange}\n                    placeholder=\"eg: User\"\n                    title=\"Shape Name\"/>\n*/","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../App';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction TypeConfig (props) {\n\n    const context = useContext(AppContext);\n    const {entity,setPrefix,bnode,setPrefixOpen} = props;\n    const shapeStyles = Properties.getInstance().getShapeStyle();\n    const tripleStyles = Properties.getInstance().getTripleStyle();\n    const styles = entity.triples ? shapeStyles : tripleStyles; //is a Shape or a Triple?\n    const [type,setType] = useState(entity.type.getTypeName());\n    const iri ='<...>';\n\n    const handleTypeChange = function(e){\n        const type  = e.target.value;\n        const value = entity.type.value;\n        entity.setType(type);\n        entity.type.value = value;\n        context.emit();\n        setType(type);\n        setPrefix('example');\n\n        if(type=='prefixedIri'){\n            setPrefixOpen(true);\n        }else{\n           \n            setPrefixOpen(false);\n        }\n    }\n\n    \n\n    return (\n        <div className=\"xs-gridBox\">\n            <label className=\"customLabel\" style={styles.label}>Type </label>\n            <select className=\"customSelector\" value={type} onChange={handleTypeChange}>\n                <option value=\"iriRef\">{iri}</option>\n                <option value=\"prefixedIri\">QName</option>\n                <Bnode isBnode={bnode}/>\n            </select>\n        </div>\n    );\n                                   \n    \n}\n\n\nfunction Bnode(props) {\n  const isBnode = props.isBnode;\n  if (isBnode) {\n    return <option value=\"bnodeType\">Bnode</option>;\n  }\n  return null;\n}\n\n\nexport default TypeConfig;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../../App';\nimport {AssistContext} from '../../../../../Assistant';\nimport {getPrefix} from '../../../../../../../utils/prefixUtils';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction PrefixConfig (props) {\n\n    const context = useContext(AppContext);\n    const assistContext = useContext(AssistContext);\n    const {entity,isPrefixOpen,prefix,setPrefix} = props;\n    const shapeStyles = Properties.getInstance().getShapeStyle();\n    const tripleStyles = Properties.getInstance().getTripleStyle();\n    const styles = entity.triples ? shapeStyles : tripleStyles; //is a Shape or a Triple?\n\n    const handlePrefixChange = function(e){\n        let prefix = getPrefix(e.target.value);\n        entity.type.setPrefix(prefix);\n        context.emit();\n        setPrefix(e.target.value);\n    }\n\n    return (\n         <div className=\"xs-gridBox\">\n            <label className=\"customLabel\" style={styles.label}>Prefix </label>\n            <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\n                <option value=\"example\">example</option>\n                { \n                context.prefixes.map((pre) =>{\n                    if(pre.prefixName!=''){\n                        return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\n                    }                        \n                })\n            }\n            </select>\n         </div>\n    );\n                                   \n    \n}\n\nexport default PrefixConfig;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../App';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction QualifierConfig (props) {\n\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getShapeStyle();\n    const {shape} = props;\n\n\n    const [qualifier,setQualifier] = useState(shape.qualifier.getTypeName())\n\n    const handleQualifierChange = function(e){\n        let newType = e.target.value;\n        shape.setQualifier(newType);\n        context.emit();\n        setQualifier(newType);\n    }\n\n    return (\n         <div className=\"xs-gridBox\">\n            <label className=\"customLabel\" style={styles.label}>Qualifier </label>\n            <select className=\"customSelector\" value={qualifier} onChange={handleQualifierChange}>\n                <option value=\"blankType\">None</option>\n                <option value=\"iri\">Iri</option>\n                <option value=\"literal\">Literal</option>\n                <option value=\"nonliteral\">NonLiteral</option>\n                <option value=\"bnode\">Bnode</option>\n            </select>\n        </div>\n    );\n                                   \n    \n}\n\nexport default QualifierConfig;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../App';\nimport TypeConfig from './config/TypeConfig';\nimport PrefixConfig from './config/PrefixConfig';\nimport QualifierConfig from './config/QualifierConfig';\nimport Properties from '../../../../../../conf/properties';\nimport '../../../../../../css/shexComponents/customize/Custom.css'\n\nfunction CustomComp (props) {\n\n    const context = useContext(AppContext);\n    const {entity,isCustomOpen,qualifier,bnode,customClass} = props;\n    const shapeStyles = Properties.getInstance().getShapeStyle();\n    const tripleStyles = Properties.getInstance().getTripleStyle();\n    const styles = customClass == 'customShape' ? shapeStyles:tripleStyles;\n\n    let initialPrefix = 'example';\n    let initialOpenPrefix = false;\n    if(entity.type.prefix!=undefined){\n        initialPrefix = entity.type.prefix.prefixValue;\n        initialOpenPrefix = true;\n    }\n\n    const [prefix,setPrefix] = useState(initialPrefix);\n    const [isPrefixOpen,setPrefixOpen] = useState(initialOpenPrefix);\n \n\n    return (\n        <Collapse isOpen={isCustomOpen}\n                  className='customColapse'>\n\n            <div className={customClass} style={styles.body}>\n                <TypeConfig \n                    entity={entity}\n                    setPrefix={setPrefix}\n                    setPrefixOpen={setPrefixOpen}\n                    bnode={bnode}/>\n            \n            <Collapse isOpen={isPrefixOpen}>\n                <PrefixConfig \n                    entity={entity}\n                    isPrefixOpen={isPrefixOpen}\n                    prefix={prefix}\n                    setPrefix={setPrefix}/> \n            </Collapse> \n\n                 <Qualifier \n                    isQualifier={qualifier}\n                    entity={entity}/>              \n            </div>\n        </Collapse>                 \n    );\n                                   \n    \n}\n\nfunction Qualifier(props) {\n  const {isQualifier,entity} = props;\n  if (isQualifier) {\n    return (<QualifierConfig shape={entity}/>)\n  }\n  return null;\n}\n\n\nexport default CustomComp;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport yasheUtils from '../../../../../../utils/yasheUtils';\nimport Properties from '../../../../../../conf/properties';\nimport '../../../../../../css/shexComponents/headers/TripleHeader.css';\n\nfunction TripleHeader (props) {\n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const styles = Properties.getInstance().getTripleStyle();\n    const disabled = shapeContext.disabled;\n\n    const { triple,\n            deleteTriple,\n            customize,\n            customizeTriple,\n            customizeRef,\n            customizeFacet,\n            customizeContraints,\n            customizeCardinality,\n            collapseToggle,\n            colapseBtn\n            } = props;\n\n    const [name,setName] = useState(triple.type.value);\n\n    const handleNameChange = function(e){\n        const name = e.target.value;\n        triple.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n\n   \n    return (\n        <div className=\"xs-tripleHeader\" style={styles.header}>            \n            <input  type=\"text\" \n                    className=\"name\"\n                    value={name}\n                    onChange={handleNameChange}\n                    placeholder=\"eg: name\"\n                    disabled={disabled}\n                    title=\"Triple Constraint Name\"/>\n\n            <button className=\"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.custom}\n                    onClick={customize}\n                    disabled={disabled} \n                    title=\"Customize Triple Constraint\">\n                    build\n            </button>\n\n            \n\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    onClick={()=>deleteTriple(triple.id)}\n                    disabled={disabled} \n                    title=\"Delete Triple Constraint\">\n                    delete\n            </button>\n            \n\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default TripleHeader;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport {getPrefix} from '../../../../../../../../utils/prefixUtils';\n\nfunction QNameValue (props) {\n    \n    const {type,isOpen} = props;\n    const context = useContext(AppContext);\n\n    let initialPrefix = 'example';\n    if(type.prefix!=undefined){\n        initialPrefix = type.prefix.prefixValue;\n    }\n    const [prefix,setPrefix]=useState(initialPrefix);\n    const [name,setName]=useState(type.value);\n\n\n    const handlePrefixChange = function(e){\n        let prefixName = e.target.value;\n        let newPrefix = getPrefix(prefixName);\n        console.log(prefix)\n        type.setPrefix(newPrefix);\n        context.emit();\n        setPrefix(prefixName);\n    }\n\n    const handleNameChange = function(e){\n        let newName = e.target.value;\n        setName(newName);\n        type.setValue(newName);\n        context.emit();\n    }\n\n    return (<Collapse isOpen={isOpen} className='qnameSetCollapse'>\n                    <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\n                    <option value=\"example\">example</option>\n                        { \n                        context.prefixes.map((pre) =>{\n                            if(pre.prefixName!=''){\n                                return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\n                            }                        \n                        })\n                    }\n                    </select>\n                    \n                    <input  type=\"text\" \n                        className=\"name\"\n                        value={name}\n                        onChange={handleNameChange}\n                        />\n\n                </Collapse>);                          \n}\n\n\n\nexport default QNameValue;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../../App';\nimport { Collapse } from 'reactstrap';\n\nfunction InputValue (props) {\n    \n    const {type,isOpen} = props;\n    const context = useContext(AppContext);\n    const [name,setName]=useState(type.value);\n\n    const handleNameChange = function(e){\n        let newName = e.target.value;\n        type.setValue(newName);\n        context.emit();\n        setName(newName);\n    }\n\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\n                    <input  type=\"text\" \n                        className=\"name\"\n                        value={name}\n                        onChange={handleNameChange}/>\n\n                </Collapse>);                          \n}\n\n\n\nexport default InputValue;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport NumericInput from 'react-numeric-input';\n\nfunction NumberValue (props) {\n    \n    const {type,isOpen} = props;\n    const context = useContext(AppContext);\n    const [number,setNumber]=useState(type.value);\n\n    const handleNumberChange = function(e){\n        let newNumber = e;\n        type.setValue(newNumber);\n        context.emit();\n        setNumber(newNumber);\n    }\n\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\n                    <NumericInput   className=\"form-control\" \n                                    min={0} \n                                    value={number}\n                                    onChange={handleNumberChange}/>\n\n                </Collapse>);                          \n}\n\n\n\nexport default NumberValue;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../../App';\nimport { Collapse } from 'reactstrap';\n\nfunction BooleanValue (props) {\n    \n    const {type,isOpen} = props;\n    const context = useContext(AppContext);\n    const [boolean,setBoolean]=useState(type.value);\n\n    const handleBooleanChange = function(e){\n        let newBoolean = e.target.value;\n        type.setValue(newBoolean);\n        context.emit();\n        setBoolean(newBoolean);\n    }\n\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\n                <select className=\"customSelector boolSelect\"\n                        value={boolean}\n                        onChange={handleBooleanChange}>\n                    <option value=\"true\">True</option>\n                    <option value=\"false\">False</option>\n                </select>\n            </Collapse>);                          \n}\n\n\n\nexport default BooleanValue;\n","import React,{useState,useContext,useEffect} from 'react';\nimport {AppContext} from '../../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport QNameValue from './valueSetValues/QNameValue';\nimport InputValue from './valueSetValues/InputValue';\nimport NumberValue from './valueSetValues/NumberValue';\nimport BooleanValue from './valueSetValues/BooleanValue';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction ValueSetComp (props) {\n    \n    const {valueSetValue,deleteValue} = props;\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getConstraintStyle();\n    const iriStr = '<...>';\n    const [type,setType]=useState(valueSetValue.type.getTypeName());\n    const [isIriRef,setIriRef]=useState(true);\n    const [isQName,setQName]=useState(false);\n    const [isString,setString]=useState(false);\n    const [isNumber,setNumber]=useState(false);\n    const [isBoolean,setBoolean]=useState(false);\n\n    const handleTypeChange = function(e){\n        let newType = e.target.value;\n        setType(newType);\n        valueSetValue.setType(newType);\n        context.emit();\n        checkCollapses();\n    }\n\n    const checkCollapses = function(){\n        setIriRef(false);\n        setQName(false);\n        setString(false);\n        setNumber(false);\n        setBoolean(false);\n        \n\n        if(type=='iriRef'){\n            setIriRef(true);\n        }\n\n        if(type=='prefixedIri'){\n            setQName(true);\n        }\n\n        if(type=='stringLiteral'){\n            setString(true);\n        }\n\n        if(type=='numberLiteral'){\n            setNumber(true);\n        }\n\n        if(type=='booleanLiteral'){\n            setBoolean(true);\n        }\n    }\n\n\n    useEffect(() => {\n        checkCollapses();\n    });\n    \n\n\n    return (  <div className=\"valueSets\">\n                <select className=\"customSelector\"\n                        value={type}\n                        onChange={handleTypeChange}>\n                    <option value=\"iriRef\">{iriStr}</option>\n                    <option value=\"prefixedIri\">QName</option>\n                    <option value=\"stringLiteral\">String</option>\n                    <option value=\"numberLiteral\">Number</option>\n                    <option value=\"booleanLiteral\">Boolean</option>\n                </select>\n\n                <div>\n                    <InputValue type={valueSetValue.type} isOpen={isIriRef}/>\n\n                    <QNameValue type={valueSetValue.type} isOpen={isQName}/>\n\n                    <InputValue type={valueSetValue.type} isOpen={isString}/>\n\n                    <NumberValue type={valueSetValue.type} isOpen={isNumber}/>\n\n                    <BooleanValue type={valueSetValue.type} isOpen={isBoolean}/>\n                </div>\n                \n                <button className=\"tripleBtns deleteValueSetBtn mdc-icon-button material-icons\" \n                    style={styles.delete}\n                    onClick={()=>deleteValue(valueSetValue.id)}\n                    title=\"Delete Value\">\n                    delete\n                </button>\n            </div> );                          \n}\n\n\n\nexport default ValueSetComp;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../App';\nimport shexUtils from '../../../../../../../utils/shexUtils';\nimport ValueSetComp from './ValueSetComp';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction ValueSetContainer (props) {\n    const {triple,valueSet,setValueSet} = props;\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getConstraintStyle();\n\n    const deleteValue= function(id){\n        const newValues = valueSet.filter(v => v.id != id);\n        setValueSet(newValues);\n        triple.constraint.setValues(newValues);\n        context.emit(); \n    }\n\n    const addValue = function(){\n        const value = shexUtils.addValueSetValue(valueSet);\n        setValueSet([...valueSet,value]);\n        triple.constraint.addValue(value);\n        context.emit(); \n    }\n\n    return (<div className='xs-customConstraint'>\n                <label style={styles.label}>ValueSet</label>\n                <div className=\"valueSetsCont\">\n                    {valueSet.map(v =>{                                        \n                            return (<ValueSetComp \n                                    key={v.id}\n                                    valueSetValue={v}\n                                    deleteValue={deleteValue} \n                                    />)\n                    })}\n                    \n                    <button className=\"addFacet\" style={styles.add}  title=\"Add Value\" onClick={addValue}>+ Value</button>      \n                </div>\n            </div>);                          \n}\n\n\n\nexport default ValueSetContainer;\n","import React,{useState,useContext,useEffect} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../App';\nimport {getPrefix} from '../../../../../../utils/prefixUtils';\nimport shexUtils from '../../../../../../utils/shexUtils';\nimport yasheUtils from '../../../../../../utils/yasheUtils';\nimport PrefixConfig from './config/PrefixConfig';\nimport ValueSetContainer from './constraint/ValueSetContainer';\nimport Properties from '../../../../../../conf/properties';\n\nconst primitives = ['String','Integer','Date','Boolean'];\nconst iriStr ='<...>';\n\nfunction ConstraintComp (props) {\n\n    const context = useContext(AppContext);\n    const {triple} = props;\n    const styles = Properties.getInstance().getConstraintStyle();\n    \n    let constValue = triple.constraint.getTypeName();\n    let primValue = triple.constraint.value;\n\n    if(constValue!='primitive'){\n        primValue = 'custom';\n    }\n\n    let initialPrefix = 'example';\n    if(triple.constraint.prefix!=undefined){\n        initialPrefix = triple.constraint.prefix.prefixValue;\n    }\n\n    let initialValueSet = [];\n    if(constValue == 'valueSet'){\n        initialValueSet = triple.constraint.getValues();\n    }\n    \n    const [name,setName] = useState(triple.constraint.value || '');\n    const [prefix,setPrefix] = useState(initialPrefix);\n    const [valueSet,setValueSet] = useState(initialValueSet);\n    const [primitive,setPrimitive] = useState(primValue);    \n    const [constraint,setConstraint] = useState(constValue);\n    const [isCustomOpen,setCustomOpen] = useState(false);\n    const [isValueSetOpen,setValueSetOpen] = useState(false);\n    const [isNameOpen,setNameOpen] = useState(false);\n    const [isPrefixOpen,setPrefixOpen] = useState(false);\n        \n   \n\n    const handlePrefixChange = function(e){ \n        let prefix = getPrefix(e.target.value);\n        triple.constraint.setPrefix(prefix);\n        context.emit();\n        setPrefix(e.target.value);\n\n    }\n\n    const handleNameChange = function(e){\n        let newName = e.target.value;\n        triple.constraint.setValue(newName);\n        context.emit();\n        setName(newName);\n    }\n\n      const handlePrimitiveChange = function(e){\n        const newPrimitive = e.target.value;\n        triple.setConstraint('primitive');\n        triple.constraint.setValue(newPrimitive);\n        setConstraint('primitive');\n        setPrimitive(newPrimitive);\n        checkRefs(newPrimitive);     \n        context.emit();\n    }\n\n\n    const handleConstraintChange = function(e){\n        let newConstraint = e.target.value;\n        setConstraint(newConstraint);\n        triple.setConstraint(newConstraint);\n        triple.constraint.setValue(name);\n        context.emit();\n        checkValueSet();\n    }\n\n \n\n    const checkCollapses = function(){\n        setCustomOpen(true);  \n        setNameOpen(false);\n        setPrefixOpen(false);\n        setValueSetOpen(false);\n        \n        if(constraint == 'iriRef'){\n            setNameOpen(true);\n        }\n\n        if(constraint == 'prefixedIri'){\n            setNameOpen(true);\n            setPrefixOpen(true);\n        }\n\n        if(constraint == 'primitive'){\n            if(primitive!='custom'){\n                setCustomOpen(false);\n            }else{\n                setConstraint('prefixedIri');\n                setName('');\n                triple.setConstraint('prefixedIri');\n                context.emit();\n            }\n        }\n\n        if(constraint == 'valueSet'){\n            setValueSetOpen(true);\n        }\n\n    }\n\n    const checkValueSet = function(){\n        if(triple.constraint.getTypeName=='valueSet'){\n            setValueSet([]);\n        }\n    }\n\n    const checkRefs = function(prim){\n        if(prim =='none'){\n            if(triple.shapeRef.shape != null){\n                triple.setConstraint('blankType');\n            }\n        }\n    }\n\n    checkRefs(primitive);\n\n    useEffect(() => {\n        checkCollapses();\n    })\n\n    return (\n                <div className=\"xs-gridBox\" style={styles.body}>\n                    <label className='gridLabel' style={styles.label}>Constraint</label>\n                    <select className=\"customSelector\" \n                        value={primitive} \n                        onChange={handlePrimitiveChange}\n                        title=\"Constraint\">\n                        <option value='none'>None</option>\n                        {\n                            primitives.map(prim =>{\n                                return <option key={prim} value={prim.toLowerCase()}>{prim}</option>\n                            })\n                        }\n                        <option value='custom'>Custom</option>\n                    </select>    \n\n                    <Collapse isOpen={isCustomOpen} className='constraintCollapse'>\n                        <div className=\"xs-customConstraint\">\n                            <label style={styles.label}>Type</label>\n                            <select className=\"customSelector\"\n                                    value={constraint}\n                                    onChange={handleConstraintChange}>\n                                \n                                <option value=\"iriRef\">{iriStr}</option>\n                                <option value=\"prefixedIri\">QName</option>\n                                <option value=\"valueSet\">ValueSet</option>\n                                <option value=\"literal\">Literal</option>\n                                <option value=\"nonliteral\">NonLiteral</option>\n                                <option value=\"iri\">IRI</option>\n                                <option value=\"bnode\">BNode</option>\n                            </select>\n                        </div>     \n\n            \n                        <Collapse isOpen={isNameOpen}>\n                            <div className=\"xs-customConstraint\">\n                                <label style={styles.label}>Name</label>\n                                <input  type=\"text\" \n                                        className=\"name\"\n                                        value={name}\n                                        onChange={handleNameChange}/>\n                            </div> \n                        </Collapse>\n\n                         <Collapse isOpen={isPrefixOpen}>\n                            <div className=\"xs-customConstraint\">\n                                <label style={styles.label}>Prefix </label>\n                                <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\n                                    <option value=\"example\">example</option>\n                                    { \n                                    context.prefixes.map((pre) =>{\n                                        if(pre.prefixName!=''){\n                                            return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\n                                        }                        \n                                    })\n                                }\n                                </select>\n                            </div>\n                        </Collapse>\n\n\n                        <Collapse isOpen={isValueSetOpen}>\n                            <ValueSetContainer  triple={triple} valueSet={valueSet} setValueSet={setValueSet}/>\n                        </Collapse>\n                    </Collapse>                                                         \n                </div>\n  \n    );\n                                   \n    \n}\n\n\nexport default ConstraintComp;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport shexUtils from '../../../../../../utils/shexUtils';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeRefComp (props) {\n    \n    const {triple} = props;\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getShapeRefStyle();\n\n    let refValue = '';\n    let refOpen = false;\n    if(triple.shapeRef.shape != null){\n        refValue = triple.shapeRef.shape.id;\n        refOpen = true;\n    }\n\n\n    const [shapeRef,setShapeRef] = useState(refValue);\n\n\n    const handleShapeRefChange = function(e){\n        const shapeId = e.target.value;\n        let shapeRef = null;\n        let refSelector = '';\n        if(shapeId!=''){\n            shapeRef = shexUtils.getShapeById(context.shapes,shapeId);\n            refSelector = shapeRef.id;\n        }\n        triple.getShapeRef().setShape(shapeRef);\n        if(triple.constraint.value=='none'){\n            triple.setConstraint('blankType');\n            \n        }\n        \n        if(shapeId=='' && triple.constraint.getTypeName() == 'blankType'){\n            triple.setConstraint('primitive');\n            triple.constraint.setValue('none');\n        }\n        \n      \n        context.emit();\n        setShapeRef(refSelector);\n    }\n     \n    return ( \n            <div className=\"xs-gridBox\" style={styles.body}>\n                   <label className='gridLabel' style={styles.label}>Shape <br/>Reference</label>\n                    <select className=\"customSelector refSelector\"\n                            value={shapeRef}\n                            onChange={handleShapeRefChange}>\n                    <option value=''>none</option>\n                \n                    { \n                    context.shapes.map(shape =>{\n                        return <option key={shape.id} value={shape.id}>{'@'+shape.type}</option>\n                        })\n                    }\n                    </select>  \n                 \n            </div>);                          \n}\n\n\n\nexport default ShapeRefComp;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../../App';\nimport NumericInput from 'react-numeric-input';\nimport Properties from '../../../../../../../conf/properties';\n\nfunction FacetComp (props) {\n    const {facet,deleteFacet} = props;\n    const context = useContext(AppContext);\n    const [type,setType]=useState(facet.type);\n    const [value,setValue]=useState(facet.value);\n    const styles = Properties.getInstance().getFacetStyle();\n   \n    const handleTypeChange = function(type){\n        facet.setType(type);\n        setType(type);\n        context.emit();\n    }\n\n    const handleValueChange = function(value){\n        facet.setValue(value);\n        setValue(value);\n        context.emit();\n    }\n\n    return ( <div className=\"facetInputs\">\n                <select className=\"customSelector\"\n                        value={type}\n                        onChange={(e)=>handleTypeChange(e.target.value)}>\n                        <option value=\"length\">length</option>\n                        <option value=\"minlength\">minlength</option>\n                        <option value=\"maxlength\">maxlength</option>\n                        <option value=\"totaldigits\">totaldigits</option>\n                        <option value=\"fractiondigits\">fractiondigits</option>\n                        <option value=\"mininclusive\">mininclusive</option>\n                        <option value=\"minexclusive\">minexclusive</option>\n                        <option value=\"maxinclusive\">maxinclusive</option>\n                        <option value=\"maxexclusive\">maxexclusive</option>\n                </select>\n                <NumericInput   \n                    className=\"form-control\" \n                    min={0}\n                    value={value}\n                    onChange={(e)=>handleValueChange(e)}/>\n\n                <button className=\"tripleBtns deleteFacetBtn mdc-icon-button material-icons\" \n                    style={styles.delete}\n                    onClick={()=>deleteFacet(facet.id)} \n                    title=\"Delete Facet\">\n                    delete\n                </button>\n                \n        </div>);                          \n}\n\n\n\nexport default FacetComp;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport NumericInput from 'react-numeric-input';\nimport shexUtils from '../../../../../../utils/shexUtils';\nimport FacetComp from './facets/FacetComp';\nimport Properties from '../../../../../../conf/properties';\n\nfunction FacetContainer (props) {\n    const {triple} = props;\n    const context = useContext(AppContext);\n    const [facets,setFacets]=useState(triple.facets);\n    const styles = Properties.getInstance().getFacetStyle();\n\n    const deleteFacet= function(id){\n        const newFacets = facets.filter(f => f.id != id);\n        setFacets(newFacets);\n        triple.setFacets(newFacets);\n        context.emit();\n    }\n\n    const addFacet = function(){\n        const facet = shexUtils.addFacet(facets);\n        setFacets([...facets,facet]);\n        triple.addFacet(facet);\n        context.emit();\n    }\n\n    return (<div className=\"xs-gridBox\" style={styles.body}>\n                <label className='gridLabel' style={styles.label}>Facet</label>\n                <div className=\"facetCont\">\n                    {facets.map(f =>{\n                            return (<FacetComp \n                                    key={f.id} \n                                    facet={f}\n                                    deleteFacet={deleteFacet} />)\n                    })}\n                    <button className=\"addFacet\" style={styles.add} title=\"Add Facet\" onClick={addFacet}>+ Facet</button>      \n                </div>        \n            </div>);                          \n}\n\n\n\nexport default FacetContainer;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport NumericInput from 'react-numeric-input';\nimport Properties from '../../../../../../conf/properties';\n\nfunction CardinalityComp (props) {\n    \n        const {triple} = props;\n        const context = useContext(AppContext);\n        const styles = Properties.getInstance().getCardinalityStyle();\n\n        let cardValue = triple.cardinality.getCardType();\n        let initialExactly = false;\n        let initialRange = false;\n        let initialMin = 1;\n        let initialMax = 10;\n        if(cardValue.length>1){ //not simple card\n                initialMin = triple.cardinality.min;\n                if(cardValue == 'exactly' || cardValue == 'minLimit'){\n                        initialExactly = true;\n                }\n                if(cardValue == 'range'){\n                        initialRange = true;\n                        initialMax = triple.cardinality.max;\n                }\n                \n         \n        }\n\n        const [cardinality,setCardinality] = useState(cardValue);\n        const [isExactly,setExactly] = useState(initialExactly);\n        const [isRange,setRange] = useState(initialRange);\n        const [min,setMin] = useState(initialMin);\n        const [max,setMax] = useState(initialMax);\n\n        const handleCardinalityChange = function(e){\n                let newCardinality = e.target.value;\n                triple.setCardinality(newCardinality);\n                context.emit();\n                setCardinality(newCardinality)\n                setExactly(false);\n                setRange(false);\n                checkCollapses(newCardinality);\n        }\n\n        const checkCollapses = function(card){\n                if(card == 'exactly' || card == 'minLimit' ){\n                        setMin(1);\n                        setExactly(true);\n                }\n\n                if(card == 'range'){\n                        setMin(1);\n                        setMax(10);\n                        setRange(true);\n                }\n        }\n\n\n\n        const handleMinChange = function(valueAsNumber,kind){\n                triple.setCardinality(kind,valueAsNumber,max);\n                context.emit();\n                setMin(valueAsNumber);\n        }\n\n        const handleMaxChange = function(valueAsNumber){\n                triple.setCardinality('range',min,valueAsNumber);\n                context.emit();\n                setMax(valueAsNumber);\n        }\n\n        return ( \n                <div className=\" xs-gridBox\" style={styles.body}>\n                        <label className='gridLabel' style={styles.label}>Type</label>\n                        <select className=\"customSelector\" \n                                value={cardinality} \n                                onChange={handleCardinalityChange} \n                                title=\"Cardinality\">\n                                <option value=\"\">Exactly one</option>\n                                <option value=\"*\">Zero or more</option>\n                                <option value=\"+\">One at least</option>\n                                <option value=\"?\">One or none</option>\n                                <option value=\"exactly\">Exactly value</option>\n                                <option value=\"minLimit\">Inferior Limit</option>\n                                <option value=\"range\">Range</option>\n                        </select> \n\n                    \n                        <Collapse isOpen={isExactly} className=\"rangeCardinality\">\n                                <label className=\"tripleNameLabel\" style={styles.label}>Value</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={min}\n                                                onChange={(value)=>{handleMinChange(value,cardinality)}}/>\n                        </Collapse> \n\n                        \n                        <Collapse isOpen={isRange} className=\"rangeCardinality\">\n                                <label className=\"tripleNameLabel\" style={styles.label}>Min</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={min}\n                                                onChange={(value)=>{handleMinChange(value,'range')}}/>\n\n                                <label className=\"tripleNameLabel\" style={styles.label}>Max</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={max}\n                                                onChange={handleMaxChange}/>\n\n                        </Collapse> \n\n                </div>);                          \n}\n\n\n\nexport default CardinalityComp;\n\n","import React,{useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport TripleHeader from './headers/TripleHeader';\nimport CustomComp from './customize/CustomComp';\nimport ConstraintComp from './customize/ConstraintComp';\nimport ShapeRefComp from './customize/ShapeRefComp';\nimport FacetContainer from './customize/FacetContainer';\nimport CardinalityComp from './customize/CardinalityComp';\nimport Properties from '../../../../../conf/properties';\n\nfunction TripleComponent (props) {\n    \n    const {shape,triple,deleteTriple} = props;\n    const [isTripleOpen,setTripleOpen] = useState(false);\n    const [isTripleCustomOpen,setTripleCustomOpen] = useState(false);\n    const [isConstraintsOpen,setConstraintsOpen] = useState(true);\n    const [isRefOpen,setRefOpen] = useState(false);\n    const [isFacetOpen,setFacetOpen] = useState(false);\n    const [isCardinalityOpen,setCardinalityOpen] = useState(false);\n    const [allCollased,setAllCollapsed] = useState(false);\n    const [colapseBtn,setColapseBtn] = useState('menu');\n\n    const tripleStyles = Properties.getInstance().getTripleStyle();\n    const constStyles = Properties.getInstance().getConstraintStyle();\n    const facetStyles = Properties.getInstance().getFacetStyle();\n    const refStyles = Properties.getInstance().getShapeRefStyle();\n    const cardStyles = Properties.getInstance().getCardinalityStyle();\n\n    const customize  = function(){\n        setTripleOpen(!isTripleOpen);\n    }\n\n    const customizeTriple = function(){\n        collapseAll(false);\n        setTripleCustomOpen(!isTripleCustomOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setTripleCustomOpen(true);\n            changeCollapseBtn();\n        }\n\n    }\n\n    const customizeContraints = function(){\n        collapseAll(false);\n        setConstraintsOpen(!isConstraintsOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setConstraintsOpen(true);\n            changeCollapseBtn();\n        }\n    }\n\n    const customizeRef = function(){\n        collapseAll(false);\n        setRefOpen(!isRefOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setRefOpen(true);\n            changeCollapseBtn();\n        }  \n    }\n\n      const customizeFacet = function(){\n        collapseAll(false);\n        setFacetOpen(!isFacetOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setFacetOpen(true);\n            changeCollapseBtn();\n        }  \n    }\n\n    const customizeCardinality = function(){\n        collapseAll(false);\n        setCardinalityOpen(!isCardinalityOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setCardinalityOpen(true);\n            changeCollapseBtn();\n        } \n        \n    }\n\n\n    const collapseAll = function(collapse){\n        setTripleCustomOpen(collapse);\n        setConstraintsOpen(collapse);\n        setRefOpen(collapse);\n        setFacetOpen(collapse);\n        setCardinalityOpen(collapse);\n    }\n\n    const collapseToggle = function(){\n        collapseAll(!allCollased);\n        \n\n        setAllCollapsed(!allCollased);\n        changeCollapseBtn();\n    }\n\n    const changeCollapseBtn = function(){\n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n    \n\n    return ( \n        <div>\n            <TripleHeader triple={triple} \n                          deleteTriple={deleteTriple}\n                          customize={customize}\n                          collapseToggle={collapseToggle}\n                          colapseBtn={colapseBtn}/>\n\n            <Collapse   isOpen={isTripleOpen}> \n\n                <div className='zone' style={tripleStyles.body}>\n                    <button className='btnZone'style={tripleStyles.body}\n                    onClick={customizeTriple}>Triple</button>\n                   <button className='btnZone'style={constStyles.body}\n                    onClick={customizeContraints}>Constraint</button>\n                    <button className='btnZone'style={facetStyles.body}\n                    onClick={customizeFacet}>Facet</button>\n                    <button className='btnZone'style={refStyles.body}\n                    onClick={customizeRef}>ShapeReference</button>\n                    <button className='btnZone'style={cardStyles.body}\n                    onClick={customizeCardinality}>Cardinality</button>\n\n                    <button className=\"collapseBtn-triple mdc-icon-button material-icons\" \n                    style={tripleStyles.collapse}\n                    onClick={collapseToggle}\n                    title=\"ShowAll\">\n                    {colapseBtn}\n                    </button>\n                </div> \n\n                <CustomComp  entity={triple} \n                        isCustomOpen={isTripleCustomOpen}\n                        qualifier={false}\n                        bnode={false}\n                        customClass=\"customTriple\"/>\n\n                <Collapse   isOpen={isConstraintsOpen}>\n                    <ConstraintComp  triple={triple} />           \n                </Collapse> \n\n                <Collapse   isOpen={isFacetOpen}>\n                    <FacetContainer triple={triple}/> \n                </Collapse> \n\n                <Collapse  isOpen={isRefOpen}>\n                    <ShapeRefComp triple={triple}/>      \n                </Collapse> \n\n                <Collapse  isOpen={isCardinalityOpen}>\n                    <CardinalityComp triple={triple}/>      \n                </Collapse>         \n                \n              \n\n            </Collapse>  \n           \n        </div>);                          \n}\n\n\nexport default TripleComponent;\n\n\n/*   <div className='zone-collapse-btn'style={tripleStyles.body}> \n                    <button className='type-zone btnZone-collapse mdc-icon-button material-icons'\n                            onClick={collapseToggle}>{colapseBtn} </button>\n                </div> */\n\n\n                /*  <div className='zone'style={tripleStyles.body}> \n                    <button className='btnZone mdc-icon-button material-icons'style={tripleStyles.body}\n                            onClick={customizeTriple}>menu</button>\n                     <label>Triple</label>\n                </div>             \n\n                <CustomComp  entity={triple} \n                            isCustomOpen={isTripleCustomOpen}\n                            qualifier={false}\n                            bnode={false}\n                            customClass=\"customTriple\"/>\n\n                <div className='zone' style={constStyles.body}>\n                    <button className='btnZone mdc-icon-button material-icons'style={constStyles.body}\n                            onClick={customizeContraints}>menu</button>\n                    <label>Constraint</label>  \n                </div>\n\n                <Collapse   isOpen={isConstraintsOpen}>\n                    <ConstraintComp  triple={triple} />           \n                </Collapse> \n                \n                <div className='zone' style={facetStyles.body}>\n                    <button className='btnZone mdc-icon-button material-icons' style={facetStyles.body}\n                    onClick={customizeFacet}>menu </button> \n                     <label>Facet</label> \n                </div>\n\n                <Collapse   isOpen={isFacetOpen}>\n                    <FacetContainer triple={triple}/> \n                </Collapse> \n\n                <div className='zone' style={refStyles.body}>\n                    <button className='btnZone mdc-icon-button material-icons' style={refStyles.body}\n                            onClick={customizeRef}>menu </button>\n                             <label>Shape Reference</label>  \n                </div>\n                <Collapse  isOpen={isRefOpen}>\n                    <ShapeRefComp triple={triple}/>      \n                </Collapse> \n\n                <div className='zone' style={cardStyles.body}>\n                    <button className='btnZone mdc-icon-button material-icons' style={cardStyles.body}\n                            onClick={customizeCardinality}>menu </button>  \n                     <label>Cardinality</label>  \n                </div>\n                <Collapse  isOpen={isCardinalityOpen}>\n                    <CardinalityComp triple={triple}/>      \n                </Collapse>*/","import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../App';\nimport ShapeHeader from  './headers/ShapeHeader';\nimport CustomComp from './customize/CustomComp';\nimport TripleComponent from './TripleComponent';\nimport Triple from '../../../../../entities/shexEntities/triple';\nimport Properties from '../../../../../conf/properties';\n\nexport const ShapeContext = React.createContext();\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(AppContext);\n    const {shape} = props;\n    const styles = Properties.getInstance().getShapeStyle();\n\n    const [triples,setTriples] = useState(shape.triples);\n    const [isCustomOpen,setCustomOpen] = useState(false);\n    const [isTriplesOpen,setTriplesOpen] = useState(true);\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\n\n    let initialDisabled = false;\n    if(shape.type.value == '')initialDisabled = true;\n    const [disabled,setDisabled] = useState(initialDisabled);\n\n\n    const addTriple = function(){\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n\n        setTriples([...triples,triple]);\n        \n        shape.addTriple(triple);\n        context.emit();       \n    }\n\n    const deleteTriple = function(tripleId){\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples)\n        shape.setTriples(newTriples);\n        context.emit();\n        \n    }\n\n\n    const customizeShape = function(){\n        //Completly collapsed shape open just customShape\n        if(!isCustomOpen && !isTriplesOpen ){\n            setCustomOpen(true);\n            setTriplesOpen(false);\n        }else{\n            //CustomShape opened  opens triples on collapse\n            setCustomOpen(!isCustomOpen);\n            setTriplesOpen(!isTriplesOpen);\n        }\n\n        setColapseBtn('menu');\n    }\n\n    const collapseTriples = function(){\n        setCustomOpen(false);\n        setTriplesOpen(!isTriplesOpen);\n        \n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n    return (\n\n        <ShapeContext.Provider value={{disabled:disabled,setDisabled:setDisabled}}>\n            <div className=\"shape\" style={styles.header}>\n                <ShapeHeader shape={shape} \n                            customizeShape={customizeShape} \n                            collapseTriples={collapseTriples} \n                            colapseBtn={colapseBtn}/>\n\n                <CustomComp  entity={shape}\n                            isCustomOpen={isCustomOpen}\n                            qualifier={true}\n                            bnode={true}\n                            customClass=\"customShape\"/>\n\n                    \n                <Collapse  isOpen={isTriplesOpen}>\n                     <div className=\"triples\" style={styles.body}>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\"\n                                style={styles.addTriple} \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                </Collapse> \n            </div>\n        </ShapeContext.Provider>\n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n/*\n\n\n                     <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div> <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div>\n\n                    */","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport ShapeComponent from './shEx/ShapeComponent';\nimport Properties from '../../../../conf/properties';\n\nfunction Shapes (props) {\n\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getShapeStyle();\n\n    return ( \n        <div className='showAsist'>\n            {context.shapes.map(shape =>{return  <ShapeComponent shape={shape} key={shape.id}/> })}\n                <div className=\"addCont\">\n                    <button className=\"xs-addShapeButton\"\n                            style={styles.addShape} \n                            onClick={context.addShape}\n                            title=\"Add Shape\">\n                            + Shape\n                    </button>\n                </div>\n        </div>\n        );\n}\n\n\nexport default Shapes;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistLoader (props) {\n\n    const context = useContext(AppContext);\n\n    return (<div className='hideLoader'>\n                <div className=\"loader\"></div>\n            </div>);\n}\n\n\nexport default AssistLoader;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport CodeMirror from 'codemirror';\nimport Editor from '../../../entities/editor';\nimport '../../../css/btn/button.css';\n\nfunction AssistError (props) {\n\n    const context = useContext(AppContext);\n\n    const handle = function(){\n        let yashe = Editor.getYashe();\n        CodeMirror.signal(yashe,'convert');\n    }\n\n    return (<div className='infoAssist'>\n                <div className='hideError'>\n                    <div className='shapeErrorCont'>\n                        <div className='shapeError'></div>\n                        <p className='errorMsg'></p>\n                    </div>\n                </div>\n                <div className='hideConvert'>\n                    <a className=\"button\">\n                        <span onClick={handle}>Convert</span>\n                    </a>\n                </div>\n            </div>);\n}\n\n\nexport default AssistError;\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../../../../App';\nimport Properties from '../../../../../conf/properties';\n\nfunction PrefixComp (props) {\n\n        const context = useContext(AppContext);\n        const {prefix} = props;\n        const styles = Properties.getInstance().getPrefixStyle();\n        const [name,setName] = useState(prefix.prefixName);\n        const [value,setValue] = useState(prefix.prefixValue);\n        const open = '<';\n        const close = '>';\n  \n        const handleAlias  = function(e,prefix){\n                prefix.prefixName = e.target.value;\n                setName(e.target.value);\n                context.emitPref();\n        }\n\n        const handleIri  = function(e,prefix){\n                prefix.prefixValue = e.target.value;\n                setValue(e.target.value);\n                context.emitPref();\n        }\n      \n        return (\n                <div className='xs-prefixHeader' style={styles.header}>            \n                    <input  type=\"text\" \n                            className=\"prefixName prefixInput\"\n                            placeholder=\"eg: schema\"\n                            value={name}\n                            onChange={(e)=>handleAlias(e,prefix)}\n                            title=\"Alias\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\n                    <input  type=\"text\" \n                            className=\"prefixInput\"\n                            value={value}\n                            placeholder=\"eg: http://schema.org/\"\n                            onChange={(e)=>handleIri(e,prefix)}\n                            title=\"IRI\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\n                    <button className=\"deletePrefix mdc-icon-button material-icons\" \n                            style={styles.delete}\n                            onClick={()=>context.deletePrefix(prefix.id)}\n                            title=\"Delete Prefix\">\n                            delete\n                    </button>                              \n                </div>)\n     \n}\n\nexport default PrefixComp;\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../../../App';\nimport PrefixComp from './prefix/PrefixComp';\nimport Properties from '../../../../conf/properties';\nimport '../../../../css/shexComponents/headers/PrefixHeader.css';\n\nfunction Prefixes (props) {\n\n        const context = useContext(AppContext);\n        const styles = Properties.getInstance().getPrefixStyle();\n        return (\n                <div>\n                        {context.prefixes.map(prefix =>{\n                                return(<PrefixComp key={prefix.id} prefix={prefix}/>)\n                        })}\n                        <div className=\"addCont\">\n                        <button className=\"addPrefixBtn\"\n                                style={styles.add}\n                                onClick={context.addPrefix}\n                                title=\"Add Prefix\">\n                                + Prefix\n                        </button>\n                        </div>   \n                </div>\n                );\n}\n\nexport default Prefixes;\n","import React,{useContext,useState} from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeView (props) {\n\n        const {colors} = props;\n        const styles = Properties.getInstance().getShapeStyle();\n\n        return ( <div className='xs-header' style={styles.header}>            \n                        <label style={styles.label}>Shape</label>\n                        <Textbox/> \n                        <button style={styles.custom} \n                        className=\"buildBtn mdc-icon-button material-icons\">build</button>\n                        <button style={styles.delete} \n                        className=\"deleteShapeBtn mdc-icon-button material-icons\" >delete</button>\n                        <button style={styles.collapse} \n                        className=\"collapseBtn mdc-icon-button material-icons\">menu</button>\n                    </div>);\n}\n\nexport default ShapeView;\n","import React,{useContext,useState} from 'react';\nimport Properties from '../../../../../../conf/properties';\n\nfunction TripleView (props) {\n\n        const styles = Properties.getInstance().getTripleStyle();\n\n        return (  <div className=\"xs-tripleHeader\" style={styles.header}>            \n            <input  type=\"text\" \n                    className=\"name\"\n                    placeholder=\"eg: name\"\n                    title=\"Triple Constraint Name\"/>\n\n            <button className=\"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.custom}\n                    title=\"Customize Triple\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    title=\"Delete Triple Constraint\">\n                    delete\n            </button>\n        </div>);\n}\n\nexport default TripleView;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport {AssistContext} from '../../../../Assistant';\nimport '../../../../../../css/shexComponents/customize/Custom.css'\nimport '../../../../../../css/color/colors.css'\nimport { ChromePicker,SketchPicker } from 'react-color';\nimport reactCSS from 'reactcss';\nimport { useCookies } from 'react-cookie';\nimport {SHAPE_COLORS} from '../../../../../../conf/colors';\nimport {DEFAULTS} from '../../../../../../conf/config';\n\nfunction ColorPicker (props) {\n\n    const context = useContext(AppContext);\n    const asssistContext = useContext(AssistContext);\n    const {namespace,element,cookie} = props;\n    const [color,setColor] = useState(namespace[element]);\n    const [isDisplay,setDisplay] = useState(false);\n    const [cookies, setCookie] = useCookies('cookies');\n    \n    const handleClick = () => {\n      setDisplay(!isDisplay);\n    };\n\n    const handleClose = () => {\n      //setDisplay(false);\n     // setCookie('shapeColors', SHAPE_COLORS, { path: '/' });\n    };\n\n    const handle = (e) => {\n      setColor(e.hex);\n      asssistContext.handleChange(e.hex,element,namespace)\n      if(DEFAULTS.saveColors){\n        setCookie(cookie, namespace, { path: '/' });     \n      }\n    };\n\n    const styles = reactCSS({\n      'default': {\n        color: {\n          width: '36px',\n          height: '14px',\n          borderRadius: '2px',\n          background: color,\n        },\n        swatch: {\n          padding: '3px',\n          background: '#fff',\n          borderRadius: '1px',\n          boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n          display: 'inline-block',\n          cursor: 'pointer',\n        },\n        popover: {\n          position: 'absolute',\n          transform: 'translateX(-80%)',\n          zIndex: '5000',\n        },\n        cover: {\n          position: 'fixed',\n          top: '0px',\n          right: '0px',\n          bottom: '0px',\n          left: '0px',\n        },\n      },\n    });\n\n\n    return (\n            <div>\n                <div style={ styles.swatch } onClick={ handleClick }>\n                    <div style={ styles.color } />\n                </div>\n                { isDisplay ? \n                    <div style={ styles.popover }>\n                        <div style={ styles.cover } onClick={handleClose}/>\n                        <ChromePicker  color={color} onChange={handle} onChangeComplete={handleClose}/>\n                    </div> \n                    \n                    : null \n                }\n            </div>       \n    );\n                                   \n    \n}\n\n\nexport default ColorPicker;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport ColorPicker from './ColorPicker';\nimport '../../../../../../css/shexComponents/customize/Custom.css'\nimport '../../../../../../css/color/colors.css'\n\nfunction ColorComp (props) {\n\n    const context = useContext(AppContext);\n    const {namespace,pickers,labelType,bodyType,cookie} = props;\n\n    return (\n        <div className='customColapse' style={bodyType}>             \n            <div style={bodyType}>\n                 <div className='xs-pickers'>\n                    {pickers.map(p=>{\n                        return(<div className='picker' key={p.element}>\n                                    <label style={labelType}>{p.tag}</label>\n                                    <ColorPicker namespace={namespace} element={p.element} cookie={cookie}/>\n                                </div>)\n                    })}\n                </div>\n            </div> \n        </div>               \n    );\n                                   \n    \n}\n\n\nexport default ColorComp;\n","/** COLOR PICKERS */\n\nexport const SHAPE_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Custom',element:'custom'},\n        {tag:'Custom Fill',element:'customFill'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Collapse',element:'collapse'},\n        {tag:'Shape Body',element:'body'}];\n\nexport const TRIPLE_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Custom',element:'custom'},\n        {tag:'Custom Fill',element:'customFill'},\n        {tag:'Constraint',element:'constraint'},\n        {tag:'Constraint Fill',element:'constraintFill'},\n        {tag:'Facet',element:'facet'},\n        {tag:'Facet Fill',element:'facetFill'},\n        {tag:'Shape Ref',element:'shapeRef'},\n        {tag:'Shape Ref Fill',element:'shapeRefFill'},\n        {tag:'Cardinality',element:'cardinality'},\n        {tag:'Cardinality Fill',element:'cardinalityFill'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Collapse',element:'collapse'},\n        {tag:'Triple Body',element:'body'},];\n\nexport const CONSTRAINT_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Constraint Body',element:'body'},\n        {tag:'Add Value',element:'add'},\n        {tag:'Add Value Fill',element:'addFill'},\n        {tag:'Delete Value',element:'delete'}];\n\nexport const FACET_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Facet Body',element:'body'},\n        {tag:'Add Facet',element:'add'},\n        {tag:'Add Facet Fill',element:'addFill'},\n        {tag:'Delete Facet',element:'delete'}];\n\nexport const SHAPEREF_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Shape Ref Body',element:'body'}];\n\nexport const CARDINALITY_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Cardinality Body',element:'body'}];\n\nexport const BTNS_PICKERS = [\n        {tag:'Add Triple Constraint',element:'addTriple'},\n        {tag:'Add Triple Constraint Fill',element:'addTripleFill'},\n        {tag:'Add Shape',element:'addShape'},\n        {tag:'Add Shape Fill',element:'addShapeFill'},];\n\nexport const PREFIX_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Add Prefix',element:'add'},\n        {tag:'Add Prefix Fill',element:'addFill'},];","import React,{useContext,useState} from 'react';\nimport ShapeView from './views/ShapeView';\nimport TripleView from './views/TripleView';\nimport ColorComp from './utils/ColorComp';\nimport {SHAPE_PICKERS,\n        TRIPLE_PICKERS,\n        CONSTRAINT_PICKERS,\n        FACET_PICKERS,\n        SHAPEREF_PICKERS,\n        CARDINALITY_PICKERS,\n        BTNS_PICKERS} from '../../../../../conf/pickers';\n\nimport {SHAPE_COLORS,\n        TRIPLE_COLORS,\n        CONSTRAINT_COLORS,\n        FACET_COLORS,\n        SHAPEREF_COLORS,\n        CARDINALITY_COLORS,\n        BTNS_COLORS} from '../../../../../conf/colors';\n\n\nimport Properties from '../../../../../conf/properties';\n\nfunction ShapeColors (props) {\n\n        const shapeStyles = Properties.getInstance().getShapeStyle();\n        const tripleStyles = Properties.getInstance().getTripleStyle();\n        const constraintStyles = Properties.getInstance().getConstraintStyle();\n        const facetStyles = Properties.getInstance().getFacetStyle();\n        const shapeRefStyles = Properties.getInstance().getShapeRefStyle();\n        const cardinalityStyles = Properties.getInstance().getCardinalityStyle();\n\n        return ( \n        <div>\n                <div className=\"shape\" style={shapeStyles.header}>\n        \n                        <ShapeView/>\n                        <TripleView/>\n\n                        <ColorComp      namespace={SHAPE_COLORS} \n                                        pickers={SHAPE_PICKERS} \n                                        labelType={shapeStyles.label}\n                                        bodyType={shapeStyles.body}\n                                        cookie='shapeColors'/>   \n\n                        <ColorComp      namespace={TRIPLE_COLORS} \n                                        pickers={TRIPLE_PICKERS}\n                                        labelType={tripleStyles.label} \n                                        bodyType={tripleStyles.body}\n                                        cookie='tripleColors'/>\n                                        \n                        <ColorComp      namespace={CONSTRAINT_COLORS} \n                                        pickers={CONSTRAINT_PICKERS}\n                                        labelType={constraintStyles.label} \n                                        bodyType={constraintStyles.body}\n                                        cookie='constraintColors'/>\n\n                        <ColorComp      namespace={FACET_COLORS} \n                                        pickers={FACET_PICKERS}\n                                        labelType={facetStyles.label} \n                                        bodyType={facetStyles.body}\n                                        cookie='facetColors'/>\n\n                        <ColorComp      namespace={SHAPEREF_COLORS} \n                                        pickers={SHAPEREF_PICKERS} \n                                        labelType={shapeRefStyles.label}\n                                        bodyType={shapeRefStyles.body}\n                                        cookie='shapeRefColors'/>\n                                        \n                        <ColorComp      namespace={CARDINALITY_COLORS} \n                                        pickers={CARDINALITY_PICKERS}\n                                        labelType={cardinalityStyles.label} \n                                        bodyType={cardinalityStyles.body}\n                                        cookie='cardinalityColors'/>\n\n                        <ColorComp      namespace={SHAPE_COLORS} \n                                        pickers={BTNS_PICKERS} \n                                        labelType={shapeStyles.label}\n                                        bodyType={shapeStyles.body}\n                                        cookie='constraintColors'/> \n\n\n                    <div className=\"triples\" style={shapeStyles.body}>\n                        <button className=\"xs-addTripleButton\"\n                                style={shapeStyles.addTriple}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>\n                    </div>\n\n                </div>\n                <div className=\"addCont\">\n                    <button className=\"xs-addShapeButton\"\n                            style={shapeStyles.addShape}\n                            title=\"Add Shape\">\n                            + Shape\n                    </button>\n                </div>\n        </div>);\n}\n\nexport default ShapeColors;\n","import React,{useContext,useState} from 'react';\nimport Properties from '../../../../../../conf/properties';\n\nfunction PrefixView (props) {\n\n        const {colors} = props;\n        const styles = Properties.getInstance().getPrefixStyle();\n        const open = '<';\n        const close = '>';\n\n        return (<div className='xs-prefixHeaderColors' style={styles.header}>            \n                    <input  type=\"text\" \n                            className=\"prefixName prefixInput\"\n                            placeholder=\"eg: schema\"\n                            title=\"Alias\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\n                    <input  type=\"text\" \n                            className=\"prefixInput\"\n                            placeholder=\"eg: http://schema.org/\"\n                            title=\"IRI\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\n                    <button className=\"deletePrefix mdc-icon-button material-icons\"\n                            style={styles.delete}\n                            title=\"Delete Prefix\">\n                            delete\n                    </button>                              \n                </div>);\n}\n\nexport default PrefixView;\n","import React,{useContext,useState} from 'react';\nimport PrefixView from './views/PrefixView';\nimport ColorComp from './utils/ColorComp';\nimport {PREFIX_PICKERS} from '../../../../../conf/pickers';\nimport {PREFIX_COLORS} from '../../../../../conf/colors';\nimport Properties from '../../../../../conf/properties';\n\nfunction PrefixColors (props) {\n\n        const styles = Properties.getInstance().getPrefixStyle();\n   \n        return (<div className='prefixColorContainer' style={styles.body}>\n                    <PrefixView/>\n                    <ColorComp  namespace={PREFIX_COLORS} \n                                pickers={PREFIX_PICKERS} \n                                labelType={styles.specialLabel}\n                                bodyType={styles.body}/> \n\n                    <div className=\"addCont\">\n                    <button className=\"addPrefixBtn\" \n                            style={styles.add}\n                            title=\"Add Prefix\">\n                            + Prefix\n                    </button>\n                    </div>   \n                    \n                </div>);\n}\n\nexport default PrefixColors;\n","import React,{useContext,useState} from 'react';\nimport ShapeColors from './color/ShapeColors';\nimport PrefixColors from './color/PrefixColors';\n\nfunction Colors (props) {\n\n        return ( <div>\n                    <ShapeColors/>\n                    <br/>\n                    <PrefixColors/>\n                </div>);\n}\n\nexport default Colors;","import React,{useContext,useState} from 'react';\nimport Toggle from 'react-toggle';\nimport \"react-toggle/style.css\";\nimport '../../../../css/conf/config.css';\nimport {DEFAULTS} from '../../../../conf/config';\nimport Properties from '../../../../conf/properties';\nimport {AppContext} from '../../../../App';\nimport { useCookies } from 'react-cookie';\nimport Editor from '../../../../entities/editor';\nimport CodeMirror from 'codemirror';\n\nfunction Config (props) {\n\n        const context = useContext(AppContext);\n        const [sinc, setSinc] = useState(DEFAULTS.sincronize);\n        const [pretty, setPretty] = useState(DEFAULTS.pretty);\n        const [saveColors, setSaveColors] = useState(DEFAULTS.saveColors);\n        const [cookies, setCookies] = useCookies('cookies');\n\n        const handleSincChange = function(e){\n            setSinc(!sinc);\n            DEFAULTS.sincronize = !sinc;\n            setCookies('conf', DEFAULTS, { path: '/' }); \n            let yashe = Editor.getYashe();    \n            CodeMirror.signal(yashe,'sinc',!sinc);\n        }\n\n        const handlePrettyChange = function(e){\n            let newPretty = e.target.value;\n            DEFAULTS.pretty = newPretty;\n            setPretty(newPretty);\n            setCookies('conf', DEFAULTS, { path: '/' });     \n            context.emit();\n        }\n\n        const handleSaveColorsChange = function(){\n            DEFAULTS.saveColors = !saveColors;\n            setCookies('conf', DEFAULTS, { path: '/' });\n            setSaveColors(!saveColors);\n        }\n\n        const restoreColors = function(){\n            let confirm = window.confirm('Are you sure?');\n            if(confirm)Properties.getInstance().restoreDefaultColors();\n        }\n\n        const restoreConfig = function(){\n            let confirm = window.confirm('Are you sure?');\n            if(confirm){\n                Properties.getInstance().restoreDefaultConfig();\n                setSinc(DEFAULTS.sincronize);\n                setSaveColors(DEFAULTS.saveColors);\n                setPretty(DEFAULTS.pretty);\n            }\n        }\n\n        return ( <div>\n                    <div className='option'>\n                        <span>Sincronize Editor</span>\n                        <div className='togleContainer'>\n                            <Toggle  checked={sinc}  icons={false} onChange={handleSincChange}/>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Save Color Preferences</span>\n                        <div className='togleContainer'>\n                            <Toggle checked={saveColors}  icons={false} onChange={handleSaveColorsChange}/>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Pretty Print</span>\n                        <div className='togleContainer'>\n                            <select className='customPretty'\n                                value={pretty}\n                                onChange={handlePrettyChange}>\n                                <option value='none'>None</option>\n                                <option value='pretty1'>Pretty1</option>\n                                <option value='pretty2'>Pretty2</option>\n                                <option value='pretty3'>Pretty3</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Restore Default Colors</span>\n                        <div className='togleContainer'>\n                             <button className='aplyBtn' onClick={restoreColors}>Apply</button>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Restore Default Config</span>\n                        <div className='togleContainer'>\n                             <button className='aplyBtn' onClick={restoreConfig}>Apply</button>\n                        </div>\n                    </div>\n                    \n                </div>);\n}\n\nexport default Config;","import React,{useContext,useState} from 'react';\nimport {AssistContext} from '../Assistant';\nimport { Collapse } from 'reactstrap';\nimport Shapes from './tabs/Shapes';\nimport AssistLoader from './AssistLoader';\nimport AssistError from './AssistError';\nimport Prefixes from './tabs/Prefixes';\nimport Colors from './tabs/Colors';\nimport Config from './tabs/Config';\n\nfunction AssistContent (props) {\n\n    const asssistContext = useContext(AssistContext);\n\n    return ( \n    <div>\n        <div id='assistant-container' className='assistantContainer'> \n                \n                <Collapse isOpen={asssistContext.isAssistOpen}>\n                    <Shapes/>\n                    <AssistLoader/>\n                    <AssistError/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isPrefixesOpen}>\n                    <Prefixes/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isColorsOpen}>\n                    <Colors/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isConfigOpen}>\n                    <Config/>\n                </Collapse>\n                \n            </div>\n        </div>);\n}\n\n\nexport default AssistContent;\n\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../App';\nimport { Collapse } from 'reactstrap';\nimport AssistNav from './assistant/AssistNav';\nimport AssistContent from './assistant/AssistContent';\nimport { Resizable, ResizableBox } from 'react-resizable';\nimport Properties from '../../conf/properties';\nimport '../../css/Assistant.css';\nimport '../../css/resizable/react-resizable.css';\n\nexport const AssistContext = React.createContext();\n\nfunction Assistant (props) {\n\n        const context = useContext(AppContext);\n        const [isAssistOpen, setAssistOpen] = useState(true);\n        const [isPrefixesOpen, setPrefixesOpen] = useState(false);\n        const [isColorsOpen, setColorsOpen] = useState(false);\n        const [isConfigOpen, setConfigOpen] = useState(false);\n        const [color,setColor] = useState('#fffff')\n\n        const handleChange = function(color,element,NAMESPACE){\n            setColor(color);//NECESSARY TO  FORCE RENDER\n            NAMESPACE[element] = color;\n        }\n\n        return (\n                <AssistContext.Provider\n                value={\n                        {\n                        isAssistOpen:isAssistOpen,\n                        isPrefixesOpen:isPrefixesOpen,\n                        isColorsOpen:isColorsOpen,                  \n                        isConfigOpen:isConfigOpen,\n                        setAssistOpen:setAssistOpen,\n                        setPrefixesOpen:setPrefixesOpen,\n                        setColorsOpen:setColorsOpen,\n                        setConfigOpen:setConfigOpen,\n                        handleChange:handleChange\n                        }\n                }>\n                        <Collapse isOpen={context.isAssistantOpen} className='assistCollapse'>\n                        <ResizableBox   width={context.width} \n                                        height={100} //Just to avoid console errors, but ignore it\n                                        onResize={(e,data)=>context.handleResize(e,data)}\n                                        resizeHandles={['e']}  \n                                        minConstraints={[470, 100]} maxConstraints={[1000, 1000]}>\n                                \n                                <div className='containerAssist'>                                    \n                                        <AssistNav/>\n                                        <AssistContent/>              \n                                </div>\n                                \n                        </ResizableBox>\n                        </Collapse>      \n                </AssistContext.Provider>);\n}\n\n\nexport default Assistant;","import React, {useState,useContext,useEffect,useRef} from 'react';\nimport 'yashe/dist/yashe.min.css';\nimport {AppContext} from '../../App';\nimport {DEFAULTS} from '../../conf/config';\n\nimport CodeMirror from 'codemirror';\nimport YASHE from 'yashe';\nimport Editor from '../../entities/editor';\n\nimport yasheUtils from '../../utils/yasheUtils';\nimport {defaultExample} from '../../galery/defaultExample';\nimport Prefix from '../../entities/shexEntities//others//prefix';\n\nimport '../../css/Yashe.css';\nimport '../../css/themes/author.css';\nimport '../../css/themes/author-dark.css';\n\nconst ERROR_EDITOR_MSG = 'Ops... There are some errors in the editor';\nconst COMPLEX_SHAPE_MSG = 'Sorry that Shape is too complex for me';\n\nfunction EditorComp() {\n\n    const context = useContext(AppContext);\n    const [yashe,setYashe] = useState(null);\n    const divRef = useRef(null);\n    \n\n    const defaultPrefixes = [\n                new Prefix('','http://example.org/',0),\n                new Prefix('schema','http://schema.org/',1),\n                new Prefix('xsd','http://www.w3.org/2001/XMLSchema#',2)\n    ]\n\n    useEffect(() => {\n    \n        if (!yashe) {\n            const options = {\n                persistent:false,\n                lineNumbers: true,\n                showTooltip:true,\n                theme:'author-dark',\n                value:defaultExample\n            }\n            \n            const y = YASHE(divRef.current,options);\n\n            \n            y.on('humanEvent', function(shapes,width) {\n                yasheUtils.draw(y,shapes);\n                y.isComplex=false;\n                y.oldShapes = shapes;\n                let data={size:{width:width}};\n                context.handleResize(null,data);\n            });\n\n            y.on('convert',function(){\n                if(!y.hasErrors(y)){\n                    hideError();\n                    updateAssist();\n                }else{\n                    hideError();\n                    hideConvert();\n                    loading();\n                    setTimeout(function() {\n                        loaded();  \n                        showConvert();\n                        showError(ERROR_EDITOR_MSG);\n                    },500) \n                }\n            })\n\n            //When the sinc is activated we activate the appropriate handlers \n            //Otherwise it will be desactivated\n            y.on('sinc', function(sinc) {\n                if(sinc){\n                    y._handlers.focus = null;\n                    hideConvert();\n                    if(y.isComplex)showError(COMPLEX_SHAPE_MSG);\n                    if(y.hasErrors(y))showError(ERROR_EDITOR_MSG);\n        \n                    y.on('keyup',yasheUtils.debounce(function( e ) {\n                        if(!y.hasErrors(y)){\n                            hideError();\n                            let newShapes = yasheUtils.getShapes();\n                            if(y.oldShapes.length == newShapes.length){ //Any new shape?\n                                if(newShapes.toString()!=y.oldShapes.toString()){ //Any update?\n                                    y.isComplex=false;\n                                    y.oldShapes = replaceShapes();\n                                }\n                            }else{\n                                updateAssist();\n                            } \n                        }else{\n                            showError(ERROR_EDITOR_MSG);\n                        }   \n                    }, 500));\n\n\n                }else{\n                    //Not really elegant I know     \n                    y._handlers.keyup = null; \n                    y._handlers.keyHandled = null; \n                    if(y.hasErrors(y))showConvert();\n                    if(y.isComplex)showConvert();\n                    y.on('focus', function() {\n                       showConvert();\n                    });       \n                }\n                \n            });\n\n            y.on('prefixChange', function(prefixes,width) {\n                console.log(prefixes)\n               /*  yasheUtils.draw(yashe,y.oldShapes,prefixes);\n                let data={size:{width:width}};\n                context.handleResize(null,data); */\n            });\n\n            y.on('forceError', function(prefixes) {\n                y.isComplex=true;\n                hideError();\n                loading();\n                setTimeout(function() {\n                    loaded(); \n                    showError(COMPLEX_SHAPE_MSG);\n                    if(!DEFAULTS.sincronize)showConvert();\n                },500)\n            });\n\n            y.on('delete', function() {\n                y.isComplex=false;\n                y.oldShapes = replaceShapes();\n                updatePrefixes(defaultPrefixes);\n            });\n\n            y.on('upload', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                    updatePrefixes();\n                }\n            });\n\n            //Load example from Galery\n            y.on('galery', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                    updatePrefixes();\n                }\n            });\n\n        \n            y.refresh();\n            setYashe(y);\n            \n\n            Editor.getInstance().setYashe(y);\n\n            y.oldShapes = replaceShapes();\n            updatePrefixes(defaultPrefixes)\n\n            CodeMirror.signal(y,'sinc',DEFAULTS.sincronize);\n        }\n    }, [yashe]\n    );\n\n    \n\n    const replaceShapes = function(){\n        let newShapes = yasheUtils.getShapes();\n        context.replaceShapes(newShapes);\n        return newShapes;\n    }\n\n    const updatePrefixes = function(prefixes){\n        if(!prefixes) prefixes = yasheUtils.getPrefixes();\n        context.replacePrefixes(prefixes);\n        return prefixes;\n    }\n\n\n    const updateAssist = function(){\n        let yashe = Editor.getYashe();\n        hideConvert();\n        loading();\n        setTimeout(function() {\n            yashe.isComplex=false;  \n            yashe.oldShapes = replaceShapes();               \n            loaded();\n        },500)\n    }\n\n\n     const animate = function(before1,after1,before2,after2){\n        let e1 = document.getElementsByClassName(before1)[0];\n        if(e1) e1.className = after1;\n        let e2 = document.getElementsByClassName(before2)[0];\n        if(e2) e2.className = after2;\n     }\n\n    const loading = function(){\n        animate('showAsist','hideAsist','hideLoader','showLoader');\n    }\n\n    const loaded = function(){\n         animate('showLoader','hideLoader','hideAsist','showAsist');\n    }\n\n    const showError = function(err){\n        animate('hideError','showError','showAsist','hideAsist');\n        document.getElementsByClassName('errorMsg')[0].textContent = err;\n    }\n\n    const showConvert = function(err){\n        animate('hideConvert','showConvert','showAsist','hideAsist');\n    }\n\n    const hideError = function(){\n        animate('showError','hideError','hideAsist','showAsist');\n    }\n\n    const hideConvert = function(){\n        animate('showConvert','hideConvert','hideAsist','showAsist');\n    }\n\n\n    return  (<div className=\"col edit\" ref={divRef}/>);\n\n}\n\n   \nexport default EditorComp;\n\n","import React from 'react';\nimport Toolbar from './mainComps/Toolbar';\nimport AssistantComp from './mainComps/Assistant';\nimport EditorComp from './mainComps/EditorComp';\n\nfunction MainContainer () {\n\n    return (\n      <div className=\"globalContainer\">       \n        <div className=\"row comps\">                     \n           <Toolbar/>\n           <AssistantComp/>                                              \n           <EditorComp/>                       \n        </div>\n      </div>);\n\n}\n\n\n\nexport default MainContainer;\n","import React,{useState} from 'react';\nimport {Collapse} from 'reactstrap';\n\nfunction Visualizer (props) {\n\n    const {svg,isVisualizeOpen} = props;\n\n    return (\n    <Collapse isOpen={isVisualizeOpen} >\n        <div className=\"visualize\"> \n            <div className=\"umlContainer\">   \n                <div className='uml' dangerouslySetInnerHTML={{__html:svg}}/> \n            </div>\n        </div>\n    </Collapse>);\n\n    \n}\n\nexport default Visualizer;","\nimport React, {useState,useEffect} from 'react';\nimport axios from 'axios';\nimport { CookiesProvider } from 'react-cookie';\nimport Nav from './components/Nav';\nimport MainContainer from './components/MainContainer';\nimport Visualizer from './components/Visualizer';\nimport shexUtils from './utils/shexUtils';\nimport {emitPrefixes} from './utils/prefixUtils';\nimport {makeItResponsive,checkShapeName} from './utils/cssUtils';\nimport yasheUtils from './utils/yasheUtils';\nimport Editor from './entities/editor';\nimport {addPrefixComp,deletePrefixComp} from './utils/prefixUtils';\nimport './css/App.css';\n\nexport const AppContext = React.createContext();\n\nfunction App() {\n\n    const [shapes,setShapes] = useState([]);\n    const [prefixes,setPrefixes] = useState([]);\n    const [svg,setSvg] = useState('');\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\n    const [isToolBarOpen, setToolBarOpen] = useState(true);\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\n    const [width,setWidth] = useState(470);//700\n\n    const assistantToggle = () => setAssistantOpen(!isAssistantOpen);\n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n    const toolbarToggle = () => setToolBarOpen(!isToolBarOpen);\n    const colapseAll = () =>{\n      setAssistantOpen(!isToolBarOpen);\n      setVisualizeOpen(!isToolBarOpen);\n      setToolBarOpen(!isToolBarOpen);\n    }\n\n    const addShape = () =>{\n      let shape = shexUtils.addShape(shapes,width);\n      setShapes([...shapes,shape]);\n      checkShapeName(shape)\n      visualize();\n    }\n\n    const deleteShape = (shapeId) =>{\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false,width));\n      visualize();\n    }\n\n    const addPrefix = function(){\n      setPrefixes([...prefixes,addPrefixComp(prefixes,width)]);\n    }\n      \n    const deletePrefix = function(prefixId){\n      setPrefixes(deletePrefixComp(prefixes,prefixId,width));\n    }\n\n    const emit = function(){\n      shexUtils.emit(shapes,width);\n      visualize();\n    }\n\n    const emitPref = function(){\n      emitPrefixes(prefixes,width);\n      visualize();\n    }\n\n    const replaceShapes = (newShapes) =>{\n      //This allows to render all the shapes when a property is updated.\n      //Best Glitch Ever\n      //In fact... I would like to render just the property component...\n      setShapes([]); \n      \n      setShapes(newShapes);\n      visualize();\n    }\n\n    const replacePrefixes = (newPrefixes) =>{\n      \n      setPrefixes([]); \n      setPrefixes(newPrefixes);\n  \n    }\n    \n\n    const visualize = function(){\n\n        let bodyFormData = new FormData();\n        bodyFormData.set('schema', yasheUtils.getSchema());\n        bodyFormData.set('schemaFormat', 'ShExC');\n        bodyFormData.set('schemaEngine', 'SHEX');\n\n        axios({\n            method: 'post',\n            url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n            data: bodyFormData,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n        })\n        .then(function(response){\n            if(response.data.svg != undefined){\n                if(response.data.svg.startsWith('<?xml')){\n                    setSvg(response.data.svg);\n                }else{\n                    setSvg(null)\n                }\n        }\n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n        });\n\n    }\n\n    const handleResize = function(e, data){\n        setWidth(data.size.width)\n        makeItResponsive(data.size.width); \n    }\n    \n    useEffect(() => {\n      makeItResponsive(width);\n    })\n\n\n    return (\n      <CookiesProvider>\n          <AppContext.Provider\n                value={\n                  {\n                  shapes:shapes,\n                  addShape:addShape,\n                  deleteShape:deleteShape,\n                  addPrefix:addPrefix,\n                  deletePrefix:deletePrefix,\n                  replaceShapes:replaceShapes,\n                  replacePrefixes:replacePrefixes,\n                  prefixes:prefixes,\n                  emit:emit,\n                  emitPref:emitPref,\n                  visualize:visualize,\n                  isToolBarOpen:isToolBarOpen,\n                  isAssistantOpen:isAssistantOpen,\n                  isVisualizeOpen:isVisualizeOpen,\n                  assistantToggle:assistantToggle,\n                  visualizeToggle:visualizeToggle,\n                  handleResize:handleResize,\n                  width:width\n                  }\n                }>\n\n              <Nav colapseAll={colapseAll}/>\n              <MainContainer/>\n              <Visualizer svg={svg} isVisualizeOpen={isVisualizeOpen}/>\n                                                  \n          </AppContext.Provider>\n      </CookiesProvider>);\n\n}  \n           \n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname == 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname == '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV == 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state == 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status == 404 ||\n        (contentType != null && contentType.indexOf('javascript') == -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nsetTimeout(() => {    \n    for(let i=0;i<10;i++){\n        let spaces = ' ';\n        for(let j=0;j<i;j++){\n        spaces+='  ';\n        }\n        console.log('%c'+spaces,'color:pink;font-weight:bold;background-color:black; font-size:33px')\n\n    }\n    console.log('%c JavaScript is beautiful','color:pink;font-weight:bold;background-color:black; font-size:33px')\n}, 1000);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}