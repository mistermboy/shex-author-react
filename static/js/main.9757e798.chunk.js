(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{134:function(e,t,a){e.exports=a(386)},156:function(e,t,a){},194:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},375:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(33),r=a.n(i),s=a(21),c=a(1),o=a(131),u=a.n(o),m=a(388);a(156);var d=function(e){var t=e.colapseAll;return l.a.createElement("nav",{className:"navbar navbar-default "},l.a.createElement("div",{className:"navbar-header"},l.a.createElement("button",{className:"collapseAllBtn mdc-icon-button material-icons",type:"button",onClick:t},"menu"),l.a.createElement("span",{className:"shexTitle"},"ShExAuthor"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/YASHE/"},"YASHE"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/"},"Weso"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/"},"About me")))},p=a(389);var f=function(){var e=Object(n.useContext)(ma);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"ShEx Assistant",type:"button",onClick:e.assistantToggle},"info")};var h=function(){var e=Object(n.useContext)(ma);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Visualize",onClick:e.visualizeToggle},"remove_red_eye")},g=a(27),b=a.n(g),v=function(){function e(){this.getYashe=function(){return this.yashe},this.setYashe=function(e){this.yashe=e},this.getPrefixes=function(){var e=this.getYashe().getDefinedPrefixes(),t="";for(var a in e)t+="PREFIX "+a+":    <"+e[a]+">\n";return t+="\n"},this.draw=function(e,t){var a=t;t||(a=this.getPrefixes()),e.forEach((function(e){a+=e.toString()})),this.getYashe().setValue(a)}}var t;return{getInstance:function(){return t||(t=new e),t}}}(),y=a(6),E=a.n(y),O=a(2),C=a(3),w=a(8),x=a(7),S=a(9),j=function(){function e(t){Object(O.a)(this,e),this.value=t}return Object(C.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://example.org/",n=arguments.length>2?arguments[2]:void 0;Object(O.a)(this,e),this.prefixName=t,this.prefixValue=a,this.id=n}return Object(C.a)(e,[{key:"getPrefixName",value:function(){return this.prefixName}},{key:"getPrefixValue",value:function(){return this.prefixValue}}]),e}(),N=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new k,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(O.a)(this,t),(e=Object(w.a)(this,Object(x.a)(t).call(this,n))).prefix=a,e}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getPrefix",value:function(){return this.prefix}},{key:"setPrefix",value:function(e){this.prefix=e}},{key:"getTypeName",value:function(){return"prefixedIri"}},{key:"toString",value:function(){return this.getPrefix().getPrefixName()+":"+this.getValue()}}]),t}(j),T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"iriRef"}},{key:"toString",value:function(){return"<"+this.getValue()+">"}}]),t}(j),F=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"example";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"bnodeType"}},{key:"toString",value:function(){return"_:"+this.getValue()}}]),t}(j),I=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"blankType"}},{key:"toString",value:function(){return""}}]),t}(j),B=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"primitive"}},{key:"toString",value:function(){return"none"==this.value?".":"xsd:"+this.getValue()}}]),t}(j),P=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return Object(O.a)(this,t),(e=Object(w.a)(this,Object(x.a)(t).call(this,n))).values=a,e}return Object(S.a)(t,e),Object(C.a)(t,[{key:"addValue",value:function(e){this.values.push(e)}},{key:"getValues",value:function(){return this.values}},{key:"setValues",value:function(e){this.values=e}},{key:"getTypeName",value:function(){return"valueSet"}},{key:"toString",value:function(){var e="[";return this.values.map((function(t){e+=t.toString()+" "})),e+="]"}}]),t}(j),R=function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"literal"}},{key:"toString",value:function(){return"Literal"}}]),t}(j),L=function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"nonliteral"}},{key:"toString",value:function(){return"NONLITERAL"}}]),t}(j),A=function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"iri"}},{key:"toString",value:function(){return"IRI"}}]),t}(j),D=function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"bnode"}},{key:"toString",value:function(){return"BNODE"}}]),t}(j),V=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"stringLiteral"}},{key:"toString",value:function(){return'"'+this.value+'"'}}]),t}(j),z=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"numberLiteral"}},{key:"toString",value:function(){return this.value}}]),t}(j),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).call(this,e))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"booleanLiteral"}},{key:"toString",value:function(){return this.value}}]),t}(j),H=function(){function e(){Object(O.a)(this,e)}return Object(C.a)(e,[{key:"createType",value:function(e){var t;return"iriRef"==e&&(t=new T),"prefixedIri"==e&&(t=new N),"bnodeType"==e&&(t=new F),"blankType"==e&&(t=new I),"primitive"==e&&(t=new B),"literal"==e&&(t=new R),"nonliteral"==e&&(t=new L),"iri"==e&&(t=new A),"bnode"==e&&(t=new D),"valueSet"==e&&(t=new P),"stringLiteral"==e&&(t=new V),"numberLiteral"==e&&(t=new z),"booleanLiteral"==e&&(t=new _),t}}]),e}(),Y=function(e){function t(){return Object(O.a)(this,t),Object(w.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"blank"}},{key:"toString",value:function(){return""}}]),t}(j),X=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N(new k("","http://example.org/")),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Y;Object(O.a)(this,e),this.id=t,this.type=a,this.triples=n,this.triplesCount=this.triples.length,this.factory=new H,this.qualifier=l}return Object(C.a)(e,[{key:"addTriple",value:function(e){this.triples.push(e),this.triplesCount++}},{key:"removeTriple",value:function(e){this.triples=this.triples.filter((function(t){return t.id!=e}))}},{key:"setQualifier",value:function(e){this.qualifier=this.qualifier}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){var e="";return""!=this.type.value&&(e+=this.type+" "+this.qualifier,this.checkContent()&&(e+=" {\n",e+=this.getTriplesString(),e+="}\n\n")),e}},{key:"getTriplesString",value:function(){var e=this,t="",a=this.getLongestElement("type"),n=this.getLongestElement("constraint"),l=this.getLongestElement("shapeRef"),i=this.getLongestElement("cardinality"),r=this.getLongestCR();return this.triples.forEach((function(s){var c=s.type.toString().length,o=s.constraint.toString().length,u=s.shapeRef.toString().length,m=s.cardinality.toString().length,d=a-c,p=n-o,f=l-u,h=i-m,g=r-(o+u);t+=s.toString(e.getSeparators(d,p,f,h,g))})),t}},{key:"checkContent",value:function(){var e=!1;return this.triples.forEach((function(t){""!=t.getType().value&&(e=!0)})),e}},{key:"getLongestElement",value:function(e){var t=0;return this.triples.forEach((function(a){var n=a[e].toString().length;n>t&&(t=n)})),t}},{key:"getLongestCR",value:function(){var e=0;return this.triples.forEach((function(t){var a=t.constraint.toString().length+t.shapeRef.toString().length;a>e&&(e=a)})),e}},{key:"getSeparators",value:function(e,t,a,n,l){return{triple:this.getSeparator(e),constraint:this.getSeparator(t),ref:this.getSeparator(a),card:this.getSeparator(n),CRef:this.getSeparator(l)}}},{key:"getSeparator",value:function(e){for(var t=" ",a=0;a<e;a++)t+=" ";return t}},{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){this.id=e}},{key:"getType",value:function(){return this.type}},{key:"getTriples",value:function(){return this.triples}},{key:"setTriples",value:function(e){this.triples=e}},{key:"getTriplesCount",value:function(){return this.triplesCount}},{key:"setTriplesCount",value:function(e){this.triplesCount=e}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"setQualifier",value:function(e){this.qualifier=e}}]),e}(),q=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"length",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(O.a)(this,e),this.id=t,this.type=a,this.value=n}return Object(C.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getValue",value:function(){return this.value}},{key:"setId",value:function(e){this.id=e}},{key:"setType",value:function(e){this.type=e}},{key:"setValue",value:function(e){this.value=e}},{key:"toString",value:function(){return this.type+" "+this.value}}]),e}(),U={Wikidata:{wikibase:"http://wikiba.se/ontology#",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",wdtn:"http://www.wikidata.org/prop/direct-normalized/",wds:"http://www.wikidata.org/entity/statement/",p:"http://www.wikidata.org/prop/",wdref:"http://www.wikidata.org/reference/",wdv:"http://www.wikidata.org/value/",ps:"http://www.wikidata.org/prop/statement/",psv:"http://www.wikidata.org/prop/statement/value/",psn:"http://www.wikidata.org/prop/statement/value-normalized/",pq:"http://www.wikidata.org/prop/qualifier/",pqv:"http://www.wikidata.org/prop/qualifier/value/",pqn:"http://www.wikidata.org/prop/qualifier/value-normalized/",pr:"http://www.wikidata.org/prop/reference/",prv:"http://www.wikidata.org/prop/reference/value/",prn:"http://www.wikidata.org/prop/reference/value-normalized/",wdno:"http://www.wikidata.org/prop/novalue/",wdata:"http://www.wikidata.org/wiki/Special:EntityData/"},W3C:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",xsd:"http://www.w3.org/2001/XMLSchema#",prov:"http://www.w3.org/ns/prov#"},"Social/Other":{schema:"http://schema.org/",geo:"http://www.opengis.net/ont/geosparql#",geof:"http://www.opengis.net/def/geosparql/function/"},Blazegraph:{bd:"http://www.bigdata.com/rdf#",bds:"http://www.bigdata.com/rdf/search#",gas:"http://www.bigdata.com/rdf/gas#",hint:"http://www.bigdata.com/queryHints#"}},M=0;function Q(e){var t=v.getInstance().getYashe().getDefinedPrefixes();for(var a in t)if(t[a]==e)return new k(a,t[a]);return new k}function W(e,t){var a=e.length+M++,n=new k("","",a),l=[];return(l=Object.assign(l,e)).push(n),Z(l,t),n}function K(e){var t=U,a=v.getInstance().getYashe(),n=a.getValue(),l=(a.getDefinedPrefixes(),"http://example.org/");for(var i in t)for(var r in t[i])r==e&&(l=t[i][r]);a.setValue("PREFIX "+e+": <"+l+">\n"+n),E.a.signal(a,"prefixUpdate")}function Z(e,t){var a=v.getInstance().getYashe();void 0!=a&&E.a.signal(a,"prefixChange",function(e){var t="";return e.map((function(e){t+="PREFIX "+e.prefixName+": <"+e.prefixValue+">\n"})),t}(e),t)}var G=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N(new k("schema","http://schema.org/"));Object(O.a)(this,e),this.id=t,this.type=a,this.factory=new H}return Object(C.a)(e,[{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){return this.type.toString()}}]),e}(),J=0,$=0,ee=0;function te(e,t){var a=v.getInstance().getYashe();void 0!=a&&(E.a.signal(a,"humanEvent",e,t),ae())}function ae(){var e=v.getInstance().getYashe(),t=!1,a=!1,n=!1;Object.keys(e.getDefinedPrefixes()).map((function(e){""==e&&(t=!0),"schema"==e&&(a=!0),"xsd"==e&&(n=!0)})),t||K(""),a||K("schema"),n||K("xsd")}var ne,le={addShape:function(e,t){var a=e.length+J++,n=new X(a),l=[];return(l=Object.assign(l,e)).push(n),ae(),te(l,t),n},deleteShape:function(e,t,a,n){if(a||(a=window.confirm("Are you sure?")),1==a){var l=e.filter((function(e){return e.id!=t}));return te(l,n),l}return e},getShapeById:function(e,t){return e.filter((function(e){return e.id==t}))[0]},getShapeByName:function(e,t){for(var a in e)if(e[a].getType().toString()==t)return e[a]},getTripleById:function(e,t){return e.getTriples().filter((function(e){return e.id==t}))[0]},emit:te,addFacet:function(e){var t=e.length+$++;return new q(t)},addValueSetValue:function(e){var t=e.length+ee++;return new G(t)}},ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(O.a)(this,e),this.min=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return"exactly"}},{key:"toString",value:function(){return"{"+this.min+"}"}}]),e}(),re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(O.a)(this,e),this.min=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return"minLimit"}},{key:"toString",value:function(){return"{"+this.min+",*}"}}]),e}(),se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(O.a)(this,e),this.min=t,this.max=a}return Object(C.a)(e,[{key:"getCardType",value:function(){return"range"}},{key:"toString",value:function(){return"{"+this.min+","+this.max+"}"}}]),e}(),ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";Object(O.a)(this,e),this.value=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),e}(),oe=function(){function e(){Object(O.a)(this,e)}return Object(C.a)(e,[{key:"createCardinality",value:function(e,t,a){return"exactly"==e?new ie(t):"minLimit"==e?new re(t):"range"==e?new se(t,a):new ce(e)}}]),e}(),ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(O.a)(this,e),this.shape=t}return Object(C.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"setShape",value:function(e){this.shape=e}},{key:"toString",value:function(){return this.shape?"@"+this.shape.getType().toString():""}}]),e}(),me={sincronize:!0,pretty:"pretty2",saveColors:!0},de=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N(new k("schema","http://schema.org/")),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new B,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ue,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ce;Object(O.a)(this,e),this.id=t,this.type=a,this.constraint=n,this.shapeRef=l,this.facets=i,this.cardinality=r,this.factory=new H,this.cardFactory=new oe}return Object(C.a)(e,[{key:"addValue",value:function(e){this.constraints.push(e),this.constraintsCount++}},{key:"addFacet",value:function(e){this.facets.push(e)}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"setConstraint",value:function(e){this.constraint=this.factory.createType(e)}},{key:"setCardinality",value:function(e,t,a){this.cardinality=this.cardFactory.createCardinality(e,t,a)}},{key:"getShapeRef",value:function(){return this.shapeRef}},{key:"setShapeRef",value:function(e){this.shapeRef=e}},{key:"getFacets",value:function(){return this.facets}},{key:"setFacets",value:function(e){this.facets=e}},{key:"getConstraint",value:function(){return this.constraint}},{key:"getCardinality",value:function(){return this.cardinality}},{key:"toString",value:function(e){var t="",a=this.getType(),n=this.getConstraint(),l=this.getFacets(),i=this.getShapeRef(),r=this.getCardinality(),s=(e=this.checkPrettyOptions(e)).triple,c=e.constraint,o=e.ref,u=e.card;return""!=a.value&&(t+="  "+a+s,t+=this.checkFacets(),l&&l.map((function(e){t+=" "+e+" "})),""==n.value&&"pretty3"!=me.pretty&&(c="",o+=" "),t+=c+i+o+r+u+";\n"),t}},{key:"checkPrettyOptions",value:function(e){return"none"==me.pretty&&(e.triple=" ",e.constraint=" ",e.ref=" "),"pretty1"==me.pretty&&(e.constraint=" ",e.ref=" "),"pretty2"==me.pretty&&(e.constraint=" ",e.ref=e.CRef),e}},{key:"checkFacets",value:function(){var e=this.getConstraint();this.getShapeRef();return this.facets.length>0?"Primitive"!=e.getTypeName()&&"none"!=e.value?e+" ":"":e}}]),e}(),pe=["string","integer","date","boolean"];function fe(e){var t,a=v.getInstance().getYashe();if(e.startsWith("<"))return t=e.split("<")[1].split(">")[0],new T(t);if(e.startsWith("_:"))return t=e.split(":")[1],new F(t);t=e.split(":")[1];var n=e.split(":")[0],l=function(e,t){var a;for(var n in e)n==t&&(a=e[n]);return a}(a.getDefinedPrefixes(),n),i=new k(n,l);return new N(i,t)}function he(e,t,a){for(var n,l,i=[],r=[],s=(new H).createType(""),c=new ue,o=0;o<t.length;o++){var u=t[o];if("string-2"!=u.type&&"variable-3"!=u.type||(n=fe(u.string)),"constraint"!=u.type&&"constraintKeyword"!=u.type||(l=ge(u.string)),"valueSet"==u.type&&(u.string.startsWith("@")?E.a.signal(v.getInstance().getYashe(),"forceError","LANTAG_ERR"):i.push(new G(i.length,ve(u.string)))),"at"==u.type){var m=ye(u.string);ne.push({shapeId:a,tripleId:e,shapeRef:m})}if("facet"==u.type){var d=t[++o].string,p=r.length,f=u.string.toLowerCase();r.push(new q(p,f,d))}"cardinality"==u.type&&(s=be(u.string)),"string-2"!=u.type&&"constraint"!=u.type&&"constraintKeyword"!=u.type&&"valueSet"!=u.type&&"at"!=u.type&&"facet"!=u.type&&"cardinality"!=u.type&&"punc"!=u.type&&"comment"!=u.type&&E.a.signal(v.getInstance().getYashe(),"forceError"),"~"==u.string&&E.a.signal(v.getInstance().getYashe(),"forceError","EXCLUSION_ERR"),"{"==u.string&&E.a.signal(v.getInstance().getYashe(),"forceError")}return i.length>0&&(l=new P(i)),new de(e,n,l,c,r,s)}function ge(e){var t=(new H).createType(e.toLowerCase());if(void 0!=t)return t;if("prefixedIri"==(t=fe(e)).getTypeName()&&function(e){for(var t in pe)if(pe[t]==e)return!0;return!1}(t.value)){var a=e.split(":")[1];return new B(a)}return t}function be(e){var t=new oe;if(1==e.length)return t.createCardinality(e);var a,n=e.split("{")[1].split("}")[0].split(","),l=n[0];n.length>1&&(a=n[1]);var i="range";return void 0==a&&(i="exactly"),""!=a&&"*"!=a||(i="minLimit"),t.createCardinality(i,l,a)}function ve(e){if(!isNaN(e))return new z(e);if(e.startsWith('"'))return new V(e.substring(1,e.length-1));var t=e.toLowerCase();return"true"==t||"false"==t?new _(t):fe(e)}function ye(e){return e.split("@")[1]}function Ee(e){return e.filter((function(e){return"ws"!=e.type}))}var Oe={getTokens:function(){var e=v.getInstance().getYashe(),t=[];if(void 0!=e)for(var a=0;a<e.lineCount();++a){Ee(e.getLineTokens(a)).forEach((function(e){t.push(e)}))}return t},getDefinedShapes:function(e){var t=0,a=[],n=[],l=0,i=!1;return e.forEach((function(e){"shape"==e.type?((a=[]).push(e),n[l]=a,l++):("{"==e.string&&(i=!0),i?("{"==e.string&&t++,"}"==e.string&&t--,0!=t&&a.push(e)):a.push(e))})),n},getShapes:function(e){ne=[];var t=[];return v.getInstance().getYashe(),e.forEach((function(e){var a=t.length,n=fe(e[0].string),l=function(e){if(e&&"constraintKeyword"==e.type){var t=e.string.toLowerCase();return(new H).createType(t)}return new Y}(e[1]),i=function(e,t){for(var a=[],n=[],l=(v.getInstance().getYashe(),function(e){for(var t=0;t<e.length;t++)if("{"==e[t].string)return t+1}(t));l<t.length;l++)n.push(t[l]),("punc"==t[l].type&&";"==t[l].string||l==t.length-1)&&1!=n.length&&(a.push(he(a.length,n,e)),n=[]);return a}(a,e);t.push(new X(a,n,i,l))})),t},updateShapeRefs:function(e){for(var t in ne){var a=ne[t].shapeId,n=ne[t].tripleId,l=ne[t].shapeRef,i=le.getShapeById(e,a),r=le.getTripleById(i,n),s=le.getShapeByName(e,l);r.shapeRef.setShape(s)}}},Ce=0;var we={DEFAULT_SHAPE:"PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          xsd:string  ;\n  schema:birthDate     xsd:date?  ;\n  schema:birthPlace    xsd:string+  ;\n  schema:knows          @:User*  \n}",VALUESET_SHAPE:'PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          [xsd:string 34 "esd" <asds> false ] ;\n}',replaceShapes:function(){var e=Oe.getTokens(),t=Oe.getDefinedShapes(e),a=Oe.getShapes(t);return Oe.updateShapeRefs(a),a},updatePrefixes:function(e){var t=v.getInstance().getYashe().getDefinedPrefixes(),a=[];return Object.keys(t).map((function(e){var n=a.length+Ce++;a.push(new k(e,t[e],n))})),a},getSchema:function(){var e=v.getInstance().getYashe();return e?e.getValue():""},debounce:function(e,t,a){var n,l;return function(){var i=this,r=arguments,s=function(){n=null,a||(l=e.apply(i,r))},c=a&&!n;return clearTimeout(n),n=setTimeout(s,t),c&&(l=e.apply(i,r)),l}}},xe="PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\nschema:name          xsd:string  ;\nschema:birthDate     xsd:date?  ;\nschema:birthPlace    xsd:string+  ;\nschema:knows          @:User*  \n}\n",Se="PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:  <http://www.wikidata.org/prop/direct/>\nPREFIX p:    <http://www.wikidata.org/prop/>\nPREFIX prov:    <http://www.w3.org/ns/prov#>\nPREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\nPREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\nPREFIX pr:    <http://www.wikidata.org/prop/reference/>\nPREFIX ps:    <http://www.wikidata.org/prop/statement/>\nPREFIX interpro:    <http://micel.io/genewiki/interpro/>\n\n<#wikidata-human-protein>  {\np:P703           @<#P703_found_in_taxon_human>  ;\np:P352           @<#P352_uniprot_id>+  ;\np:P527           @<#P527_has_part>*  ;\np:P637           @<#P637_RefSeq_Protein_ID>*  ;\np:P639           @<#P639_RefSeq_RNA_ID>*  ;\n}\n\n<#P703_found_in_taxon_human>  {\nps:P703          wd:Q15978631   ;\nprov:wasDerivedFrom          IRI +  ;\n}\n\n<#P352_uniprot_id>  {\nps:P352          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P527_has_part>  {\nps:P527          IRI   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P637_RefSeq_Protein_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P639_RefSeq_RNA_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n";function je(){var e=new Blob([v.getInstance().getYashe().getValue()],{type:"text/shex"}),t=document.createElement("a");t.download="document.shex",t.innerHTML="Download File",null!=window.URL?t.href=window.URL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",document.body.appendChild(t)),t.click()}function ke(){var e=v.getInstance().getYashe(),t="wiki";"wiki"==e.getOption("theme")?(t="dark","white",document.getElementById("downloadBtn").classList.add("light"),document.getElementById("copyBtn").classList.add("light"),document.getElementById("deleteBtn").classList.add("light"),document.getElementById("themeBtn").classList.add("light"),document.getElementById("smallBtn").classList.add("light"),document.getElementById("fullBtn").classList.add("light"),document.getElementById("uploadBntLabel").classList.add("light")):(document.getElementById("downloadBtn").classList.remove("light"),document.getElementById("copyBtn").classList.remove("light"),document.getElementById("deleteBtn").classList.remove("light"),document.getElementById("themeBtn").classList.remove("light"),document.getElementById("smallBtn").classList.remove("light"),document.getElementById("fullBtn").classList.remove("light"),document.getElementById("uploadBntLabel").classList.remove("light")),e.setOption("theme",t),E.a.signal(e,"themeChange")}function Ne(){window.scrollTo(0,0)}var Te=function(){var e=Object(n.useContext)(ma);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Undo",onClick:function(){v.getInstance().getYashe().undo(),setTimeout((function(){e.replaceShapes(we.replaceShapes())}),10)}},"undo")};var Fe=function(){var e=Object(n.useContext)(ma);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Redo",onClick:function(){v.getInstance().getYashe().redo(),setTimeout((function(){e.replaceShapes(we.replaceShapes())}),10)}},"redo")},Ie=a(48);var Be=function(){Object(n.useContext)(ma);var e=function(e){!function(e){if(!(e.length>1)){var t=e[0];if(t.name.endsWith(".shex")){var a=new FileReader;a.onload=function(e){v.getInstance().getYashe().setValue(e.target.result)},a.readAsText(t),E.a.signal(v.getInstance().getYashe(),"upload")}}}(e.target.files)};return l.a.createElement("div",{className:"svgBtnCont uploadBtn"},l.a.createElement("input",Object(Ie.a)({type:"file",onChange:e,accept:".shex",name:"file-1[]",id:"file-1",className:"inputfileBtn","data-multiple-caption":"{count}'+'files selected",multiple:!0},"onChange",e)),l.a.createElement("label",{className:"svgBtn",htmlFor:"file-1",title:"Upload"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 20 17"},l.a.createElement("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}))))};var Pe=function(){return Object(n.useContext)(ma),l.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Download",onClick:je},l.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",baseProfile:"tiny",viewBox:"0 0 100 100"},l.a.createElement("path",{d:"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"})))};var Re=function(){return Object(n.useContext)(ma),l.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Theme",onClick:ke},l.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 24 24"},l.a.createElement("path",{fill:"none",d:"M24 0H0v24h24V0z"}),l.a.createElement("path",{d:"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"})))};var Le=function(){return Object(n.useContext)(ma),l.a.createElement("div",{className:"dropdown",title:"Galery"},l.a.createElement("button",{className:"dropdown-toggle   mdc-icon-button material-icons  btns selector",type:"button","data-toggle":"dropdown"},"folder_open",l.a.createElement("span",{className:"caret"})),l.a.createElement("ul",{className:"dropdown-menu"},l.a.createElement("li",null,l.a.createElement("div",{id:"prefixesDropdown"},l.a.createElement("button",{className:"form-control",onClick:function(){return function(e){var t=v.getInstance().getYashe();"default"==e?t.setValue(xe):t.setValue(Se),setTimeout((function(){E.a.signal(t,"galery")}),10)}("default")}},"User")))))};var Ae=function(){var e=Object(n.useContext)(ma);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"Delete all",onClick:function(){if(window.confirm("Are you sure?")){setTimeout((function(){e.replaceShapes([])}),10);var t=v.getInstance().getYashe();t.setValue(""),E.a.signal(t,"delete")}}},"delete_outline")};var De=function(){return Object(n.useContext)(ma),l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Up",onClick:Ne},"arrow_upward")};a(194);var Ve=function(){var e=Object(n.useContext)(ma);return l.a.createElement(p.a,{isOpen:e.isToolBarOpen,className:"col-xs-1 toolbarCollapse"},l.a.createElement("div",{className:"toolbar"},l.a.createElement("div",{className:"toolbarTop"},l.a.createElement(f,null),l.a.createElement(h,null),l.a.createElement(Te,null),l.a.createElement(Fe,null),l.a.createElement(Be,null),l.a.createElement(Pe,null),l.a.createElement(Re,null),l.a.createElement(Le,null),l.a.createElement(Ae,null)),l.a.createElement("div",{className:"toolbarBottom"},l.a.createElement(De,null))))};function ze(e){setTimeout((function(){var t=document.getElementsByClassName("xs-tabs")[0],a=document.getElementsByClassName("xs-header"),n=document.getElementsByClassName("xs-tripleHeader"),l=document.getElementsByClassName("xs-addTripleButton"),i=document.getElementsByClassName("xs-addShapeButton"),r=document.getElementsByClassName("xs-gridBox"),s=document.getElementsByClassName("xs-customConstraint"),c=document.getElementsByClassName("xs-prefixHeader"),o=document.getElementsByClassName("xs-prefixHeaderColors"),u=document.getElementsByClassName("xs-pickers"),m="xs-tabs",d="xs-header",p="xs-tripleHeader",f="xs-addTripleButton",h="xs-addShapeButton",g="xs-gridBox",b="xs-customConstraint",v="xs-prefixHeader",y="xs-prefixHeaderColors",E="xs-pickers";e>600&&(m+=" tabs",d+=" header",p+=" tripleHeader",f+=" addTripleButton",h+=" addShapeButton",g+=" gridBox",b+=" customConstraint",v+=" prefixHeader",y+=" prefixHeaderColors",E+=" pickers"),t.className=m;for(var O=0;O<a.length;O++)a[O].className=d;for(var C=0;C<n.length;C++)n[C].className=p;for(var w=0;w<l.length;w++)l[w].className=f;for(var x=0;x<i.length;x++)i[x].className=h;for(var S=0;S<r.length;S++)r[S].className=g;for(var j=0;j<s.length;j++)s[j].className=b;for(var k=0;k<c.length;k++)c[k].className=v;for(var N=0;N<o.length;N++)o[N].className=y;for(var T=0;T<u.length;T++)u[T].className=E}),0)}function _e(e){var t,a;for(a=document.getElementsByClassName("tablink"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" activeTab","");e.currentTarget.className+=" activeTab"}function He(e,t){var a=document.getElementsByClassName(e)[0];a&&(a.className=e+" "+t)}var Ye=function(e){var t=Object(n.useContext)(ma),a=Object(n.useContext)(la),i=function(){a.setAssistOpen(!1),a.setPrefixesOpen(!1),a.setColorsOpen(!1),a.setConfigOpen(!1)};return l.a.createElement("div",{className:"xs-tabs"},l.a.createElement("button",{className:"tablink activeTab",title:"ShEx Assistant",onClick:function(e){return t=e,i(),a.setAssistOpen(!0),void _e(t);var t}},"ShEx Assistant"),l.a.createElement("button",{className:"tablink",title:"Prefixes",onClick:function(e){return t=e,i(),a.setPrefixesOpen(!0),void _e(t);var t}},"Prefixes"),l.a.createElement("button",{className:"tablink material-icons",title:"Colors",onClick:function(e){return t=e,i(),a.setColorsOpen(!0),void _e(t);var t}},"format_paint"),l.a.createElement("button",{className:"tablink material-icons",title:"Config",onClick:function(e){return t=e,i(),a.setConfigOpen(!0),void _e(t);var t}},"settings"),l.a.createElement("div",{className:"asisTitleClose"},l.a.createElement("button",{className:"closeAsisBtn",title:"Close Assistant",onClick:t.assistantToggle},"x")))},Xe=a(49),qe="[A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_",Ue="((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%]))",Me="("+qe+"|:|[0-9]|"+Ue+")(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|"+Ue+")*",Qe='[^<>"`|{}^\\\0- ]*',We=(a(205),a(387)),Ke={label:"#222",header:"#C6E2FF",custom:"#3d3d3d",customFill:"#79aff5",delete:"#79aff5",deleteFill:"#FFFFFF",collapse:"#222",body:"#EBF4FF",addTriple:"#EFDECD",addTripleFill:"#222",addShape:"#ddeafa",addShapeFill:"#222"},Ze={label:"#222",header:"#EFDECD",custom:"#3d3d3d",customFill:"#f8a252",constraint:"#3d3d3d",constraintFill:"#b1e086",facet:"#3d3d3d",facetFill:"#f5817f",shapeRef:"#3d3d3d",shapeRefFill:"#f8fa95",cardinality:"#3d3d3d",cardinalityFill:"#f7adea",delete:"#f8a252",deleteFill:"#ffff",collapse:"#222",body:"#EFE8E1"},Ge={label:"#222",body:"#E8FAE4",add:"#ffff",addFill:"#222",delete:"#a1db6a",deleteFill:"#ffff"},Je={label:"#222",body:"#f5d6d6",add:"#ffff",addFill:"#222",delete:"#fd9090",deleteFill:"#ffff"},$e={label:"#222",body:"#f5fac8"},et={label:"#222",body:"#fae2f8"},tt={label:"#222",header:"#fdd5d5",add:"#fdd5d5",addFill:"#222",delete:"#222",deleteFill:"#ffff",specialLabel:"#222",body:"#FDEBEB"},at=function(){function e(){var e=Object(We.a)("colors"),t=Object(c.a)(e,3),a=t[0],n=t[1],l=t[2];this.getShapeStyle=function(){return{label:{color:Ke.label},header:{background:Ke.header},custom:{color:Ke.customFill,background:Ke.custom},delete:{color:Ke.deleteFill,background:Ke.delete},collapse:{color:Ke.collapse},body:{background:Ke.body},addTriple:{color:Ke.addTripleFill,background:Ke.addTriple},addShape:{color:Ke.addShapeFill,background:Ke.addShape}}},this.getTripleStyle=function(){return{label:{color:Ze.label},header:{background:Ze.header},custom:{color:Ze.customFill,background:Ze.custom},constraint:{color:Ze.constraintFill,background:Ze.constraint},facet:{color:Ze.facetFill,background:Ze.facet},shapeRef:{color:Ze.shapeRefFill,background:Ze.shapeRef},cardinality:{color:Ze.cardinalityFill,background:Ze.cardinality},delete:{color:Ze.deleteFill,background:Ze.delete},collapse:{color:Ze.collapse},body:{background:Ze.body}}},this.getConstraintStyle=function(){return{label:{color:Ge.label},body:{background:Ge.body},add:{color:Ge.addFill,background:Ge.add},delete:{color:Ge.deleteFill,background:Ge.delete}}},this.getFacetStyle=function(){return{label:{color:Je.label},body:{background:Je.body},add:{color:Je.addFill,background:Je.add},delete:{color:Je.deleteFill,background:Je.delete}}},this.getShapeRefStyle=function(){return{label:{color:$e.label},body:{background:$e.body}}},this.getCardinalityStyle=function(){return{label:{color:et.label},body:{background:et.body}}},this.getCardinalityStyle=function(){return{label:{color:et.label},body:{background:et.body}}},this.getPrefixStyle=function(){return{label:{color:tt.label},header:{background:tt.header},delete:{color:tt.deleteFill,background:tt.delete},add:{color:tt.addFill,background:tt.add},specialLabel:{color:tt.specialLabel},body:{background:tt.body}}},this.loadCookies=function(){this.loadCookie("shapeColors",Ke),this.loadCookie("tripleColors",Ze),this.loadCookie("constraintColors",Ge),this.loadCookie("facetColors",Je),this.loadCookie("shapeRefColors",$e),this.loadCookie("cardinalityColors",et),this.loadCookie("conf",me)},this.loadCookie=function(e,t){var l=a[e];l?this.load(l,t):n(e,t,{path:"/"})},this.load=function(e,t){Object.keys(e).map((function(a){t[a]=e[a]}))},this.removeCookies=function(){l("shapeColors"),l("tripleColors"),l("constraintColors"),l("facetColors"),l("shapeRefColors"),l("cardinalityColors"),l("cardinalityColors"),l("conf")},this.saveDefaults=function(){this.defaultShape=Object.assign({},Ke),this.defaultTriple=Object.assign({},Ze),this.defaultConstraint=Object.assign({},Ge),this.defaultFacet=Object.assign({},Je),this.defaultShapeRef=Object.assign({},$e),this.defaultCardinality=Object.assign({},et),this.defaultConfig=Object.assign({},me)},this.restoreDefaultColors=function(){this.load(this.defaultShape,Ke),this.load(this.defaultTriple,Ze),this.load(this.defaultConstraint,Ge),this.load(this.defaultFacet,Je),this.load(this.defaultShapeRef,$e),this.load(this.defaultCardinality,et),this.removeCookies()},this.restoreDefaultConfig=function(){this.load(this.defaultConfig,me),this.removeCookies()},this.saveDefaults(),this.loadCookies()}var t;return{getInstance:function(){return t||(t=new e),t}}}();var nt=function(e){var t=Object(n.useContext)(ma),a=Object(n.useContext)(kt),i=!!a&&a.disabled,r=at.getInstance().getShapeStyle(),s=e.shape,o=e.customizeShape,u=e.collapseTriples,m=e.colapseBtn,d=Object(n.useState)(s.type.value),p=Object(c.a)(d,2),f=p[0],h=p[1],g=new RegExp("^"+Me);"iriRef"==s.type.getTypeName()&&(g=new RegExp("^"+Qe));var b=Object(n.useState)(g),v=Object(c.a)(b,2),y=v[0];return v[1],l.a.createElement("div",{className:"xs-header",style:r.header},l.a.createElement("label",{style:r.label},"Shape"),l.a.createElement(Xe.Textbox,{attributesInput:{id:"Name",name:"Name",type:"text",placeholder:"eg: User"},value:f,onChange:function(e){return function(e){s.type.setValue(e),t.emit(),h(e)}(e)},onKeyUp:function(e){return function(e){""==e.target.value?a.setDisabled(!0):a.setDisabled(!1)}(e)},validationOption:{reg:y,regMsg:"Invalid name"},title:"Shape Name"}),l.a.createElement("button",{className:"buildBtn mdc-icon-button material-icons",style:r.custom,onClick:o,disabled:i,title:"Customize Shape"},"build"),l.a.createElement("button",{className:"deleteShapeBtn mdc-icon-button material-icons",style:r.delete,onClick:function(){return t.deleteShape(s.id)},title:"Delete Shape"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:r.collapse,onClick:u,disabled:i,title:"Triple Constraints"},m))};function lt(e){return e.isBnode?l.a.createElement("option",{value:"bnodeType"},"Bnode"):null}var it=function(e){var t=Object(n.useContext)(ma),a=e.entity,i=e.setPrefix,r=e.collapsePrefix,s=e.bnode,o=at.getInstance().getShapeStyle(),u=at.getInstance().getTripleStyle(),m=a.triples?o:u,d=Object(n.useState)(a.type.getTypeName()),p=Object(c.a)(d,2),f=p[0],h=p[1];return l.a.createElement("div",{className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:m.label},"Type "),l.a.createElement("select",{className:"customSelector",value:f,onChange:function(e){var n=e.target.value,l=a.type.value;a.setType(n),a.type.value=l,t.emit(),h(n),i("example"),r(e)}},l.a.createElement("option",{value:"iriRef"},"<...>"),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement(lt,{isBnode:s})))};var rt=function(e){var t=Object(n.useContext)(ma),a=(Object(n.useContext)(la),e.entity),i=e.isPrefixOpen,r=e.prefix,s=e.setPrefix,c=at.getInstance().getShapeStyle(),o=at.getInstance().getTripleStyle(),u=a.triples?c:o;return l.a.createElement(p.a,{isOpen:i,className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:u.label},"Prefix "),l.a.createElement("select",{className:"customSelector",value:r,onChange:function(e){var n=Q(e.target.value);a.type.setPrefix(n),t.emit(),s(e.target.value)}},l.a.createElement("option",{value:"example"},"example"),t.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))))};var st=function(e){var t=Object(n.useContext)(ma),a=at.getInstance().getShapeStyle(),i=e.shape,r=Object(n.useState)(i.qualifier.getTypeName()),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement("div",{className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:a.label},"Qualifier "),l.a.createElement("select",{className:"customSelector",value:o,onChange:function(e){var a=e.target.value;i.setQualifier(a),t.emit(),u(a)}},l.a.createElement("option",{value:""},"None"),l.a.createElement("option",{value:"iri"},"Iri"),l.a.createElement("option",{value:"literal"},"Literal"),l.a.createElement("option",{value:"nonliteral"},"NonLiteral"),l.a.createElement("option",{value:"bnode"},"Bnode")))};a(56);function ct(e){var t=e.isQualifier,a=e.entity;return t?l.a.createElement(st,{shape:a}):null}var ot=function(e){Object(n.useContext)(ma);var t=e.entity,a=e.isCustomOpen,i=e.qualifier,r=e.bnode,s=e.customClass,o=at.getInstance().getShapeStyle(),u=at.getInstance().getTripleStyle(),m="customShape"==s?o:u,d="example",f=!1;void 0!=t.type.prefix&&(d=t.type.prefix.prefixValue,f=!0);var h=Object(n.useState)(d),g=Object(c.a)(h,2),b=g[0],v=g[1],y=Object(n.useState)(f),E=Object(c.a)(y,2),O=E[0],C=E[1];return l.a.createElement(p.a,{isOpen:a,className:"customColapse"},l.a.createElement("div",{className:s,style:m.body},l.a.createElement(it,{entity:t,setPrefix:v,collapsePrefix:function(e){"prefixedIri"==e.target.value?C(!0):C(!1)},bnode:r}),l.a.createElement(rt,{entity:t,isPrefixOpen:O,prefix:b,setPrefix:v}),l.a.createElement(ct,{isQualifier:i,entity:t})))};a(206);var ut=function(e){var t=Object(n.useContext)(ma),a=Object(n.useContext)(kt),i=at.getInstance().getTripleStyle(),r=a.disabled,s=e.triple,o=e.deleteTriple,u=e.customizeTriple,m=(e.forceCollapse,e.customizeRef),d=e.customizeFacet,p=e.customizeContraints,f=e.customizeCardinality,h=e.collapseToggle,g=e.colapseBtn,b=Object(n.useState)(s.type.value),v=Object(c.a)(b,2),y=v[0],E=v[1],O=Object(n.useState)(s.cardinality),C=Object(c.a)(O,2),w=(C[0],C[1],"custom");""!=s.constraint.value&&(w=s.constraint.value);var x=Object(n.useState)(w),S=Object(c.a)(x,2),j=(S[0],S[1]);return l.a.createElement("div",{className:"xs-tripleHeader",style:i.header},l.a.createElement("input",{type:"text",className:"name",value:y,onChange:function(e){var a=e.target.value;s.type.setValue(a),t.emit(),E(a)},placeholder:"eg: name",disabled:r,title:"Triple Constraint Name"}),l.a.createElement("button",{className:"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.custom,onClick:u,disabled:r,title:"Customize Triple"},"build"),l.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.constraint,onClick:function(){j("custom"),p()},disabled:r,title:"Customize Constraint"},"build"),l.a.createElement("button",{className:"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.facet,onClick:d,disabled:r,title:"Customize Facets"},"build"),l.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.shapeRef,onClick:m,disabled:r,title:"Customize Shape Reference"},"build"),l.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.cardinality,onClick:f,disabled:r,title:"Customize Cardinality"},"build"),l.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:i.delete,onClick:function(){return o(s.id)},disabled:r,title:"Delete Triple Constraint"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:i.collapse,onClick:h,disabled:r,title:"Customize all"},g))};var mt=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(ma),r="example";void 0!=t.prefix&&(r=t.prefix.prefixValue);var s=Object(n.useState)(r),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(t.value),f=Object(c.a)(d,2),h=f[0],g=f[1];return l.a.createElement(p.a,{isOpen:a,className:"qnameSetCollapse"},l.a.createElement("select",{className:"customSelector",value:u,onChange:function(e){var a=e.target.value,n=Q(a);console.log(u),t.setPrefix(n),i.emit(),m(a)}},l.a.createElement("option",{value:"example"},"example"),i.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))),l.a.createElement("input",{type:"text",className:"name",value:h,onChange:function(e){var a=e.target.value;g(a),t.setValue(a),i.emit()}}))};var dt=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(ma),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement("input",{type:"text",className:"name",value:o,onChange:function(e){var a=e.target.value;t.setValue(a),i.emit(),u(a)}}))},pt=a(20),ft=a.n(pt);var ht=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(ma),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement(ft.a,{className:"form-control",min:0,value:o,onChange:function(e){var a=e;t.setValue(a),i.emit(),u(a)}}))};var gt=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(ma),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement("select",{className:"customSelector boolSelect",value:o,onChange:function(e){var a=e.target.value;t.setValue(a),i.emit(),u(a)}},l.a.createElement("option",{value:"true"},"True"),l.a.createElement("option",{value:"false"},"False")))};var bt=function(e){var t=e.valueSetValue,a=e.deleteValue,i=Object(n.useContext)(ma),r=at.getInstance().getConstraintStyle(),s=Object(n.useState)(t.type.getTypeName()),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!0),p=Object(c.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),v=b[0],y=b[1],E=Object(n.useState)(!1),O=Object(c.a)(E,2),C=O[0],w=O[1],x=Object(n.useState)(!1),S=Object(c.a)(x,2),j=S[0],k=S[1],N=Object(n.useState)(!1),T=Object(c.a)(N,2),F=T[0],I=T[1],B=function(){h(!1),y(!1),w(!1),k(!1),I(!1),"iriRef"==u&&h(!0),"prefixedIri"==u&&y(!0),"stringLiteral"==u&&w(!0),"numberLiteral"==u&&k(!0),"booleanLiteral"==u&&I(!0)};return Object(n.useEffect)((function(){B()})),l.a.createElement("div",{className:"valueSets"},l.a.createElement("select",{className:"customSelector",value:u,onChange:function(e){var a=e.target.value;m(a),t.setType(a),i.emit(),B()}},l.a.createElement("option",{value:"iriRef"},"<...>"),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement("option",{value:"stringLiteral"},"String"),l.a.createElement("option",{value:"numberLiteral"},"Number"),l.a.createElement("option",{value:"booleanLiteral"},"Boolean")),l.a.createElement("div",null,l.a.createElement(dt,{type:t.type,isOpen:f}),l.a.createElement(mt,{type:t.type,isOpen:v}),l.a.createElement(dt,{type:t.type,isOpen:C}),l.a.createElement(ht,{type:t.type,isOpen:j}),l.a.createElement(gt,{type:t.type,isOpen:F})),l.a.createElement("button",{className:"tripleBtns deleteValueSetBtn mdc-icon-button material-icons",style:r.delete,onClick:function(){return a(t.id)},title:"Delete Value"},"delete"))};var vt=function(e){var t=e.triple,a=e.valueSet,i=Object(n.useContext)(ma),r=Object(n.useState)(a),o=Object(c.a)(r,2),u=o[0],m=o[1],d=at.getInstance().getConstraintStyle(),p=function(e){var a=u.filter((function(t){return t.id!=e}));m(a),t.constraint.setValues(a),i.emit()};return l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:d.label},"ValueSet"),l.a.createElement("div",{className:"valueSetsCont"},u.map((function(e){return l.a.createElement(bt,{key:e.id,valueSetValue:e,deleteValue:p})})),l.a.createElement("button",{className:"addFacet",style:d.add,title:"Add Value",onClick:function(){var e=le.addValueSetValue(a);m([].concat(Object(s.a)(u),[e])),t.constraint.addValue(e),i.emit()}},"+ Value")))},yt=["String","Integer","Date","Boolean"],Et="<...>";var Ot=function(e){var t=Object(n.useContext)(ma),a=e.triple,i=at.getInstance().getConstraintStyle(),r=a.constraint.getTypeName(),s=a.constraint.value;"primitive"!=r&&(s="custom");var o="example";void 0!=a.constraint.prefix&&(o=a.constraint.prefix.prefixValue);var u=[];"valueSet"==r&&(u=a.constraint.getValues());var m=Object(n.useState)(a.constraint.value||""),d=Object(c.a)(m,2),f=d[0],h=d[1],g=Object(n.useState)(o),b=Object(c.a)(g,2),v=b[0],y=b[1],E=Object(n.useState)(u),O=Object(c.a)(E,2),C=O[0],w=(O[1],Object(n.useState)(s)),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(r),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)(!1),B=Object(c.a)(I,2),P=B[0],R=B[1],L=Object(n.useState)(!1),A=Object(c.a)(L,2),D=A[0],V=A[1],z=Object(n.useState)(!1),_=Object(c.a)(z,2),H=_[0],Y=_[1],X=Object(n.useState)(!1),q=Object(c.a)(X,2),U=q[0],M=q[1],W=function(e){"none"==e&&null!=a.shapeRef.shape&&a.setConstraint("blankType")};return W(S),Object(n.useEffect)((function(){R(!0),Y(!1),M(!1),V(!1),"iriRef"==T&&Y(!0),"prefixedIri"==T&&(Y(!0),M(!0)),"primitive"==T&&("custom"!=S?R(!1):(F("prefixedIri"),h(""),a.setConstraint("prefixedIri"),t.emit())),"valueSet"==T&&V(!0)})),l.a.createElement("div",{className:"xs-gridBox",style:i.body},l.a.createElement("label",{className:"gridLabel",style:i.label},"Constraint"),l.a.createElement("select",{className:"customSelector",value:S,onChange:function(e){var n=e.target.value;a.setConstraint("primitive"),a.constraint.setValue(n),F("primitive"),j(n),W(n),t.emit()},title:"Constraint"},l.a.createElement("option",{value:"none"},"None"),yt.map((function(e){return l.a.createElement("option",{key:e,value:e.toLowerCase()},e)})),l.a.createElement("option",{value:"custom"},"Custom")),l.a.createElement(p.a,{isOpen:P,className:"constraintCollapse"},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Type"),l.a.createElement("select",{className:"customSelector",value:T,onChange:function(e){var n=e.target.value;F(n),a.setConstraint(n),a.constraint.setValue(f),t.emit()}},l.a.createElement("option",{value:"iriRef"},Et),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement("option",{value:"valueSet"},"ValueSet"),l.a.createElement("option",{value:"literal"},"Literal"),l.a.createElement("option",{value:"nonliteral"},"NonLiteral"),l.a.createElement("option",{value:"iri"},"IRI"),l.a.createElement("option",{value:"bnode"},"BNode"))),l.a.createElement(p.a,{isOpen:H},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Name"),l.a.createElement("input",{type:"text",className:"name",value:f,onChange:function(e){var n=e.target.value;a.constraint.setValue(n),t.emit(),h(n)}}))),l.a.createElement(p.a,{isOpen:U},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Prefix "),l.a.createElement("select",{className:"customSelector",value:v,onChange:function(e){var n=Q(e.target.value);a.constraint.setPrefix(n),t.emit(),y(e.target.value)}},l.a.createElement("option",{value:"example"},"example"),t.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))))),l.a.createElement(p.a,{isOpen:D},l.a.createElement(vt,{triple:a,valueSet:C}))))};var Ct=function(e){var t=e.triple,a=Object(n.useContext)(ma),i=at.getInstance().getShapeRefStyle(),r="";null!=t.shapeRef.shape&&(r=t.shapeRef.shape.id);var s=Object(n.useState)(r),o=Object(c.a)(s,2),u=o[0],m=o[1];return l.a.createElement("div",{className:"xs-gridBox",style:i.body},l.a.createElement("label",{className:"customLabel",style:i.label},"Shape ",l.a.createElement("br",null),l.a.createElement("span",null,"Reference")),l.a.createElement("select",{className:"shapeRefSelector",value:u,onChange:function(e){var n=e.target.value,l=null,i="";""!=n&&(i=(l=le.getShapeById(a.shapes,n)).id),t.getShapeRef().setShape(l),"none"==t.constraint.value&&t.setConstraint("blankType"),""==n&&"blankType"==t.constraint.getTypeName()&&(t.setConstraint("primitive"),t.constraint.setValue("none")),a.emit(),m(i)}},l.a.createElement("option",{value:""},"none"),a.shapes.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},"@"+e.type)}))))};var wt=function(e){var t=e.facet,a=e.deleteFacet,i=Object(n.useContext)(ma),r=Object(n.useState)(t.type),s=Object(c.a)(r,2),o=s[0],u=s[1],m=Object(n.useState)(t.value),d=Object(c.a)(m,2),p=d[0],f=d[1],h=at.getInstance().getFacetStyle();return l.a.createElement("div",{className:"facetInputs"},l.a.createElement("select",{className:"customSelector",value:o,onChange:function(e){return function(e){t.setType(e),u(e),i.emit()}(e.target.value)}},l.a.createElement("option",{value:"length"},"length"),l.a.createElement("option",{value:"minlength"},"minlength"),l.a.createElement("option",{value:"maxlength"},"maxlength"),l.a.createElement("option",{value:"totaldigits"},"totaldigits"),l.a.createElement("option",{value:"fractiondigits"},"fractiondigits"),l.a.createElement("option",{value:"mininclusive"},"mininclusive"),l.a.createElement("option",{value:"minexclusive"},"minexclusive"),l.a.createElement("option",{value:"maxinclusive"},"maxinclusive"),l.a.createElement("option",{value:"maxexclusive"},"maxexclusive")),l.a.createElement(ft.a,{className:"form-control",min:0,value:p,onChange:function(e){return function(e){t.setValue(e),f(e),i.emit()}(e)}}),l.a.createElement("button",{className:"tripleBtns deleteFacetBtn mdc-icon-button material-icons",style:h.delete,onClick:function(){return a(t.id)},title:"Delete Facet"},"delete"))};var xt=function(e){var t=e.triple,a=Object(n.useContext)(ma),i=Object(n.useState)(t.facets),r=Object(c.a)(i,2),o=r[0],u=r[1],m=at.getInstance().getFacetStyle(),d=function(e){var n=o.filter((function(t){return t.id!=e}));u(n),t.setFacets(n),a.emit()};return l.a.createElement("div",{className:"xs-gridBox",style:m.body},l.a.createElement("label",{className:"gridLabel",style:m.label},"Facet"),l.a.createElement("div",{className:"facetCont"},o.map((function(e){return l.a.createElement(wt,{key:e.id,facet:e,deleteFacet:d})})),l.a.createElement("button",{className:"addFacet",style:m.add,title:"Add Facet",onClick:function(){var e=le.addFacet(o);u([].concat(Object(s.a)(o),[e])),t.addFacet(e),a.emit()}},"+ Facet")))};var St=function(e){var t=e.triple,a=Object(n.useContext)(ma),i=at.getInstance().getCardinalityStyle(),r=t.cardinality.getCardType(),s=!1,o=!1,u=1,m=10;r.length>1&&(u=t.cardinality.min,"exactly"!=r&&"minLimit"!=r||(s=!0),"range"==r&&(o=!0,m=t.cardinality.max));var d=Object(n.useState)(r),f=Object(c.a)(d,2),h=f[0],g=f[1],b=Object(n.useState)(s),v=Object(c.a)(b,2),y=v[0],E=v[1],O=Object(n.useState)(o),C=Object(c.a)(O,2),w=C[0],x=C[1],S=Object(n.useState)(u),j=Object(c.a)(S,2),k=j[0],N=j[1],T=Object(n.useState)(m),F=Object(c.a)(T,2),I=F[0],B=F[1],P=function(e){"exactly"!=e&&"minLimit"!=e||(N(1),E(!0)),"range"==e&&(N(1),B(10),x(!0))},R=function(e,n){t.setCardinality(n,e,I),a.emit(),N(e)};return l.a.createElement("div",{className:" xs-gridBox",style:i.body},l.a.createElement("label",{className:"gridLabel",style:i.label},"Cardinality"),l.a.createElement("select",{className:"customSelector",value:h,onChange:function(e){var n=e.target.value;t.setCardinality(n),a.emit(),g(n),E(!1),x(!1),P(n)},title:"Cardinality"},l.a.createElement("option",{value:""},"Exactly one"),l.a.createElement("option",{value:"*"},"Zero or more"),l.a.createElement("option",{value:"+"},"One at least"),l.a.createElement("option",{value:"?"},"One or none"),l.a.createElement("option",{value:"exactly"},"Exactly value"),l.a.createElement("option",{value:"minLimit"},"Inferior Limit"),l.a.createElement("option",{value:"range"},"Range")),l.a.createElement(p.a,{isOpen:y,className:"rangeCardinality"},l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Value"),l.a.createElement(ft.a,{className:"form-control",min:0,value:k,onChange:function(e){R(e,h)}})),l.a.createElement(p.a,{isOpen:w,className:"rangeCardinality"},l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Min"),l.a.createElement(ft.a,{className:"form-control",min:0,value:k,onChange:function(e){R(e,"range")}}),l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Max"),l.a.createElement(ft.a,{className:"form-control",min:0,value:I,onChange:function(e){t.setCardinality("range",k,e),a.emit(),B(e)}})))};var jt=function(e){e.shape;var t=e.triple,a=e.deleteTriple,i=Object(n.useState)(!1),r=Object(c.a)(i,2),s=r[0],o=r[1],u=Object(n.useState)(!1),m=Object(c.a)(u,2),d=m[0],f=m[1],h=Object(n.useState)(!1),g=Object(c.a)(h,2),b=g[0],v=g[1],y=Object(n.useState)(!1),E=Object(c.a)(y,2),O=E[0],C=E[1],w=Object(n.useState)(!1),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(!1),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)("menu"),B=Object(c.a)(I,2),P=B[0],R=B[1],L=function(e){o(e),f(e),v(e),C(e),j(e)},A=function(){R("menu"==P?"menu_open":"menu")};return l.a.createElement("div",null,l.a.createElement(ut,{triple:t,deleteTriple:a,customizeTriple:function(){L(!1),o(!s),F(!1),T&&(o(!0),A())},customizeContraints:function(){L(!1),f(!d),F(!1),T&&(f(!0),A())},customizeRef:function(){L(!1),v(!b),F(!1),T&&(v(!0),A())},customizeFacet:function(){L(!1),C(!O),F(!1),T&&(C(!0),A())},customizeCardinality:function(){L(!1),j(!S),F(!1),T&&(j(!0),A())},forceCollapse:function(e){f(e)},collapseToggle:function(){L(!T),F(!T),A()},colapseBtn:P}),l.a.createElement(ot,{entity:t,isCustomOpen:s,qualifier:!1,bnode:!1,customClass:"customTriple"}),l.a.createElement(p.a,{isOpen:d},l.a.createElement(Ot,{triple:t})),l.a.createElement(p.a,{isOpen:O},l.a.createElement(xt,{triple:t})),l.a.createElement(p.a,{isOpen:b},l.a.createElement(Ct,{triple:t})),l.a.createElement(p.a,{isOpen:S},l.a.createElement(St,{triple:t})))},kt=l.a.createContext();var Nt=function(e){var t=Object(n.useContext)(ma),a=e.shape,i=at.getInstance().getShapeStyle(),r=Object(n.useState)(a.triples),o=Object(c.a)(r,2),u=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(c.a)(d,2),h=f[0],g=f[1],b=Object(n.useState)(!0),v=Object(c.a)(b,2),y=v[0],E=v[1],O=Object(n.useState)("menu_open"),C=Object(c.a)(O,2),w=C[0],x=C[1],S=!1;""==a.type.value&&(S=!0);var j=Object(n.useState)(S),k=Object(c.a)(j,2),N=k[0],T=k[1],F=function(e){var n=a.triples.filter((function(t){return t.id!=e}));m(n),a.setTriples(n),t.emit()};return l.a.createElement(kt.Provider,{value:{disabled:N,setDisabled:T}},l.a.createElement("div",{className:"shape",style:i.header},l.a.createElement(nt,{shape:a,customizeShape:function(){h||y?(g(!h),E(!y)):(g(!0),E(!1)),x("menu")},collapseTriples:function(){g(!1),E(!y),x("menu"==w?"menu_open":"menu")},colapseBtn:w}),l.a.createElement(ot,{entity:a,isCustomOpen:h,qualifier:!0,bnode:!0,customClass:"customShape"}),l.a.createElement(p.a,{isOpen:y},l.a.createElement("div",{className:"triples",style:i.body},u.map((function(e){return l.a.createElement(jt,{key:e.id,shape:a,triple:e,deleteTriple:F})})),l.a.createElement("button",{className:"xs-addTripleButton",style:i.addTriple,onClick:function(){var e=a.getTriplesCount(),n=new de(e);m([].concat(Object(s.a)(u),[n])),a.addTriple(n),t.emit()},disabled:N,title:"Add Triple"},"+ Triple Constraint")))))};var Tt=function(e){var t=Object(n.useContext)(ma),a=at.getInstance().getShapeStyle();return l.a.createElement("div",{className:"showAsist"},t.shapes.map((function(e){return l.a.createElement(Nt,{shape:e,key:e.id})})),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"xs-addShapeButton",style:a.addShape,onClick:t.addShape,title:"Add Shape"},"+ Shape")))};var Ft=function(e){return Object(n.useContext)(ma),l.a.createElement("div",{className:"hideLoader"},l.a.createElement("div",{className:"loader"}))};a(207);var It=function(e){return Object(n.useContext)(ma),l.a.createElement("div",{className:"infoAssist"},l.a.createElement("div",{className:"hideError"},l.a.createElement("div",{className:"shapeErrorCont"},l.a.createElement("div",{className:"shapeError"}),l.a.createElement("p",{className:"errorMsg"}))),l.a.createElement("div",{className:"hideConvert"},l.a.createElement("a",{className:"button"},l.a.createElement("span",{onClick:function(){var e=v.getInstance().getYashe();E.a.signal(e,"convert")}},"Convert"))))};var Bt=function(e){var t=Object(n.useContext)(ma),a=e.prefix,i=at.getInstance().getPrefixStyle(),r=Object(n.useState)(a.prefixName),s=Object(c.a)(r,2),o=s[0],u=s[1],m=Object(n.useState)(a.prefixValue),d=Object(c.a)(m,2),p=d[0],f=d[1];return l.a.createElement("div",{className:"xs-prefixHeader",style:i.header},l.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",value:o,onChange:function(e){return function(e,a){a.prefixName=e.target.value,u(e.target.value),t.emitPref()}(e,a)},title:"Alias"}),l.a.createElement("label",{className:"prefixLabel",style:i.label},":"),l.a.createElement("label",{className:"prefixLabel",style:i.label},"<"),l.a.createElement("input",{type:"text",className:"prefixInput",value:p,placeholder:"eg: http://schema.org/",onChange:function(e){return function(e,a){a.prefixValue=e.target.value,f(e.target.value),t.emitPref()}(e,a)},title:"IRI"}),l.a.createElement("label",{className:"prefixLabel",style:i.label},">"),l.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:i.delete,onClick:function(){return t.deletePrefix(a.id)},title:"Delete Prefix"},"delete"))};a(208);var Pt=function(e){var t=Object(n.useContext)(ma),a=at.getInstance().getPrefixStyle();return l.a.createElement("div",null,t.prefixes.map((function(e){return l.a.createElement(Bt,{key:e.id,prefix:e})})),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"addPrefixBtn",style:a.add,onClick:t.addPrefix,title:"Add Prefix"},"+ Prefix")))};var Rt=function(e){e.colors;var t=at.getInstance().getShapeStyle();return l.a.createElement("div",{className:"xs-header",style:t.header},l.a.createElement("label",{style:t.label},"Shape"),l.a.createElement(Xe.Textbox,null),l.a.createElement("button",{style:t.custom,className:"buildBtn mdc-icon-button material-icons"},"build"),l.a.createElement("button",{style:t.delete,className:"deleteShapeBtn mdc-icon-button material-icons"},"delete"),l.a.createElement("button",{style:t.collapse,className:"collapseBtn mdc-icon-button material-icons"},"menu"))};var Lt=function(e){var t=at.getInstance().getTripleStyle();return l.a.createElement("div",{className:"xs-tripleHeader",style:t.header},l.a.createElement("input",{type:"text",className:"name",placeholder:"eg: name",title:"Triple Constraint Name"}),l.a.createElement("button",{className:"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.custom,title:"Customize Triple"},"build"),l.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.constraint,title:"Customize Constraint"},"build"),l.a.createElement("button",{className:"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.facet,title:"Customize Facets"},"build"),l.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.shapeRef,title:"Customize Shape Reference"},"build"),l.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.cardinality,title:"Customize Cardinality"},"build"),l.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:t.delete,title:"Delete Triple Constraint"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:t.collapse,title:"Customize all"},"menu"))},At=(a(95),a(132)),Dt=a(5),Vt=a.n(Dt);var zt=function(e){Object(n.useContext)(ma);var t=Object(n.useContext)(la),a=e.namespace,i=e.element,r=e.cookie,s=Object(n.useState)(a[i]),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(c.a)(d,2),f=p[0],h=p[1],g=Object(We.a)("cookies"),b=Object(c.a)(g,2),v=(b[0],b[1]),y=function(){},E=Vt()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:u},swatch:{padding:"3px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",transform:"translateX(-80%)",zIndex:"5000"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return l.a.createElement("div",null,l.a.createElement("div",{style:E.swatch,onClick:function(){h(!f)}},l.a.createElement("div",{style:E.color})),f?l.a.createElement("div",{style:E.popover},l.a.createElement("div",{style:E.cover,onClick:y}),l.a.createElement(At.ChromePicker,{color:u,onChange:function(e){m(e.hex),t.handleChange(e.hex,i,a),me.saveColors&&v(r,a,{path:"/"})},onChangeComplete:y})):null)};var _t=function(e){Object(n.useContext)(ma);var t=e.namespace,a=e.pickers,i=e.labelType,r=e.bodyType,s=e.cookie;return l.a.createElement("div",{className:"customColapse",style:r},l.a.createElement("div",{style:r},l.a.createElement("div",{className:"xs-pickers"},a.map((function(e){return l.a.createElement("div",{className:"picker",key:e.element},l.a.createElement("label",{style:i},e.tag),l.a.createElement(zt,{namespace:t,element:e.element,cookie:s}))})))))},Ht=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Shape Body",element:"body"}],Yt=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Constraint",element:"constraint"},{tag:"Constraint Fill",element:"constraintFill"},{tag:"Facet",element:"facet"},{tag:"Facet Fill",element:"facetFill"},{tag:"Shape Ref",element:"shapeRef"},{tag:"Shape Ref Fill",element:"shapeRefFill"},{tag:"Cardinality",element:"cardinality"},{tag:"Cardinality Fill",element:"cardinalityFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Triple Body",element:"body"}],Xt=[{tag:"Labels",element:"label"},{tag:"Constraint Body",element:"body"},{tag:"Add Value",element:"add"},{tag:"Add Value Fill",element:"addFill"},{tag:"Delete Value",element:"delete"}],qt=[{tag:"Labels",element:"label"},{tag:"Facet Body",element:"body"},{tag:"Add Facet",element:"add"},{tag:"Add Facet Fill",element:"addFill"},{tag:"Delete Facet",element:"delete"}],Ut=[{tag:"Labels",element:"label"},{tag:"Shape Ref Body",element:"body"}],Mt=[{tag:"Labels",element:"label"},{tag:"Cardinality Body",element:"body"}],Qt=[{tag:"Add Triple Constraint",element:"addTriple"},{tag:"Add Triple Constraint Fill",element:"addTripleFill"},{tag:"Add Shape",element:"addShape"},{tag:"Add Shape Fill",element:"addShapeFill"}],Wt=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Add Prefix",element:"add"},{tag:"Add Prefix Fill",element:"addFill"}];var Kt=function(e){var t=at.getInstance().getShapeStyle(),a=at.getInstance().getTripleStyle(),n=at.getInstance().getConstraintStyle(),i=at.getInstance().getFacetStyle(),r=at.getInstance().getShapeRefStyle(),s=at.getInstance().getCardinalityStyle();return l.a.createElement("div",null,l.a.createElement("div",{className:"shape",style:t.header},l.a.createElement(Rt,null),l.a.createElement(Lt,null),l.a.createElement(_t,{namespace:Ke,pickers:Ht,labelType:t.label,bodyType:t.body,cookie:"shapeColors"}),l.a.createElement(_t,{namespace:Ze,pickers:Yt,labelType:a.label,bodyType:a.body,cookie:"tripleColors"}),l.a.createElement(_t,{namespace:Ge,pickers:Xt,labelType:n.label,bodyType:n.body,cookie:"constraintColors"}),l.a.createElement(_t,{namespace:Je,pickers:qt,labelType:i.label,bodyType:i.body,cookie:"facetColors"}),l.a.createElement(_t,{namespace:$e,pickers:Ut,labelType:r.label,bodyType:r.body,cookie:"shapeRefColors"}),l.a.createElement(_t,{namespace:et,pickers:Mt,labelType:s.label,bodyType:s.body,cookie:"cardinalityColors"}),l.a.createElement(_t,{namespace:Ke,pickers:Qt,labelType:t.label,bodyType:t.body,cookie:"constraintColors"}),l.a.createElement("div",{className:"triples",style:t.body},l.a.createElement("button",{className:"xs-addTripleButton",style:t.addTriple,title:"Add Triple"},"+ Triple Constraint"))),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"xs-addShapeButton",style:t.addShape,title:"Add Shape"},"+ Shape")))};var Zt=function(e){e.colors;var t=at.getInstance().getPrefixStyle();return l.a.createElement("div",{className:"xs-prefixHeaderColors",style:t.header},l.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",title:"Alias"}),l.a.createElement("label",{className:"prefixLabel",style:t.label},":"),l.a.createElement("label",{className:"prefixLabel",style:t.label},"<"),l.a.createElement("input",{type:"text",className:"prefixInput",placeholder:"eg: http://schema.org/",title:"IRI"}),l.a.createElement("label",{className:"prefixLabel",style:t.label},">"),l.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:t.delete,title:"Delete Prefix"},"delete"))};var Gt=function(e){var t=at.getInstance().getPrefixStyle();return l.a.createElement("div",{className:"prefixColorContainer",style:t.body},l.a.createElement(Zt,null),l.a.createElement(_t,{namespace:tt,pickers:Wt,labelType:t.specialLabel,bodyType:t.body}),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"addPrefixBtn",style:t.add,title:"Add Prefix"},"+ Prefix")))};var Jt=function(e){return l.a.createElement("div",null,l.a.createElement(Kt,null),l.a.createElement("br",null),l.a.createElement(Gt,null))},$t=a(76),ea=a.n($t);a(374),a(375);var ta=function(e){var t=Object(n.useContext)(ma),a=Object(n.useState)(me.sincronize),i=Object(c.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)(me.pretty),u=Object(c.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(me.saveColors),f=Object(c.a)(p,2),h=f[0],g=f[1],b=Object(We.a)("cookies"),y=Object(c.a)(b,2),O=(y[0],y[1]);return l.a.createElement("div",null,l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Sincronize Editor"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement(ea.a,{checked:r,icons:!1,onChange:function(e){s(!r),me.sincronize=!r,O("conf",me,{path:"/"});var t=v.getInstance().getYashe();E.a.signal(t,"sinc",!r)}}))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Save Color Preferences"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement(ea.a,{checked:h,icons:!1,onChange:function(){me.saveColors=!h,O("conf",me,{path:"/"}),g(!h)}}))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Pretty Print"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("select",{className:"customPretty",value:m,onChange:function(e){var a=e.target.value;me.pretty=a,d(a),O("conf",me,{path:"/"}),t.emit()}},l.a.createElement("option",{value:"none"},"None"),l.a.createElement("option",{value:"pretty1"},"Pretty1"),l.a.createElement("option",{value:"pretty2"},"Pretty2"),l.a.createElement("option",{value:"pretty3"},"Pretty3")))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Restore Default Colors"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&at.getInstance().restoreDefaultColors()}},"Apply"))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Restore Default Config"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&(at.getInstance().restoreDefaultConfig(),s(me.sincronize),g(me.saveColors),d(me.pretty))}},"Apply"))))};var aa=function(e){var t=Object(n.useContext)(la);return l.a.createElement("div",null,l.a.createElement("div",{id:"assistant-container",className:"assistantContainer"},l.a.createElement(p.a,{isOpen:t.isAssistOpen},l.a.createElement(Tt,null),l.a.createElement(Ft,null),l.a.createElement(It,null)),l.a.createElement(p.a,{isOpen:t.isPrefixesOpen},l.a.createElement(Pt,null)),l.a.createElement(p.a,{isOpen:t.isColorsOpen},l.a.createElement(Jt,null)),l.a.createElement(p.a,{isOpen:t.isConfigOpen},l.a.createElement(ta,null))))},na=a(133),la=(a(379),a(380),l.a.createContext());var ia=function(e){var t=Object(n.useContext)(ma),a=Object(n.useState)(!0),i=Object(c.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)(!1),u=Object(c.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)(!1),h=Object(c.a)(f,2),g=h[0],b=h[1],v=Object(n.useState)(!1),y=Object(c.a)(v,2),E=y[0],O=y[1],C=Object(n.useState)("#fffff"),w=Object(c.a)(C,2),x=(w[0],w[1]);return l.a.createElement(la.Provider,{value:{isAssistOpen:r,isPrefixesOpen:m,isColorsOpen:g,isConfigOpen:E,setAssistOpen:s,setPrefixesOpen:d,setColorsOpen:b,setConfigOpen:O,handleChange:function(e,t,a){x(e),a[t]=e}}},l.a.createElement(p.a,{isOpen:t.isAssistantOpen,className:"assistCollapse"},l.a.createElement(na.ResizableBox,{width:t.width,height:100,onResize:function(e,a){return t.handleResize(e,a)},resizeHandles:["e"],minConstraints:[470,100],maxConstraints:[1e3,1e3]},l.a.createElement("div",{className:"containerAssist"},l.a.createElement(Ye,null),l.a.createElement(aa,null)))))},ra=(a(381),a(382),a(383),a(384),"Ops... There are some errors in the editor"),sa="Sorry that Shape is too complex for me";var ca=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(n.useRef)(null),s=Object(n.useContext)(ma),o=[],u=!1,m=[new k("","http://example.org/",0),new k("schema","http://schema.org/",1),new k("xsd","http://www.w3.org/2001/XMLSchema#",2)];Object(n.useEffect)((function(){if(!a){var e={persistent:!1,lineNumbers:!0,showTooltip:!0,theme:"author-dark",value:we.DEFAULT_SHAPE},t=b()(r.current,e);t.on("humanEvent",(function(e,t){v.getInstance().draw(e),u=!1,o=e;var a={size:{width:t}};s.handleResize(null,a)})),t.on("convert",(function(){t.hasErrors(t)?(S(),j(),O(),setTimeout((function(){C(),x(),w(ra)}),500)):(S(),g())})),t.on("sinc",(function(e){e?(t._handlers.focus=null,j(),u&&w(sa),t.hasErrors(t)&&w(ra),t.on("keyup",we.debounce((function(e){if(t.hasErrors(t))w(ra);else{S();var a=d();o.length==a.length?a.toString()!=o.toString()&&(u=!1,o=f(a)):g()}}),500)),t.on("keyHandled",(function(){t.hasErrors()||(u=!1,o=f(d()),h(p()))}))):(t._handlers.keyup=null,t._handlers.keyHandled=null,t.hasErrors(t)&&x(),u&&x(),t.on("focus",(function(){x()})))})),t.on("prefixChange",(function(e,t){v.getInstance().draw(o,e);var a={size:{width:t}};s.handleResize(null,a)})),t.on("forceError",(function(e){u=!0,S(),O(),setTimeout((function(){C(),w(sa),me.sincronize||x()}),500)})),t.on("delete",(function(){u=!1,o=f(d()),h(m)})),t.on("upload",(function(){t.hasErrors()||(g(),h(p()))})),t.on("galery",(function(){t.hasErrors()||(g(),h(p()))})),t.refresh(),i(t),v.getInstance().setYashe(t),o=f(d()),h(m),E.a.signal(v.getInstance().getYashe(),"sinc",me.sincronize)}}),[a]);var d=function(){return we.replaceShapes()},p=function(){return we.updatePrefixes()},f=function(e){return s.replaceShapes(e),e},h=function(e){return s.replacePrefixes(e),e},g=function(){j(),O(),setTimeout((function(){u=!1,o=f(d()),C()}),500)},y=function(e,t,a,n){var l=document.getElementsByClassName(e)[0];l&&(l.className=t);var i=document.getElementsByClassName(a)[0];i&&(i.className=n)},O=function(){y("showAsist","hideAsist","hideLoader","showLoader")},C=function(){y("showLoader","hideLoader","hideAsist","showAsist")},w=function(e){y("hideError","showError","showAsist","hideAsist"),document.getElementsByClassName("errorMsg")[0].textContent=e},x=function(e){y("hideConvert","showConvert","showAsist","hideAsist")},S=function(){y("showError","hideError","hideAsist","showAsist")},j=function(){y("showConvert","hideConvert","hideAsist","showAsist")};return l.a.createElement("div",{className:"col edit",ref:r})};var oa=function(){return l.a.createElement("div",{className:"globalContainer"},l.a.createElement("div",{className:"row comps"},l.a.createElement(Ve,null),l.a.createElement(ia,null),l.a.createElement(ca,null)))};var ua=function(e){var t=e.svg,a=e.isVisualizeOpen;return l.a.createElement(p.a,{isOpen:a},l.a.createElement("div",{className:"visualize"},l.a.createElement("div",{className:"umlContainer"},l.a.createElement("div",{className:"uml",dangerouslySetInnerHTML:{__html:t}}))))},ma=(a(385),l.a.createContext());var da=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)([]),o=Object(c.a)(r,2),p=o[0],f=o[1],h=Object(n.useState)(""),g=Object(c.a)(h,2),b=g[0],v=g[1],y=Object(n.useState)(!0),E=Object(c.a)(y,2),O=E[0],C=E[1],w=Object(n.useState)(!0),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(!0),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)(470),B=Object(c.a)(I,2),P=B[0],R=B[1],L=function(){var e=new FormData;e.set("schema",we.getSchema()),e.set("schemaFormat","ShExC"),e.set("schemaEngine","SHEX"),u()({method:"post",url:"http://rdfshape.weso.es:8080/api/schema/visualize",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){void 0!=e.data.svg&&(e.data.svg.startsWith("<?xml")?v(e.data.svg):v(null))})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){ze(P)})),l.a.createElement(m.a,null,l.a.createElement(ma.Provider,{value:{shapes:a,addShape:function(){var e=le.addShape(a,P);i([].concat(Object(s.a)(a),[e])),function(e){var t=e.type.value,a=(e.type.getTypeName(),e.id);setTimeout((function(){if(""==t)return He("addTriple"+a,"disabled");He("addTriple"+a,"addTripleButton")}),0)}(e),L()},deleteShape:function(e){i(le.deleteShape(a,e,!1,P)),L()},addPrefix:function(){f([].concat(Object(s.a)(p),[W(p,P)]))},deletePrefix:function(e){f(function(e,t,a){var n=e.filter((function(e){return e.id!=t}));return Z(n,a),n}(p,e,P))},replaceShapes:function(e){i([]),i(e),L()},replacePrefixes:function(e){f([]),f(e)},prefixes:p,emit:function(){le.emit(a,P),L()},emitPref:function(){Z(p,P),L()},visualize:L,isToolBarOpen:S,isAssistantOpen:O,isVisualizeOpen:T,assistantToggle:function(){return C(!O)},visualizeToggle:function(){return F(!T)},handleResize:function(e,t){R(t.size.width),ze(t.size.width)},width:P}},l.a.createElement(d,{colapseAll:function(){C(!S),F(!S),j(!S)}}),l.a.createElement(oa,null),l.a.createElement(ua,{svg:b,isVisualizeOpen:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(da,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,a){},95:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.9757e798.chunk.js.map