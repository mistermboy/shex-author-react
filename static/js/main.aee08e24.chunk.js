(this["webpackJsonpshex-author"]=this["webpackJsonpshex-author"]||[]).push([[0],{134:function(e,t,a){e.exports=a(386)},156:function(e,t,a){},194:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},375:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(32),r=a.n(i),s=a(20),c=a(1),o=a(130),u=a.n(o),m=a(388);a(156);var d=function(e){var t=e.colapseAll;return l.a.createElement("nav",{className:"navbar navbar-default "},l.a.createElement("div",{className:"navbar-header"},l.a.createElement("button",{className:"collapseAllBtn mdc-icon-button material-icons",type:"button",onClick:t},"menu"),l.a.createElement("span",{className:"shexTitle"},"ShExAuthor"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/YASHE/"},"YASHE"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/"},"Weso"),l.a.createElement("a",{className:"navItems",target:"_blank",href:"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/"},"About me")))},p=a(389);var f=function(){var e=Object(n.useContext)(aa);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"ShEx Assistant",type:"button",onClick:e.assistantToggle},"info")};var h=function(){var e=Object(n.useContext)(aa);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Visualize",onClick:e.visualizeToggle},"remove_red_eye")},g=a(26),v=a.n(g),b=function(){function e(){this.getYashe=function(){return this.yashe},this.setYashe=function(e){this.yashe=e},this.getPrefixes=function(){var e=this.getYashe().getDefinedPrefixes(),t="";for(var a in e)t+="PREFIX "+a+":    <"+e[a]+">\n";return t+="\n"},this.draw=function(e,t){var a=t;t||(a=this.getPrefixes()),e.forEach((function(e){a+=e.toString()})),this.getYashe().setValue(a)}}var t;return{getInstance:function(){return t||(t=new e),t}}}(),y=a(6),E=a.n(y),C=a(2),O=a(3),w=a(8),x=a(7),S=function(){function e(t){Object(C.a)(this,e),this.value=t}return Object(O.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://example.org/",n=arguments.length>2?arguments[2]:void 0;Object(C.a)(this,e),this.prefixName=t,this.prefixValue=a,this.id=n}return Object(O.a)(e,[{key:"getPrefixName",value:function(){return this.prefixName}},{key:"getPrefixValue",value:function(){return this.prefixValue}}]),e}(),k=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new j,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(C.a)(this,a),(e=t.call(this,l)).prefix=n,e}return Object(O.a)(a,[{key:"getPrefix",value:function(){return this.prefix}},{key:"setPrefix",value:function(e){this.prefix=e}},{key:"getTypeName",value:function(){return"prefixedIri"}},{key:"toString",value:function(){return this.getPrefix().getPrefixName()+":"+this.getValue()}}]),a}(S),N=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"iriRef"}},{key:"toString",value:function(){return"<"+this.getValue()+">"}}]),a}(S),T=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"example";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"bnodeType"}},{key:"toString",value:function(){return"_:"+this.getValue()}}]),a}(S),F=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"blankType"}},{key:"toString",value:function(){return""}}]),a}(S),I=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"primitive"}},{key:"toString",value:function(){return"none"==this.value?".":"xsd:"+this.getValue()}}]),a}(S),B=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;return Object(C.a)(this,a),(e=t.call(this,l)).values=n,e}return Object(O.a)(a,[{key:"addValue",value:function(e){this.values.push(e)}},{key:"getValues",value:function(){return this.values}},{key:"setValues",value:function(e){this.values=e}},{key:"getTypeName",value:function(){return"valueSet"}},{key:"toString",value:function(){var e="[";return this.values.map((function(t){e+=t.toString()+" "})),e+="]"}}]),a}(S),R=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"literal"}},{key:"toString",value:function(){return"Literal"}}]),a}(S),P=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"nonliteral"}},{key:"toString",value:function(){return"NONLITERAL"}}]),a}(S),L=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"iri"}},{key:"toString",value:function(){return"IRI"}}]),a}(S),A=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"bnode"}},{key:"toString",value:function(){return"BNODE"}}]),a}(S),D=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"stringLiteral"}},{key:"toString",value:function(){return'"'+this.value+'"'}}]),a}(S),V=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"numberLiteral"}},{key:"toString",value:function(){return this.value}}]),a}(S),z=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";return Object(C.a)(this,a),t.call(this,e)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"booleanLiteral"}},{key:"toString",value:function(){return this.value}}]),a}(S),_=function(){function e(){Object(C.a)(this,e)}return Object(O.a)(e,[{key:"createType",value:function(e){var t;return"iriRef"==e&&(t=new N),"prefixedIri"==e&&(t=new k),"bnodeType"==e&&(t=new T),"blankType"==e&&(t=new F),"primitive"==e&&(t=new I),"literal"==e&&(t=new R),"nonliteral"==e&&(t=new P),"iri"==e&&(t=new L),"bnode"==e&&(t=new A),"valueSet"==e&&(t=new B),"stringLiteral"==e&&(t=new D),"numberLiteral"==e&&(t=new V),"booleanLiteral"==e&&(t=new z),t}}]),e}(),H=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"getTypeName",value:function(){return"blank"}},{key:"toString",value:function(){return""}}]),a}(S),Y=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new k(new j("","http://example.org/")),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new H;Object(C.a)(this,e),this.id=t,this.type=a,this.triples=n,this.triplesCount=this.triples.length,this.factory=new _,this.qualifier=l}return Object(O.a)(e,[{key:"addTriple",value:function(e){this.triples.push(e),this.triplesCount++}},{key:"removeTriple",value:function(e){this.triples=this.triples.filter((function(t){return t.id!=e}))}},{key:"setQualifier",value:function(e){this.qualifier=this.qualifier}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){var e="";return""!=this.type.value&&(e+=this.type+" "+this.qualifier,this.checkContent()&&(e+=" {\n",e+=this.getTriplesString(),e+="}\n\n")),e}},{key:"getTriplesString",value:function(){var e=this,t="",a=this.getLongestElement("type"),n=this.getLongestElement("constraint"),l=this.getLongestElement("shapeRef"),i=this.getLongestElement("cardinality"),r=this.getLongestCR();return this.triples.forEach((function(s){var c=s.type.toString().length,o=s.constraint.toString().length,u=s.shapeRef.toString().length,m=s.cardinality.toString().length,d=a-c,p=n-o,f=l-u,h=i-m,g=r-(o+u);t+=s.toString(e.getSeparators(d,p,f,h,g))})),t}},{key:"checkContent",value:function(){var e=!1;return this.triples.forEach((function(t){""!=t.getType().value&&(e=!0)})),e}},{key:"getLongestElement",value:function(e){var t=0;return this.triples.forEach((function(a){var n=a[e].toString().length;n>t&&(t=n)})),t}},{key:"getLongestCR",value:function(){var e=0;return this.triples.forEach((function(t){var a=t.constraint.toString().length+t.shapeRef.toString().length;a>e&&(e=a)})),e}},{key:"getSeparators",value:function(e,t,a,n,l){return{triple:this.getSeparator(e),constraint:this.getSeparator(t),ref:this.getSeparator(a),card:this.getSeparator(n),CRef:this.getSeparator(l)}}},{key:"getSeparator",value:function(e){for(var t=" ",a=0;a<e;a++)t+=" ";return t}},{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){this.id=e}},{key:"getType",value:function(){return this.type}},{key:"getTriples",value:function(){return this.triples}},{key:"setTriples",value:function(e){this.triples=e}},{key:"getTriplesCount",value:function(){return this.triplesCount}},{key:"setTriplesCount",value:function(e){this.triplesCount=e}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"setQualifier",value:function(e){this.qualifier=e}}]),e}(),X=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"length",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(C.a)(this,e),this.id=t,this.type=a,this.value=n}return Object(O.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getValue",value:function(){return this.value}},{key:"setId",value:function(e){this.id=e}},{key:"setType",value:function(e){this.type=e}},{key:"setValue",value:function(e){this.value=e}},{key:"toString",value:function(){return this.type+" "+this.value}}]),e}(),q={Wikidata:{wikibase:"http://wikiba.se/ontology#",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",wdtn:"http://www.wikidata.org/prop/direct-normalized/",wds:"http://www.wikidata.org/entity/statement/",p:"http://www.wikidata.org/prop/",wdref:"http://www.wikidata.org/reference/",wdv:"http://www.wikidata.org/value/",ps:"http://www.wikidata.org/prop/statement/",psv:"http://www.wikidata.org/prop/statement/value/",psn:"http://www.wikidata.org/prop/statement/value-normalized/",pq:"http://www.wikidata.org/prop/qualifier/",pqv:"http://www.wikidata.org/prop/qualifier/value/",pqn:"http://www.wikidata.org/prop/qualifier/value-normalized/",pr:"http://www.wikidata.org/prop/reference/",prv:"http://www.wikidata.org/prop/reference/value/",prn:"http://www.wikidata.org/prop/reference/value-normalized/",wdno:"http://www.wikidata.org/prop/novalue/",wdata:"http://www.wikidata.org/wiki/Special:EntityData/"},W3C:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",xsd:"http://www.w3.org/2001/XMLSchema#",prov:"http://www.w3.org/ns/prov#"},"Social/Other":{schema:"http://schema.org/",geo:"http://www.opengis.net/ont/geosparql#",geof:"http://www.opengis.net/def/geosparql/function/"},Blazegraph:{bd:"http://www.bigdata.com/rdf#",bds:"http://www.bigdata.com/rdf/search#",gas:"http://www.bigdata.com/rdf/gas#",hint:"http://www.bigdata.com/queryHints#"}},U=0;function M(e){var t=b.getInstance().getYashe().getDefinedPrefixes();for(var a in t)if(t[a]==e)return new j(a,t[a]);return new j}function Q(e,t){var a=e.length+U++,n=new j("","",a),l=[];return(l=Object.assign(l,e)).push(n),K(l,t),n}function W(e){var t=q,a=b.getInstance().getYashe(),n=a.getValue(),l=(a.getDefinedPrefixes(),"http://example.org/");for(var i in t)for(var r in t[i])r==e&&(l=t[i][r]);a.setValue("PREFIX "+e+": <"+l+">\n"+n),E.a.signal(a,"prefixUpdate")}function K(e,t){var a=b.getInstance().getYashe();void 0!=a&&E.a.signal(a,"prefixChange",function(e){var t="";return e.map((function(e){t+="PREFIX "+e.prefixName+": <"+e.prefixValue+">\n"})),t}(e),t)}var Z=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new k(new j("schema","http://schema.org/"));Object(C.a)(this,e),this.id=t,this.type=a,this.factory=new _}return Object(O.a)(e,[{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){return this.type.toString()}}]),e}(),$=0,G=0,J=0;function ee(e,t){var a=b.getInstance().getYashe();void 0!=a&&(E.a.signal(a,"humanEvent",e,t),te())}function te(){var e=b.getInstance().getYashe(),t=!1,a=!1,n=!1;Object.keys(e.getDefinedPrefixes()).map((function(e){""==e&&(t=!0),"schema"==e&&(a=!0),"xsd"==e&&(n=!0)})),t||W(""),a||W("schema"),n||W("xsd")}var ae,ne={addShape:function(e,t){var a=e.length+$++,n=new Y(a),l=[];return(l=Object.assign(l,e)).push(n),te(),ee(l,t),n},deleteShape:function(e,t,a,n){if(a||(a=window.confirm("Are you sure?")),1==a){var l=e.filter((function(e){return e.id!=t}));return ee(l,n),l}return e},getShapeById:function(e,t){return e.filter((function(e){return e.id==t}))[0]},getShapeByName:function(e,t){for(var a in e)if(e[a].getType().toString()==t)return e[a]},getTripleById:function(e,t){return e.getTriples().filter((function(e){return e.id==t}))[0]},emit:ee,addFacet:function(e){var t=e.length+G++;return new X(t)},addValueSetValue:function(e){var t=e.length+J++;return new Z(t)}},le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(C.a)(this,e),this.min=t}return Object(O.a)(e,[{key:"getCardType",value:function(){return"exactly"}},{key:"toString",value:function(){return"{"+this.min+"}"}}]),e}(),ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(C.a)(this,e),this.min=t}return Object(O.a)(e,[{key:"getCardType",value:function(){return"minLimit"}},{key:"toString",value:function(){return"{"+this.min+",*}"}}]),e}(),re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(C.a)(this,e),this.min=t,this.max=a}return Object(O.a)(e,[{key:"getCardType",value:function(){return"range"}},{key:"toString",value:function(){return"{"+this.min+","+this.max+"}"}}]),e}(),se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";Object(C.a)(this,e),this.value=t}return Object(O.a)(e,[{key:"getCardType",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),e}(),ce=function(){function e(){Object(C.a)(this,e)}return Object(O.a)(e,[{key:"createCardinality",value:function(e,t,a){return"exactly"==e?new le(t):"minLimit"==e?new ie(t):"range"==e?new re(t,a):new se(e)}}]),e}(),oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(C.a)(this,e),this.shape=t}return Object(O.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"setShape",value:function(e){this.shape=e}},{key:"toString",value:function(){return this.shape?"@"+this.shape.getType().toString():""}}]),e}(),ue={sincronize:!0,pretty:"pretty2",saveColors:!0},me=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new k(new j("schema","http://schema.org/")),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new I,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new oe,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new se;Object(C.a)(this,e),this.id=t,this.type=a,this.constraint=n,this.shapeRef=l,this.facets=i,this.cardinality=r,this.factory=new _,this.cardFactory=new ce}return Object(O.a)(e,[{key:"addValue",value:function(e){this.constraints.push(e),this.constraintsCount++}},{key:"addFacet",value:function(e){this.facets.push(e)}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"setConstraint",value:function(e){this.constraint=this.factory.createType(e)}},{key:"setCardinality",value:function(e,t,a){this.cardinality=this.cardFactory.createCardinality(e,t,a)}},{key:"getShapeRef",value:function(){return this.shapeRef}},{key:"setShapeRef",value:function(e){this.shapeRef=e}},{key:"getFacets",value:function(){return this.facets}},{key:"setFacets",value:function(e){this.facets=e}},{key:"getConstraint",value:function(){return this.constraint}},{key:"getCardinality",value:function(){return this.cardinality}},{key:"toString",value:function(e){var t="",a=this.getType(),n=this.getConstraint(),l=this.getFacets(),i=this.getShapeRef(),r=this.getCardinality(),s=(e=this.checkPrettyOptions(e)).triple,c=e.constraint,o=e.ref,u=e.card;return""!=a.value&&(t+="  "+a+s,t+=this.checkFacets(),l&&l.map((function(e){t+=" "+e+" "})),""==n.value&&"pretty3"!=ue.pretty&&(c="",o+=" "),t+=c+i+o+r+u+";\n"),t}},{key:"checkPrettyOptions",value:function(e){return"none"==ue.pretty&&(e.triple=" ",e.constraint=" ",e.ref=" "),"pretty1"==ue.pretty&&(e.constraint=" ",e.ref=" "),"pretty2"==ue.pretty&&(e.constraint=" ",e.ref=e.CRef),e}},{key:"checkFacets",value:function(){var e=this.getConstraint();this.getShapeRef();return this.facets.length>0?"Primitive"!=e.getTypeName()&&"none"!=e.value?e+" ":"":e}}]),e}(),de=["string","integer","date","boolean"];function pe(e){var t,a=b.getInstance().getYashe();if(e.startsWith("<"))return t=e.split("<")[1].split(">")[0],new N(t);if(e.startsWith("_:"))return t=e.split(":")[1],new T(t);t=e.split(":")[1];var n=e.split(":")[0],l=function(e,t){var a;for(var n in e)n==t&&(a=e[n]);return a}(a.getDefinedPrefixes(),n),i=new j(n,l);return new k(i,t)}function fe(e,t,a){for(var n,l,i=[],r=[],s=(new _).createType(""),c=new oe,o=0;o<t.length;o++){var u=t[o];if("string-2"!=u.type&&"variable-3"!=u.type||(n=pe(u.string)),"constraint"!=u.type&&"constraintKeyword"!=u.type||(l=he(u.string)),"valueSet"==u.type&&(u.string.startsWith("@")?E.a.signal(b.getInstance().getYashe(),"forceError","LANTAG_ERR"):i.push(new Z(i.length,ve(u.string)))),"shapeRef"==u.type){var m=be(u.string);ae.push({shapeId:a,tripleId:e,shapeRef:m})}if("facet"==u.type){var d=t[++o].string,p=r.length,f=u.string.toLowerCase();r.push(new X(p,f,d))}"cardinality"==u.type&&(s=ge(u.string)),"string-2"!=u.type&&"variable-3"!=u.type&&"constraint"!=u.type&&"constraintKeyword"!=u.type&&"valueSet"!=u.type&&"shapeRef"!=u.type&&"facet"!=u.type&&"cardinality"!=u.type&&"punc"!=u.type&&"comment"!=u.type&&E.a.signal(b.getInstance().getYashe(),"forceError"),"~"==u.string&&E.a.signal(b.getInstance().getYashe(),"forceError","EXCLUSION_ERR"),"{"==u.string&&E.a.signal(b.getInstance().getYashe(),"forceError")}return i.length>0&&(l=new B(i)),new me(e,n,l,c,r,s)}function he(e){var t=(new _).createType(e.toLowerCase());if(void 0!=t)return t;if("prefixedIri"==(t=pe(e)).getTypeName()&&function(e){for(var t in de)if(de[t]==e)return!0;return!1}(t.value)){var a=e.split(":")[1];return new I(a)}return t}function ge(e){var t=new ce;if(1==e.length)return t.createCardinality(e);var a,n=e.split("{")[1].split("}")[0].split(","),l=n[0];n.length>1&&(a=n[1]);var i="range";return void 0==a&&(i="exactly"),""!=a&&"*"!=a||(i="minLimit"),t.createCardinality(i,l,a)}function ve(e){if(!isNaN(e))return new V(e);if(e.startsWith('"'))return new D(e.substring(1,e.length-1));var t=e.toLowerCase();return"true"==t||"false"==t?new z(t):pe(e)}function be(e){return e.split("@")[1]}function ye(e){return e.filter((function(e){return"ws"!=e.type}))}var Ee={getTokens:function(){var e=b.getInstance().getYashe(),t=[];if(void 0!=e)for(var a=0;a<e.lineCount();++a){ye(e.getLineTokens(a)).forEach((function(e){t.push(e)}))}return t},getDefinedShapes:function(e){var t=0,a=[],n=[],l=0,i=!1;return e.forEach((function(e){"shape"==e.type?((a=[]).push(e),n[l]=a,l++):("{"==e.string&&(i=!0),i?("{"==e.string&&t++,"}"==e.string&&t--,0!=t&&a.push(e)):a.push(e))})),n},getShapes:function(e){ae=[];var t=[];return b.getInstance().getYashe(),e.forEach((function(e){var a=t.length,n=pe(e[0].string),l=function(e){if(e&&"constraintKeyword"==e.type){var t=e.string.toLowerCase();return(new _).createType(t)}return new H}(e[1]),i=function(e,t){for(var a=[],n=[],l=(b.getInstance().getYashe(),function(e){for(var t=0;t<e.length;t++)if("{"==e[t].string)return t+1}(t));l<t.length;l++)n.push(t[l]),("punc"==t[l].type&&";"==t[l].string||l==t.length-1)&&1!=n.length&&(a.push(fe(a.length,n,e)),n=[]);return a}(a,e);t.push(new Y(a,n,i,l))})),t},updateShapeRefs:function(e){for(var t in ae){var a=ae[t].shapeId,n=ae[t].tripleId,l=ae[t].shapeRef,i=ne.getShapeById(e,a),r=ne.getTripleById(i,n),s=ne.getShapeByName(e,l);r.shapeRef.setShape(s)}}},Ce=0;var Oe={DEFAULT_SHAPE:"PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          xsd:string  ;\n  schema:birthDate     xsd:date?  ;\n  schema:birthPlace    xsd:string+  ;\n  schema:knows          @:User*  \n}",VALUESET_SHAPE:'PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          [xsd:string 34 "esd" <asds> false ] ;\n}',replaceShapes:function(){var e=Ee.getTokens(),t=Ee.getDefinedShapes(e),a=Ee.getShapes(t);return Ee.updateShapeRefs(a),a},updatePrefixes:function(e){var t=b.getInstance().getYashe().getDefinedPrefixes(),a=[];return Object.keys(t).map((function(e){var n=a.length+Ce++;a.push(new j(e,t[e],n))})),a},getSchema:function(){var e=b.getInstance().getYashe();return e?e.getValue():""},debounce:function(e,t,a){var n,l;return function(){var i=this,r=arguments,s=function(){n=null,a||(l=e.apply(i,r))},c=a&&!n;return clearTimeout(n),n=setTimeout(s,t),c&&(l=e.apply(i,r)),l}}};function we(){var e=new Blob([b.getInstance().getYashe().getValue()],{type:"text/shex"}),t=document.createElement("a");t.download="document.shex",t.innerHTML="Download File",null!=window.URL?t.href=window.URL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",document.body.appendChild(t)),t.click()}function xe(){var e=b.getInstance().getYashe(),t="wiki";"wiki"==e.getOption("theme")?(t="dark","white",document.getElementById("downloadBtn").classList.add("light"),document.getElementById("copyBtn").classList.add("light"),document.getElementById("deleteBtn").classList.add("light"),document.getElementById("themeBtn").classList.add("light"),document.getElementById("smallBtn").classList.add("light"),document.getElementById("fullBtn").classList.add("light"),document.getElementById("uploadBntLabel").classList.add("light")):(document.getElementById("downloadBtn").classList.remove("light"),document.getElementById("copyBtn").classList.remove("light"),document.getElementById("deleteBtn").classList.remove("light"),document.getElementById("themeBtn").classList.remove("light"),document.getElementById("smallBtn").classList.remove("light"),document.getElementById("fullBtn").classList.remove("light"),document.getElementById("uploadBntLabel").classList.remove("light")),e.setOption("theme",t),E.a.signal(e,"themeChange")}function Se(){window.scrollTo(0,0)}var je=function(){var e=Object(n.useContext)(aa);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Undo",onClick:function(){b.getInstance().getYashe().undo(),setTimeout((function(){e.replaceShapes(Oe.replaceShapes())}),10)}},"undo")};var ke=function(){var e=Object(n.useContext)(aa);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Redo",onClick:function(){b.getInstance().getYashe().redo(),setTimeout((function(){e.replaceShapes(Oe.replaceShapes())}),10)}},"redo")},Ne=a(131);var Te=function(){Object(n.useContext)(aa);var e=function(e){!function(e){if(!(e.length>1)){var t=e[0];if(t.name.endsWith(".shex")){var a=new FileReader;a.onload=function(e){b.getInstance().getYashe().setValue(e.target.result)},a.readAsText(t),E.a.signal(b.getInstance().getYashe(),"upload")}}}(e.target.files)};return l.a.createElement("div",{className:"svgBtnCont uploadBtn"},l.a.createElement("input",Object(Ne.a)({type:"file",onChange:e,accept:".shex",name:"file-1[]",id:"file-1",className:"inputfileBtn","data-multiple-caption":"{count}'+'files selected",multiple:!0},"onChange",e)),l.a.createElement("label",{className:"svgBtn",htmlFor:"file-1",title:"Upload"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 20 17"},l.a.createElement("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}))))};var Fe=function(){return Object(n.useContext)(aa),l.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Download",onClick:we},l.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",baseProfile:"tiny",viewBox:"0 0 100 100"},l.a.createElement("path",{d:"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"})))};var Ie=function(){return Object(n.useContext)(aa),l.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Theme",onClick:xe},l.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 24 24"},l.a.createElement("path",{fill:"none",d:"M24 0H0v24h24V0z"}),l.a.createElement("path",{d:"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"})))};var Be=function(){return Object(n.useContext)(aa),l.a.createElement("div",{className:"dropdown",title:"Galery"},l.a.createElement("button",{className:"dropdown-toggle   mdc-icon-button material-icons  btns selector",type:"button","data-toggle":"dropdown"},"folder_open",l.a.createElement("span",{className:"caret"})),l.a.createElement("ul",{className:"dropdown-menu"},l.a.createElement("li",null,l.a.createElement("div",{id:"prefixesDropdown"},l.a.createElement("button",{className:"form-control",onClick:function(){return function(e){var t=b.getInstance().getYashe();"default"==e?t.setValue("PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\nschema:name          xsd:string  ;\nschema:birthDate     xsd:date?  ;\nschema:birthPlace    xsd:string+  ;\nschema:knows          @:User*  \n}\n"):t.setValue("PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:  <http://www.wikidata.org/prop/direct/>\nPREFIX p:    <http://www.wikidata.org/prop/>\nPREFIX prov:    <http://www.w3.org/ns/prov#>\nPREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\nPREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\nPREFIX pr:    <http://www.wikidata.org/prop/reference/>\nPREFIX ps:    <http://www.wikidata.org/prop/statement/>\nPREFIX interpro:    <http://micel.io/genewiki/interpro/>\n\n<#wikidata-human-protein>  {\np:P703           @<#P703_found_in_taxon_human>  ;\np:P352           @<#P352_uniprot_id>+  ;\np:P527           @<#P527_has_part>*  ;\np:P637           @<#P637_RefSeq_Protein_ID>*  ;\np:P639           @<#P639_RefSeq_RNA_ID>*  ;\n}\n\n<#P703_found_in_taxon_human>  {\nps:P703          wd:Q15978631   ;\nprov:wasDerivedFrom          IRI +  ;\n}\n\n<#P352_uniprot_id>  {\nps:P352          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P527_has_part>  {\nps:P527          IRI   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P637_RefSeq_Protein_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P639_RefSeq_RNA_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n"),setTimeout((function(){E.a.signal(t,"galery")}),10)}("default")}},"User")))))};var Re=function(){var e=Object(n.useContext)(aa);return l.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"Delete all",onClick:function(){if(window.confirm("Are you sure?")){setTimeout((function(){e.replaceShapes([])}),10);var t=b.getInstance().getYashe();t.setValue(""),E.a.signal(t,"delete")}}},"delete_outline")};var Pe=function(){return Object(n.useContext)(aa),l.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Up",onClick:Se},"arrow_upward")};a(194);var Le=function(){var e=Object(n.useContext)(aa);return l.a.createElement(p.a,{isOpen:e.isToolBarOpen,className:"col-xs-1 toolbarCollapse"},l.a.createElement("div",{className:"toolbar"},l.a.createElement("div",{className:"toolbarTop"},l.a.createElement(f,null),l.a.createElement(h,null),l.a.createElement(je,null),l.a.createElement(ke,null),l.a.createElement(Te,null),l.a.createElement(Fe,null),l.a.createElement(Ie,null),l.a.createElement(Be,null),l.a.createElement(Re,null)),l.a.createElement("div",{className:"toolbarBottom"},l.a.createElement(Pe,null))))};function Ae(e){setTimeout((function(){var t=document.getElementsByClassName("xs-tabs")[0],a=document.getElementsByClassName("xs-header"),n=document.getElementsByClassName("xs-tripleHeader"),l=document.getElementsByClassName("xs-addTripleButton"),i=document.getElementsByClassName("xs-addShapeButton"),r=document.getElementsByClassName("xs-gridBox"),s=document.getElementsByClassName("xs-customConstraint"),c=document.getElementsByClassName("xs-prefixHeader"),o=document.getElementsByClassName("xs-prefixHeaderColors"),u=document.getElementsByClassName("xs-pickers"),m="xs-tabs",d="xs-header",p="xs-tripleHeader",f="xs-addTripleButton",h="xs-addShapeButton",g="xs-gridBox",v="xs-customConstraint",b="xs-prefixHeader",y="xs-prefixHeaderColors",E="xs-pickers";e>600&&(m+=" tabs",d+=" header",p+=" tripleHeader",f+=" addTripleButton",h+=" addShapeButton",g+=" gridBox",v+=" customConstraint",b+=" prefixHeader",y+=" prefixHeaderColors",E+=" pickers"),t.className=m;for(var C=0;C<a.length;C++)a[C].className=d;for(var O=0;O<n.length;O++)n[O].className=p;for(var w=0;w<l.length;w++)l[w].className=f;for(var x=0;x<i.length;x++)i[x].className=h;for(var S=0;S<r.length;S++)r[S].className=g;for(var j=0;j<s.length;j++)s[j].className=v;for(var k=0;k<c.length;k++)c[k].className=b;for(var N=0;N<o.length;N++)o[N].className=y;for(var T=0;T<u.length;T++)u[T].className=E}),0)}function De(e){var t,a;for(a=document.getElementsByClassName("tablink"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" activeTab","");e.currentTarget.className+=" activeTab"}function Ve(e,t){var a=document.getElementsByClassName(e)[0];a&&(a.className=e+" "+t)}var ze=function(e){var t=Object(n.useContext)(aa),a=Object(n.useContext)(Zt),i=function(){a.setAssistOpen(!1),a.setPrefixesOpen(!1),a.setColorsOpen(!1),a.setConfigOpen(!1)};return l.a.createElement("div",{className:"xs-tabs"},l.a.createElement("button",{className:"tablink activeTab",title:"ShEx Assistant",onClick:function(e){return t=e,i(),a.setAssistOpen(!0),void De(t);var t}},"ShEx Assistant"),l.a.createElement("button",{className:"tablink",title:"Prefixes",onClick:function(e){return t=e,i(),a.setPrefixesOpen(!0),void De(t);var t}},"Prefixes"),l.a.createElement("button",{className:"tablink material-icons",title:"Colors",onClick:function(e){return t=e,i(),a.setColorsOpen(!0),void De(t);var t}},"format_paint"),l.a.createElement("button",{className:"tablink material-icons",title:"Config",onClick:function(e){return t=e,i(),a.setConfigOpen(!0),void De(t);var t}},"settings"),l.a.createElement("div",{className:"asisTitleClose"},l.a.createElement("button",{className:"closeAsisBtn",title:"Close Assistant",onClick:t.assistantToggle},"x")))},_e=a(48),He=(a(205),a(387)),Ye={label:"#222",header:"#C6E2FF",custom:"#3d3d3d",customFill:"#79aff5",delete:"#79aff5",deleteFill:"#FFFFFF",collapse:"#222",body:"#EBF4FF",addTriple:"#EFDECD",addTripleFill:"#222",addShape:"#ddeafa",addShapeFill:"#222"},Xe={label:"#222",header:"#EFDECD",custom:"#3d3d3d",customFill:"#f8a252",constraint:"#3d3d3d",constraintFill:"#b1e086",facet:"#3d3d3d",facetFill:"#f5817f",shapeRef:"#3d3d3d",shapeRefFill:"#f8fa95",cardinality:"#3d3d3d",cardinalityFill:"#f7adea",delete:"#f8a252",deleteFill:"#ffff",collapse:"#222",body:"#EFE8E1"},qe={label:"#222",body:"#E8FAE4",add:"#ffff",addFill:"#222",delete:"#a1db6a",deleteFill:"#ffff"},Ue={label:"#222",body:"#f5d6d6",add:"#ffff",addFill:"#222",delete:"#fd9090",deleteFill:"#ffff"},Me={label:"#222",body:"#f5fac8"},Qe={label:"#222",body:"#fae2f8"},We={label:"#222",header:"#fdd5d5",add:"#fdd5d5",addFill:"#222",delete:"#222",deleteFill:"#ffff",specialLabel:"#222",body:"#FDEBEB"},Ke=function(){function e(){var e=Object(He.a)("colors"),t=Object(c.a)(e,3),a=t[0],n=t[1],l=t[2];this.getShapeStyle=function(){return{label:{color:Ye.label},header:{background:Ye.header},custom:{color:Ye.customFill,background:Ye.custom},delete:{color:Ye.deleteFill,background:Ye.delete},collapse:{color:Ye.collapse},body:{background:Ye.body},addTriple:{color:Ye.addTripleFill,background:Ye.addTriple},addShape:{color:Ye.addShapeFill,background:Ye.addShape}}},this.getTripleStyle=function(){return{label:{color:Xe.label},header:{background:Xe.header},custom:{color:Xe.customFill,background:Xe.custom},constraint:{color:Xe.constraintFill,background:Xe.constraint},facet:{color:Xe.facetFill,background:Xe.facet},shapeRef:{color:Xe.shapeRefFill,background:Xe.shapeRef},cardinality:{color:Xe.cardinalityFill,background:Xe.cardinality},delete:{color:Xe.deleteFill,background:Xe.delete},collapse:{color:Xe.collapse},body:{background:Xe.body}}},this.getConstraintStyle=function(){return{label:{color:qe.label},body:{background:qe.body},add:{color:qe.addFill,background:qe.add},delete:{color:qe.deleteFill,background:qe.delete}}},this.getFacetStyle=function(){return{label:{color:Ue.label},body:{background:Ue.body},add:{color:Ue.addFill,background:Ue.add},delete:{color:Ue.deleteFill,background:Ue.delete}}},this.getShapeRefStyle=function(){return{label:{color:Me.label},body:{background:Me.body}}},this.getCardinalityStyle=function(){return{label:{color:Qe.label},body:{background:Qe.body}}},this.getCardinalityStyle=function(){return{label:{color:Qe.label},body:{background:Qe.body}}},this.getPrefixStyle=function(){return{label:{color:We.label},header:{background:We.header},delete:{color:We.deleteFill,background:We.delete},add:{color:We.addFill,background:We.add},specialLabel:{color:We.specialLabel},body:{background:We.body}}},this.loadCookies=function(){this.loadCookie("shapeColors",Ye),this.loadCookie("tripleColors",Xe),this.loadCookie("constraintColors",qe),this.loadCookie("facetColors",Ue),this.loadCookie("shapeRefColors",Me),this.loadCookie("cardinalityColors",Qe),this.loadCookie("conf",ue)},this.loadCookie=function(e,t){var l=a[e];l?this.load(l,t):n(e,t,{path:"/"})},this.load=function(e,t){Object.keys(e).map((function(a){t[a]=e[a]}))},this.removeCookies=function(){l("shapeColors"),l("tripleColors"),l("constraintColors"),l("facetColors"),l("shapeRefColors"),l("cardinalityColors"),l("cardinalityColors"),l("conf")},this.saveDefaults=function(){this.defaultShape=Object.assign({},Ye),this.defaultTriple=Object.assign({},Xe),this.defaultConstraint=Object.assign({},qe),this.defaultFacet=Object.assign({},Ue),this.defaultShapeRef=Object.assign({},Me),this.defaultCardinality=Object.assign({},Qe),this.defaultConfig=Object.assign({},ue)},this.restoreDefaultColors=function(){this.removeCookies(),this.load(this.defaultShape,Ye),this.load(this.defaultTriple,Xe),this.load(this.defaultConstraint,qe),this.load(this.defaultFacet,Ue),this.load(this.defaultShapeRef,Me),this.load(this.defaultCardinality,Qe)},this.restoreDefaultConfig=function(){this.load(this.defaultConfig,ue),this.removeCookies()},this.saveDefaults(),this.loadCookies()}var t;return{getInstance:function(){return t||(t=new e),t}}}();var Ze=function(e){var t=Object(n.useContext)(aa),a=Object(n.useContext)(yt),i=!!a&&a.disabled,r=Ke.getInstance().getShapeStyle(),s=e.shape,o=e.customizeShape,u=e.collapseTriples,m=e.colapseBtn,d=Object(n.useState)(s.type.value),p=Object(c.a)(d,2),f=p[0],h=p[1],g=new RegExp("^([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|:|[0-9]|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])))*");"iriRef"==s.type.getTypeName()&&(g=new RegExp('^[^<>"`|{}^\\\0- ]*'));var v=Object(n.useState)(g),b=Object(c.a)(v,2),y=b[0];return b[1],l.a.createElement("div",{className:"xs-header",style:r.header},l.a.createElement("label",{style:r.label},"Shape"),l.a.createElement(_e.Textbox,{attributesInput:{id:"Name",name:"Name",type:"text",placeholder:"eg: User"},value:f,onChange:function(e){return function(e){s.type.setValue(e),t.emit(),h(e)}(e)},onKeyUp:function(e){return function(e){""==e.target.value?a.setDisabled(!0):a.setDisabled(!1)}(e)},validationOption:{reg:y,regMsg:"Invalid name"},title:"Shape Name"}),l.a.createElement("button",{className:"buildBtn mdc-icon-button material-icons",style:r.custom,onClick:o,disabled:i,title:"Customize Shape"},"build"),l.a.createElement("button",{className:"deleteShapeBtn mdc-icon-button material-icons",style:r.delete,onClick:function(){return t.deleteShape(s.id)},title:"Delete Shape"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:r.collapse,onClick:u,disabled:i,title:"Triple Constraints"},m))};function $e(e){return e.isBnode?l.a.createElement("option",{value:"bnodeType"},"Bnode"):null}var Ge=function(e){var t=Object(n.useContext)(aa),a=e.entity,i=e.setPrefix,r=e.bnode,s=e.setPrefixOpen,o=Ke.getInstance().getShapeStyle(),u=Ke.getInstance().getTripleStyle(),m=a.triples?o:u,d=Object(n.useState)(a.type.getTypeName()),p=Object(c.a)(d,2),f=p[0],h=p[1];return l.a.createElement("div",{className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:m.label},"Type "),l.a.createElement("select",{className:"customSelector",value:f,onChange:function(e){var n=e.target.value,l=a.type.value;a.setType(n),a.type.value=l,t.emit(),h(n),i("example"),s("prefixedIri"==n)}},l.a.createElement("option",{value:"iriRef"},"<...>"),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement($e,{isBnode:r})))};var Je=function(e){var t=Object(n.useContext)(aa),a=(Object(n.useContext)(Zt),e.entity),i=(e.isPrefixOpen,e.prefix),r=e.setPrefix,s=Ke.getInstance().getShapeStyle(),c=Ke.getInstance().getTripleStyle(),o=a.triples?s:c;return l.a.createElement("div",{className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:o.label},"Prefix "),l.a.createElement("select",{className:"customSelector",value:i,onChange:function(e){var n=M(e.target.value);a.type.setPrefix(n),t.emit(),r(e.target.value)}},l.a.createElement("option",{value:"example"},"example"),t.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))))};var et=function(e){var t=Object(n.useContext)(aa),a=Ke.getInstance().getShapeStyle(),i=e.shape,r=Object(n.useState)(i.qualifier.getTypeName()),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement("div",{className:"xs-gridBox"},l.a.createElement("label",{className:"customLabel",style:a.label},"Qualifier "),l.a.createElement("select",{className:"customSelector",value:o,onChange:function(e){var a=e.target.value;i.setQualifier(a),t.emit(),u(a)}},l.a.createElement("option",{value:""},"None"),l.a.createElement("option",{value:"iri"},"Iri"),l.a.createElement("option",{value:"literal"},"Literal"),l.a.createElement("option",{value:"nonliteral"},"NonLiteral"),l.a.createElement("option",{value:"bnode"},"Bnode")))};a(55);function tt(e){var t=e.isQualifier,a=e.entity;return t?l.a.createElement(et,{shape:a}):null}var at=function(e){Object(n.useContext)(aa);var t=e.entity,a=e.isCustomOpen,i=e.qualifier,r=e.bnode,s=e.customClass,o=Ke.getInstance().getShapeStyle(),u=Ke.getInstance().getTripleStyle(),m="customShape"==s?o:u,d="example",f=!1;void 0!=t.type.prefix&&(d=t.type.prefix.prefixValue,f=!0);var h=Object(n.useState)(d),g=Object(c.a)(h,2),v=g[0],b=g[1],y=Object(n.useState)(f),E=Object(c.a)(y,2),C=E[0],O=E[1];return l.a.createElement(p.a,{isOpen:a,className:"customColapse"},l.a.createElement("div",{className:s,style:m.body},l.a.createElement(Ge,{entity:t,setPrefix:b,setPrefixOpen:O,bnode:r}),l.a.createElement(p.a,{isOpen:C},l.a.createElement(Je,{entity:t,isPrefixOpen:C,prefix:v,setPrefix:b})),l.a.createElement(tt,{isQualifier:i,entity:t})))};a(206);var nt=function(e){var t=Object(n.useContext)(aa),a=Object(n.useContext)(yt),i=Ke.getInstance().getTripleStyle(),r=a.disabled,s=e.triple,o=e.deleteTriple,u=e.customizeTriple,m=(e.forceCollapse,e.customizeRef),d=e.customizeFacet,p=e.customizeContraints,f=e.customizeCardinality,h=e.collapseToggle,g=e.colapseBtn,v=Object(n.useState)(s.type.value),b=Object(c.a)(v,2),y=b[0],E=b[1],C=Object(n.useState)(s.cardinality),O=Object(c.a)(C,2),w=(O[0],O[1],"custom");""!=s.constraint.value&&(w=s.constraint.value);var x=Object(n.useState)(w),S=Object(c.a)(x,2),j=(S[0],S[1]);return l.a.createElement("div",{className:"xs-tripleHeader",style:i.header},l.a.createElement("input",{type:"text",className:"name",value:y,onChange:function(e){var a=e.target.value;s.type.setValue(a),t.emit(),E(a)},placeholder:"eg: name",disabled:r,title:"Triple Constraint Name"}),l.a.createElement("button",{className:"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.custom,onClick:u,disabled:r,title:"Customize Triple"},"build"),l.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.constraint,onClick:function(){j("custom"),p()},disabled:r,title:"Customize Constraint"},"build"),l.a.createElement("button",{className:"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.facet,onClick:d,disabled:r,title:"Customize Facets"},"build"),l.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.shapeRef,onClick:m,disabled:r,title:"Customize Shape Reference"},"build"),l.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:i.cardinality,onClick:f,disabled:r,title:"Customize Cardinality"},"build"),l.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:i.delete,onClick:function(){return o(s.id)},disabled:r,title:"Delete Triple Constraint"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:i.collapse,onClick:h,disabled:r,title:"Customize all"},g))};var lt=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(aa),r="example";void 0!=t.prefix&&(r=t.prefix.prefixValue);var s=Object(n.useState)(r),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(t.value),f=Object(c.a)(d,2),h=f[0],g=f[1];return l.a.createElement(p.a,{isOpen:a,className:"qnameSetCollapse"},l.a.createElement("select",{className:"customSelector",value:u,onChange:function(e){var a=e.target.value,n=M(a);console.log(u),t.setPrefix(n),i.emit(),m(a)}},l.a.createElement("option",{value:"example"},"example"),i.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))),l.a.createElement("input",{type:"text",className:"name",value:h,onChange:function(e){var a=e.target.value;g(a),t.setValue(a),i.emit()}}))};var it=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(aa),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement("input",{type:"text",className:"name",value:o,onChange:function(e){var a=e.target.value;t.setValue(a),i.emit(),u(a)}}))},rt=a(19),st=a.n(rt);var ct=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(aa),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement(st.a,{className:"form-control",min:0,value:o,onChange:function(e){var a=e;t.setValue(a),i.emit(),u(a)}}))};var ot=function(e){var t=e.type,a=e.isOpen,i=Object(n.useContext)(aa),r=Object(n.useState)(t.value),s=Object(c.a)(r,2),o=s[0],u=s[1];return l.a.createElement(p.a,{isOpen:a,className:"imputSetCollapse"},l.a.createElement("select",{className:"customSelector boolSelect",value:o,onChange:function(e){var a=e.target.value;t.setValue(a),i.emit(),u(a)}},l.a.createElement("option",{value:"true"},"True"),l.a.createElement("option",{value:"false"},"False")))};var ut=function(e){var t=e.valueSetValue,a=e.deleteValue,i=Object(n.useContext)(aa),r=Ke.getInstance().getConstraintStyle(),s=Object(n.useState)(t.type.getTypeName()),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!0),p=Object(c.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(!1),v=Object(c.a)(g,2),b=v[0],y=v[1],E=Object(n.useState)(!1),C=Object(c.a)(E,2),O=C[0],w=C[1],x=Object(n.useState)(!1),S=Object(c.a)(x,2),j=S[0],k=S[1],N=Object(n.useState)(!1),T=Object(c.a)(N,2),F=T[0],I=T[1],B=function(){h(!1),y(!1),w(!1),k(!1),I(!1),"iriRef"==u&&h(!0),"prefixedIri"==u&&y(!0),"stringLiteral"==u&&w(!0),"numberLiteral"==u&&k(!0),"booleanLiteral"==u&&I(!0)};return Object(n.useEffect)((function(){B()})),l.a.createElement("div",{className:"valueSets"},l.a.createElement("select",{className:"customSelector",value:u,onChange:function(e){var a=e.target.value;m(a),t.setType(a),i.emit(),B()}},l.a.createElement("option",{value:"iriRef"},"<...>"),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement("option",{value:"stringLiteral"},"String"),l.a.createElement("option",{value:"numberLiteral"},"Number"),l.a.createElement("option",{value:"booleanLiteral"},"Boolean")),l.a.createElement("div",null,l.a.createElement(it,{type:t.type,isOpen:f}),l.a.createElement(lt,{type:t.type,isOpen:b}),l.a.createElement(it,{type:t.type,isOpen:O}),l.a.createElement(ct,{type:t.type,isOpen:j}),l.a.createElement(ot,{type:t.type,isOpen:F})),l.a.createElement("button",{className:"tripleBtns deleteValueSetBtn mdc-icon-button material-icons",style:r.delete,onClick:function(){return a(t.id)},title:"Delete Value"},"delete"))};var mt=function(e){var t=e.triple,a=e.valueSet,i=Object(n.useContext)(aa),r=Object(n.useState)(a),o=Object(c.a)(r,2),u=o[0],m=o[1],d=Ke.getInstance().getConstraintStyle(),p=function(e){var a=u.filter((function(t){return t.id!=e}));m(a),t.constraint.setValues(a),i.emit()};return l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:d.label},"ValueSet"),l.a.createElement("div",{className:"valueSetsCont"},u.map((function(e){return l.a.createElement(ut,{key:e.id,valueSetValue:e,deleteValue:p})})),l.a.createElement("button",{className:"addFacet",style:d.add,title:"Add Value",onClick:function(){var e=ne.addValueSetValue(a);m([].concat(Object(s.a)(u),[e])),t.constraint.addValue(e),i.emit()}},"+ Value")))},dt=["String","Integer","Date","Boolean"];var pt=function(e){var t=Object(n.useContext)(aa),a=e.triple,i=Ke.getInstance().getConstraintStyle(),r=a.constraint.getTypeName(),s=a.constraint.value;"primitive"!=r&&(s="custom");var o="example";void 0!=a.constraint.prefix&&(o=a.constraint.prefix.prefixValue);var u=[];"valueSet"==r&&(u=a.constraint.getValues());var m=Object(n.useState)(a.constraint.value||""),d=Object(c.a)(m,2),f=d[0],h=d[1],g=Object(n.useState)(o),v=Object(c.a)(g,2),b=v[0],y=v[1],E=Object(n.useState)(u),C=Object(c.a)(E,2),O=C[0],w=(C[1],Object(n.useState)(s)),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(r),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)(!1),B=Object(c.a)(I,2),R=B[0],P=B[1],L=Object(n.useState)(!1),A=Object(c.a)(L,2),D=A[0],V=A[1],z=Object(n.useState)(!1),_=Object(c.a)(z,2),H=_[0],Y=_[1],X=Object(n.useState)(!1),q=Object(c.a)(X,2),U=q[0],Q=q[1],W=function(e){"none"==e&&null!=a.shapeRef.shape&&a.setConstraint("blankType")};return W(S),Object(n.useEffect)((function(){P(!0),Y(!1),Q(!1),V(!1),"iriRef"==T&&Y(!0),"prefixedIri"==T&&(Y(!0),Q(!0)),"primitive"==T&&("custom"!=S?P(!1):(F("prefixedIri"),h(""),a.setConstraint("prefixedIri"),t.emit())),"valueSet"==T&&V(!0)})),l.a.createElement("div",{className:"xs-gridBox",style:i.body},l.a.createElement("label",{className:"gridLabel",style:i.label},"Constraint"),l.a.createElement("select",{className:"customSelector",value:S,onChange:function(e){var n=e.target.value;a.setConstraint("primitive"),a.constraint.setValue(n),F("primitive"),j(n),W(n),t.emit()},title:"Constraint"},l.a.createElement("option",{value:"none"},"None"),dt.map((function(e){return l.a.createElement("option",{key:e,value:e.toLowerCase()},e)})),l.a.createElement("option",{value:"custom"},"Custom")),l.a.createElement(p.a,{isOpen:R,className:"constraintCollapse"},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Type"),l.a.createElement("select",{className:"customSelector",value:T,onChange:function(e){var n=e.target.value;F(n),a.setConstraint(n),a.constraint.setValue(f),t.emit()}},l.a.createElement("option",{value:"iriRef"},"<...>"),l.a.createElement("option",{value:"prefixedIri"},"QName"),l.a.createElement("option",{value:"valueSet"},"ValueSet"),l.a.createElement("option",{value:"literal"},"Literal"),l.a.createElement("option",{value:"nonliteral"},"NonLiteral"),l.a.createElement("option",{value:"iri"},"IRI"),l.a.createElement("option",{value:"bnode"},"BNode"))),l.a.createElement(p.a,{isOpen:H},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Name"),l.a.createElement("input",{type:"text",className:"name",value:f,onChange:function(e){var n=e.target.value;a.constraint.setValue(n),t.emit(),h(n)}}))),l.a.createElement(p.a,{isOpen:U},l.a.createElement("div",{className:"xs-customConstraint"},l.a.createElement("label",{style:i.label},"Prefix "),l.a.createElement("select",{className:"customSelector",value:b,onChange:function(e){var n=M(e.target.value);a.constraint.setPrefix(n),t.emit(),y(e.target.value)}},l.a.createElement("option",{value:"example"},"example"),t.prefixes.map((function(e){if(""!=e.prefixName)return l.a.createElement("option",{key:e.id,value:e.prefixValue},e.prefixName)}))))),l.a.createElement(p.a,{isOpen:D},l.a.createElement(mt,{triple:a,valueSet:O}))))};var ft=function(e){var t=e.triple,a=Object(n.useContext)(aa),i=Ke.getInstance().getShapeRefStyle(),r="";null!=t.shapeRef.shape&&(r=t.shapeRef.shape.id);var s=Object(n.useState)(r),o=Object(c.a)(s,2),u=o[0],m=o[1];return l.a.createElement("div",{className:"xs-gridBox",style:i.body},l.a.createElement("label",{className:"customLabel",style:i.label},"Shape ",l.a.createElement("br",null),l.a.createElement("span",null,"Reference")),l.a.createElement("select",{className:"shapeRefSelector",value:u,onChange:function(e){var n=e.target.value,l=null,i="";""!=n&&(i=(l=ne.getShapeById(a.shapes,n)).id),t.getShapeRef().setShape(l),"none"==t.constraint.value&&t.setConstraint("blankType"),""==n&&"blankType"==t.constraint.getTypeName()&&(t.setConstraint("primitive"),t.constraint.setValue("none")),a.emit(),m(i)}},l.a.createElement("option",{value:""},"none"),a.shapes.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},"@"+e.type)}))))};var ht=function(e){var t=e.facet,a=e.deleteFacet,i=Object(n.useContext)(aa),r=Object(n.useState)(t.type),s=Object(c.a)(r,2),o=s[0],u=s[1],m=Object(n.useState)(t.value),d=Object(c.a)(m,2),p=d[0],f=d[1],h=Ke.getInstance().getFacetStyle();return l.a.createElement("div",{className:"facetInputs"},l.a.createElement("select",{className:"customSelector",value:o,onChange:function(e){return function(e){t.setType(e),u(e),i.emit()}(e.target.value)}},l.a.createElement("option",{value:"length"},"length"),l.a.createElement("option",{value:"minlength"},"minlength"),l.a.createElement("option",{value:"maxlength"},"maxlength"),l.a.createElement("option",{value:"totaldigits"},"totaldigits"),l.a.createElement("option",{value:"fractiondigits"},"fractiondigits"),l.a.createElement("option",{value:"mininclusive"},"mininclusive"),l.a.createElement("option",{value:"minexclusive"},"minexclusive"),l.a.createElement("option",{value:"maxinclusive"},"maxinclusive"),l.a.createElement("option",{value:"maxexclusive"},"maxexclusive")),l.a.createElement(st.a,{className:"form-control",min:0,value:p,onChange:function(e){return function(e){t.setValue(e),f(e),i.emit()}(e)}}),l.a.createElement("button",{className:"tripleBtns deleteFacetBtn mdc-icon-button material-icons",style:h.delete,onClick:function(){return a(t.id)},title:"Delete Facet"},"delete"))};var gt=function(e){var t=e.triple,a=Object(n.useContext)(aa),i=Object(n.useState)(t.facets),r=Object(c.a)(i,2),o=r[0],u=r[1],m=Ke.getInstance().getFacetStyle(),d=function(e){var n=o.filter((function(t){return t.id!=e}));u(n),t.setFacets(n),a.emit()};return l.a.createElement("div",{className:"xs-gridBox",style:m.body},l.a.createElement("label",{className:"gridLabel",style:m.label},"Facet"),l.a.createElement("div",{className:"facetCont"},o.map((function(e){return l.a.createElement(ht,{key:e.id,facet:e,deleteFacet:d})})),l.a.createElement("button",{className:"addFacet",style:m.add,title:"Add Facet",onClick:function(){var e=ne.addFacet(o);u([].concat(Object(s.a)(o),[e])),t.addFacet(e),a.emit()}},"+ Facet")))};var vt=function(e){var t=e.triple,a=Object(n.useContext)(aa),i=Ke.getInstance().getCardinalityStyle(),r=t.cardinality.getCardType(),s=!1,o=!1,u=1,m=10;r.length>1&&(u=t.cardinality.min,"exactly"!=r&&"minLimit"!=r||(s=!0),"range"==r&&(o=!0,m=t.cardinality.max));var d=Object(n.useState)(r),f=Object(c.a)(d,2),h=f[0],g=f[1],v=Object(n.useState)(s),b=Object(c.a)(v,2),y=b[0],E=b[1],C=Object(n.useState)(o),O=Object(c.a)(C,2),w=O[0],x=O[1],S=Object(n.useState)(u),j=Object(c.a)(S,2),k=j[0],N=j[1],T=Object(n.useState)(m),F=Object(c.a)(T,2),I=F[0],B=F[1],R=function(e){"exactly"!=e&&"minLimit"!=e||(N(1),E(!0)),"range"==e&&(N(1),B(10),x(!0))},P=function(e,n){t.setCardinality(n,e,I),a.emit(),N(e)};return l.a.createElement("div",{className:" xs-gridBox",style:i.body},l.a.createElement("label",{className:"gridLabel",style:i.label},"Cardinality"),l.a.createElement("select",{className:"customSelector",value:h,onChange:function(e){var n=e.target.value;t.setCardinality(n),a.emit(),g(n),E(!1),x(!1),R(n)},title:"Cardinality"},l.a.createElement("option",{value:""},"Exactly one"),l.a.createElement("option",{value:"*"},"Zero or more"),l.a.createElement("option",{value:"+"},"One at least"),l.a.createElement("option",{value:"?"},"One or none"),l.a.createElement("option",{value:"exactly"},"Exactly value"),l.a.createElement("option",{value:"minLimit"},"Inferior Limit"),l.a.createElement("option",{value:"range"},"Range")),l.a.createElement(p.a,{isOpen:y,className:"rangeCardinality"},l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Value"),l.a.createElement(st.a,{className:"form-control",min:0,value:k,onChange:function(e){P(e,h)}})),l.a.createElement(p.a,{isOpen:w,className:"rangeCardinality"},l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Min"),l.a.createElement(st.a,{className:"form-control",min:0,value:k,onChange:function(e){P(e,"range")}}),l.a.createElement("label",{className:"tripleNameLabel",style:i.label},"Max"),l.a.createElement(st.a,{className:"form-control",min:0,value:I,onChange:function(e){t.setCardinality("range",k,e),a.emit(),B(e)}})))};var bt=function(e){e.shape;var t=e.triple,a=e.deleteTriple,i=Object(n.useState)(!1),r=Object(c.a)(i,2),s=r[0],o=r[1],u=Object(n.useState)(!1),m=Object(c.a)(u,2),d=m[0],f=m[1],h=Object(n.useState)(!1),g=Object(c.a)(h,2),v=g[0],b=g[1],y=Object(n.useState)(!1),E=Object(c.a)(y,2),C=E[0],O=E[1],w=Object(n.useState)(!1),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(!1),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)("menu"),B=Object(c.a)(I,2),R=B[0],P=B[1],L=function(e){o(e),f(e),b(e),O(e),j(e)},A=function(){P("menu"==R?"menu_open":"menu")};return l.a.createElement("div",null,l.a.createElement(nt,{triple:t,deleteTriple:a,customizeTriple:function(){L(!1),o(!s),F(!1),T&&(o(!0),A())},customizeContraints:function(){L(!1),f(!d),F(!1),T&&(f(!0),A())},customizeRef:function(){L(!1),b(!v),F(!1),T&&(b(!0),A())},customizeFacet:function(){L(!1),O(!C),F(!1),T&&(O(!0),A())},customizeCardinality:function(){L(!1),j(!S),F(!1),T&&(j(!0),A())},forceCollapse:function(e){f(e)},collapseToggle:function(){L(!T),F(!T),A()},colapseBtn:R}),l.a.createElement(at,{entity:t,isCustomOpen:s,qualifier:!1,bnode:!1,customClass:"customTriple"}),l.a.createElement(p.a,{isOpen:d},l.a.createElement(pt,{triple:t})),l.a.createElement(p.a,{isOpen:C},l.a.createElement(gt,{triple:t})),l.a.createElement(p.a,{isOpen:v},l.a.createElement(ft,{triple:t})),l.a.createElement(p.a,{isOpen:S},l.a.createElement(vt,{triple:t})))},yt=l.a.createContext();var Et=function(e){var t=Object(n.useContext)(aa),a=e.shape,i=Ke.getInstance().getShapeStyle(),r=Object(n.useState)(a.triples),o=Object(c.a)(r,2),u=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(c.a)(d,2),h=f[0],g=f[1],v=Object(n.useState)(!0),b=Object(c.a)(v,2),y=b[0],E=b[1],C=Object(n.useState)("menu_open"),O=Object(c.a)(C,2),w=O[0],x=O[1],S=!1;""==a.type.value&&(S=!0);var j=Object(n.useState)(S),k=Object(c.a)(j,2),N=k[0],T=k[1],F=function(e){var n=a.triples.filter((function(t){return t.id!=e}));m(n),a.setTriples(n),t.emit()};return l.a.createElement(yt.Provider,{value:{disabled:N,setDisabled:T}},l.a.createElement("div",{className:"shape",style:i.header},l.a.createElement(Ze,{shape:a,customizeShape:function(){h||y?(g(!h),E(!y)):(g(!0),E(!1)),x("menu")},collapseTriples:function(){g(!1),E(!y),x("menu"==w?"menu_open":"menu")},colapseBtn:w}),l.a.createElement(at,{entity:a,isCustomOpen:h,qualifier:!0,bnode:!0,customClass:"customShape"}),l.a.createElement(p.a,{isOpen:y},l.a.createElement("div",{className:"triples",style:i.body},u.map((function(e){return l.a.createElement(bt,{key:e.id,shape:a,triple:e,deleteTriple:F})})),l.a.createElement("button",{className:"xs-addTripleButton",style:i.addTriple,onClick:function(){var e=a.getTriplesCount(),n=new me(e);m([].concat(Object(s.a)(u),[n])),a.addTriple(n),t.emit()},disabled:N,title:"Add Triple"},"+ Triple Constraint")))))};var Ct=function(e){var t=Object(n.useContext)(aa),a=Ke.getInstance().getShapeStyle();return l.a.createElement("div",{className:"showAsist"},t.shapes.map((function(e){return l.a.createElement(Et,{shape:e,key:e.id})})),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"xs-addShapeButton",style:a.addShape,onClick:t.addShape,title:"Add Shape"},"+ Shape")))};var Ot=function(e){return Object(n.useContext)(aa),l.a.createElement("div",{className:"hideLoader"},l.a.createElement("div",{className:"loader"}))};a(207);var wt=function(e){return Object(n.useContext)(aa),l.a.createElement("div",{className:"infoAssist"},l.a.createElement("div",{className:"hideError"},l.a.createElement("div",{className:"shapeErrorCont"},l.a.createElement("div",{className:"shapeError"}),l.a.createElement("p",{className:"errorMsg"}))),l.a.createElement("div",{className:"hideConvert"},l.a.createElement("a",{className:"button"},l.a.createElement("span",{onClick:function(){var e=b.getInstance().getYashe();E.a.signal(e,"convert")}},"Convert"))))};var xt=function(e){var t=Object(n.useContext)(aa),a=e.prefix,i=Ke.getInstance().getPrefixStyle(),r=Object(n.useState)(a.prefixName),s=Object(c.a)(r,2),o=s[0],u=s[1],m=Object(n.useState)(a.prefixValue),d=Object(c.a)(m,2),p=d[0],f=d[1];return l.a.createElement("div",{className:"xs-prefixHeader",style:i.header},l.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",value:o,onChange:function(e){return function(e,a){a.prefixName=e.target.value,u(e.target.value),t.emitPref()}(e,a)},title:"Alias"}),l.a.createElement("label",{className:"prefixLabel",style:i.label},":"),l.a.createElement("label",{className:"prefixLabel",style:i.label},"<"),l.a.createElement("input",{type:"text",className:"prefixInput",value:p,placeholder:"eg: http://schema.org/",onChange:function(e){return function(e,a){a.prefixValue=e.target.value,f(e.target.value),t.emitPref()}(e,a)},title:"IRI"}),l.a.createElement("label",{className:"prefixLabel",style:i.label},">"),l.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:i.delete,onClick:function(){return t.deletePrefix(a.id)},title:"Delete Prefix"},"delete"))};a(208);var St=function(e){var t=Object(n.useContext)(aa),a=Ke.getInstance().getPrefixStyle();return l.a.createElement("div",null,t.prefixes.map((function(e){return l.a.createElement(xt,{key:e.id,prefix:e})})),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"addPrefixBtn",style:a.add,onClick:t.addPrefix,title:"Add Prefix"},"+ Prefix")))};var jt=function(e){e.colors;var t=Ke.getInstance().getShapeStyle();return l.a.createElement("div",{className:"xs-header",style:t.header},l.a.createElement("label",{style:t.label},"Shape"),l.a.createElement(_e.Textbox,null),l.a.createElement("button",{style:t.custom,className:"buildBtn mdc-icon-button material-icons"},"build"),l.a.createElement("button",{style:t.delete,className:"deleteShapeBtn mdc-icon-button material-icons"},"delete"),l.a.createElement("button",{style:t.collapse,className:"collapseBtn mdc-icon-button material-icons"},"menu"))};var kt=function(e){var t=Ke.getInstance().getTripleStyle();return l.a.createElement("div",{className:"xs-tripleHeader",style:t.header},l.a.createElement("input",{type:"text",className:"name",placeholder:"eg: name",title:"Triple Constraint Name"}),l.a.createElement("button",{className:"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.custom,title:"Customize Triple"},"build"),l.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.constraint,title:"Customize Constraint"},"build"),l.a.createElement("button",{className:"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.facet,title:"Customize Facets"},"build"),l.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.shapeRef,title:"Customize Shape Reference"},"build"),l.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.cardinality,title:"Customize Cardinality"},"build"),l.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:t.delete,title:"Delete Triple Constraint"},"delete"),l.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:t.collapse,title:"Customize all"},"menu"))},Nt=(a(94),a(132)),Tt=a(5),Ft=a.n(Tt);var It=function(e){Object(n.useContext)(aa);var t=Object(n.useContext)(Zt),a=e.namespace,i=e.element,r=e.cookie,s=Object(n.useState)(a[i]),o=Object(c.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(c.a)(d,2),f=p[0],h=p[1],g=Object(He.a)("cookies"),v=Object(c.a)(g,2),b=(v[0],v[1]),y=function(){},E=Ft()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:u},swatch:{padding:"3px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",transform:"translateX(-80%)",zIndex:"5000"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return l.a.createElement("div",null,l.a.createElement("div",{style:E.swatch,onClick:function(){h(!f)}},l.a.createElement("div",{style:E.color})),f?l.a.createElement("div",{style:E.popover},l.a.createElement("div",{style:E.cover,onClick:y}),l.a.createElement(Nt.ChromePicker,{color:u,onChange:function(e){m(e.hex),t.handleChange(e.hex,i,a),ue.saveColors&&b(r,a,{path:"/"})},onChangeComplete:y})):null)};var Bt=function(e){Object(n.useContext)(aa);var t=e.namespace,a=e.pickers,i=e.labelType,r=e.bodyType,s=e.cookie;return l.a.createElement("div",{className:"customColapse",style:r},l.a.createElement("div",{style:r},l.a.createElement("div",{className:"xs-pickers"},a.map((function(e){return l.a.createElement("div",{className:"picker",key:e.element},l.a.createElement("label",{style:i},e.tag),l.a.createElement(It,{namespace:t,element:e.element,cookie:s}))})))))},Rt=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Shape Body",element:"body"}],Pt=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Constraint",element:"constraint"},{tag:"Constraint Fill",element:"constraintFill"},{tag:"Facet",element:"facet"},{tag:"Facet Fill",element:"facetFill"},{tag:"Shape Ref",element:"shapeRef"},{tag:"Shape Ref Fill",element:"shapeRefFill"},{tag:"Cardinality",element:"cardinality"},{tag:"Cardinality Fill",element:"cardinalityFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Triple Body",element:"body"}],Lt=[{tag:"Labels",element:"label"},{tag:"Constraint Body",element:"body"},{tag:"Add Value",element:"add"},{tag:"Add Value Fill",element:"addFill"},{tag:"Delete Value",element:"delete"}],At=[{tag:"Labels",element:"label"},{tag:"Facet Body",element:"body"},{tag:"Add Facet",element:"add"},{tag:"Add Facet Fill",element:"addFill"},{tag:"Delete Facet",element:"delete"}],Dt=[{tag:"Labels",element:"label"},{tag:"Shape Ref Body",element:"body"}],Vt=[{tag:"Labels",element:"label"},{tag:"Cardinality Body",element:"body"}],zt=[{tag:"Add Triple Constraint",element:"addTriple"},{tag:"Add Triple Constraint Fill",element:"addTripleFill"},{tag:"Add Shape",element:"addShape"},{tag:"Add Shape Fill",element:"addShapeFill"}],_t=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Add Prefix",element:"add"},{tag:"Add Prefix Fill",element:"addFill"}];var Ht=function(e){var t=Ke.getInstance().getShapeStyle(),a=Ke.getInstance().getTripleStyle(),n=Ke.getInstance().getConstraintStyle(),i=Ke.getInstance().getFacetStyle(),r=Ke.getInstance().getShapeRefStyle(),s=Ke.getInstance().getCardinalityStyle();return l.a.createElement("div",null,l.a.createElement("div",{className:"shape",style:t.header},l.a.createElement(jt,null),l.a.createElement(kt,null),l.a.createElement(Bt,{namespace:Ye,pickers:Rt,labelType:t.label,bodyType:t.body,cookie:"shapeColors"}),l.a.createElement(Bt,{namespace:Xe,pickers:Pt,labelType:a.label,bodyType:a.body,cookie:"tripleColors"}),l.a.createElement(Bt,{namespace:qe,pickers:Lt,labelType:n.label,bodyType:n.body,cookie:"constraintColors"}),l.a.createElement(Bt,{namespace:Ue,pickers:At,labelType:i.label,bodyType:i.body,cookie:"facetColors"}),l.a.createElement(Bt,{namespace:Me,pickers:Dt,labelType:r.label,bodyType:r.body,cookie:"shapeRefColors"}),l.a.createElement(Bt,{namespace:Qe,pickers:Vt,labelType:s.label,bodyType:s.body,cookie:"cardinalityColors"}),l.a.createElement(Bt,{namespace:Ye,pickers:zt,labelType:t.label,bodyType:t.body,cookie:"constraintColors"}),l.a.createElement("div",{className:"triples",style:t.body},l.a.createElement("button",{className:"xs-addTripleButton",style:t.addTriple,title:"Add Triple"},"+ Triple Constraint"))),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"xs-addShapeButton",style:t.addShape,title:"Add Shape"},"+ Shape")))};var Yt=function(e){e.colors;var t=Ke.getInstance().getPrefixStyle();return l.a.createElement("div",{className:"xs-prefixHeaderColors",style:t.header},l.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",title:"Alias"}),l.a.createElement("label",{className:"prefixLabel",style:t.label},":"),l.a.createElement("label",{className:"prefixLabel",style:t.label},"<"),l.a.createElement("input",{type:"text",className:"prefixInput",placeholder:"eg: http://schema.org/",title:"IRI"}),l.a.createElement("label",{className:"prefixLabel",style:t.label},">"),l.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:t.delete,title:"Delete Prefix"},"delete"))};var Xt=function(e){var t=Ke.getInstance().getPrefixStyle();return l.a.createElement("div",{className:"prefixColorContainer",style:t.body},l.a.createElement(Yt,null),l.a.createElement(Bt,{namespace:We,pickers:_t,labelType:t.specialLabel,bodyType:t.body}),l.a.createElement("div",{className:"addCont"},l.a.createElement("button",{className:"addPrefixBtn",style:t.add,title:"Add Prefix"},"+ Prefix")))};var qt=function(e){return l.a.createElement("div",null,l.a.createElement(Ht,null),l.a.createElement("br",null),l.a.createElement(Xt,null))},Ut=a(75),Mt=a.n(Ut);a(374),a(375);var Qt=function(e){var t=Object(n.useContext)(aa),a=Object(n.useState)(ue.sincronize),i=Object(c.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)(ue.pretty),u=Object(c.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(ue.saveColors),f=Object(c.a)(p,2),h=f[0],g=f[1],v=Object(He.a)("cookies"),y=Object(c.a)(v,2),C=(y[0],y[1]);return l.a.createElement("div",null,l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Sincronize Editor"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement(Mt.a,{checked:r,icons:!1,onChange:function(e){s(!r),ue.sincronize=!r,C("conf",ue,{path:"/"});var t=b.getInstance().getYashe();E.a.signal(t,"sinc",!r)}}))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Save Color Preferences"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement(Mt.a,{checked:h,icons:!1,onChange:function(){ue.saveColors=!h,C("conf",ue,{path:"/"}),g(!h)}}))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Pretty Print"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("select",{className:"customPretty",value:m,onChange:function(e){var a=e.target.value;ue.pretty=a,d(a),C("conf",ue,{path:"/"}),t.emit()}},l.a.createElement("option",{value:"none"},"None"),l.a.createElement("option",{value:"pretty1"},"Pretty1"),l.a.createElement("option",{value:"pretty2"},"Pretty2"),l.a.createElement("option",{value:"pretty3"},"Pretty3")))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Restore Default Colors"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&Ke.getInstance().restoreDefaultColors()}},"Apply"))),l.a.createElement("div",{className:"option"},l.a.createElement("span",null,"Restore Default Config"),l.a.createElement("div",{className:"togleContainer"},l.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&(Ke.getInstance().restoreDefaultConfig(),s(ue.sincronize),g(ue.saveColors),d(ue.pretty))}},"Apply"))))};var Wt=function(e){var t=Object(n.useContext)(Zt);return l.a.createElement("div",null,l.a.createElement("div",{id:"assistant-container",className:"assistantContainer"},l.a.createElement(p.a,{isOpen:t.isAssistOpen},l.a.createElement(Ct,null),l.a.createElement(Ot,null),l.a.createElement(wt,null)),l.a.createElement(p.a,{isOpen:t.isPrefixesOpen},l.a.createElement(St,null)),l.a.createElement(p.a,{isOpen:t.isColorsOpen},l.a.createElement(qt,null)),l.a.createElement(p.a,{isOpen:t.isConfigOpen},l.a.createElement(Qt,null))))},Kt=a(133),Zt=(a(379),a(380),l.a.createContext());var $t=function(e){var t=Object(n.useContext)(aa),a=Object(n.useState)(!0),i=Object(c.a)(a,2),r=i[0],s=i[1],o=Object(n.useState)(!1),u=Object(c.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)(!1),h=Object(c.a)(f,2),g=h[0],v=h[1],b=Object(n.useState)(!1),y=Object(c.a)(b,2),E=y[0],C=y[1],O=Object(n.useState)("#fffff"),w=Object(c.a)(O,2),x=(w[0],w[1]);return l.a.createElement(Zt.Provider,{value:{isAssistOpen:r,isPrefixesOpen:m,isColorsOpen:g,isConfigOpen:E,setAssistOpen:s,setPrefixesOpen:d,setColorsOpen:v,setConfigOpen:C,handleChange:function(e,t,a){x(e),a[t]=e}}},l.a.createElement(p.a,{isOpen:t.isAssistantOpen,className:"assistCollapse"},l.a.createElement(Kt.ResizableBox,{width:t.width,height:100,onResize:function(e,a){return t.handleResize(e,a)},resizeHandles:["e"],minConstraints:[470,100],maxConstraints:[1e3,1e3]},l.a.createElement("div",{className:"containerAssist"},l.a.createElement(ze,null),l.a.createElement(Wt,null)))))},Gt=(a(381),a(382),a(383),a(384),"Ops... There are some errors in the editor");var Jt=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(n.useRef)(null),s=Object(n.useContext)(aa),o=[],u=!1,m=[new j("","http://example.org/",0),new j("schema","http://schema.org/",1),new j("xsd","http://www.w3.org/2001/XMLSchema#",2)];Object(n.useEffect)((function(){if(!a){var e={persistent:!1,lineNumbers:!0,showTooltip:!0,theme:"author-dark",value:Oe.DEFAULT_SHAPE},t=v()(r.current,e);t.on("humanEvent",(function(e,t){b.getInstance().draw(e),u=!1,o=e;var a={size:{width:t}};s.handleResize(null,a)})),t.on("convert",(function(){t.hasErrors(t)?(S(),k(),C(),setTimeout((function(){O(),x(),w(Gt)}),500)):(S(),g())})),t.on("sinc",(function(e){e?(t._handlers.focus=null,k(),u&&w("Sorry that Shape is too complex for me"),t.hasErrors(t)&&w(Gt),t.on("keyup",Oe.debounce((function(e){if(t.hasErrors(t))w(Gt);else{S();var a=d();o.length==a.length?a.toString()!=o.toString()&&(u=!1,o=f(a)):g()}}),500)),t.on("keyHandled",(function(){t.hasErrors()||(u=!1,o=f(d()),h(p()))}))):(t._handlers.keyup=null,t._handlers.keyHandled=null,t.hasErrors(t)&&x(),u&&x(),t.on("focus",(function(){x()})))})),t.on("prefixChange",(function(e,t){b.getInstance().draw(o,e);var a={size:{width:t}};s.handleResize(null,a)})),t.on("forceError",(function(e){u=!0,S(),C(),setTimeout((function(){O(),w("Sorry that Shape is too complex for me"),ue.sincronize||x()}),500)})),t.on("delete",(function(){u=!1,o=f(d()),h(m)})),t.on("upload",(function(){t.hasErrors()||(g(),h(p()))})),t.on("galery",(function(){t.hasErrors()||(g(),h(p()))})),t.refresh(),i(t),b.getInstance().setYashe(t),o=f(d()),h(m),E.a.signal(b.getInstance().getYashe(),"sinc",ue.sincronize)}}),[a]);var d=function(){return Oe.replaceShapes()},p=function(){return Oe.updatePrefixes()},f=function(e){return s.replaceShapes(e),e},h=function(e){return s.replacePrefixes(e),e},g=function(){k(),C(),setTimeout((function(){u=!1,o=f(d()),O()}),500)},y=function(e,t,a,n){var l=document.getElementsByClassName(e)[0];l&&(l.className=t);var i=document.getElementsByClassName(a)[0];i&&(i.className=n)},C=function(){y("showAsist","hideAsist","hideLoader","showLoader")},O=function(){y("showLoader","hideLoader","hideAsist","showAsist")},w=function(e){y("hideError","showError","showAsist","hideAsist"),document.getElementsByClassName("errorMsg")[0].textContent=e},x=function(e){y("hideConvert","showConvert","showAsist","hideAsist")},S=function(){y("showError","hideError","hideAsist","showAsist")},k=function(){y("showConvert","hideConvert","hideAsist","showAsist")};return l.a.createElement("div",{className:"col edit",ref:r})};var ea=function(){return l.a.createElement("div",{className:"globalContainer"},l.a.createElement("div",{className:"row comps"},l.a.createElement(Le,null),l.a.createElement($t,null),l.a.createElement(Jt,null)))};var ta=function(e){var t=e.svg,a=e.isVisualizeOpen;return l.a.createElement(p.a,{isOpen:a},l.a.createElement("div",{className:"visualize"},l.a.createElement("div",{className:"umlContainer"},l.a.createElement("div",{className:"uml",dangerouslySetInnerHTML:{__html:t}}))))},aa=(a(385),l.a.createContext());var na=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)([]),o=Object(c.a)(r,2),p=o[0],f=o[1],h=Object(n.useState)(""),g=Object(c.a)(h,2),v=g[0],b=g[1],y=Object(n.useState)(!0),E=Object(c.a)(y,2),C=E[0],O=E[1],w=Object(n.useState)(!0),x=Object(c.a)(w,2),S=x[0],j=x[1],k=Object(n.useState)(!0),N=Object(c.a)(k,2),T=N[0],F=N[1],I=Object(n.useState)(470),B=Object(c.a)(I,2),R=B[0],P=B[1],L=function(){var e=new FormData;e.set("schema",Oe.getSchema()),e.set("schemaFormat","ShExC"),e.set("schemaEngine","SHEX"),u()({method:"post",url:"http://rdfshape.weso.es:8080/api/schema/visualize",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){void 0!=e.data.svg&&(e.data.svg.startsWith("<?xml")?b(e.data.svg):b(null))})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){Ae(R)})),l.a.createElement(m.a,null,l.a.createElement(aa.Provider,{value:{shapes:a,addShape:function(){var e=ne.addShape(a,R);i([].concat(Object(s.a)(a),[e])),function(e){var t=e.type.value,a=(e.type.getTypeName(),e.id);setTimeout((function(){if(""==t)return Ve("addTriple"+a,"disabled");Ve("addTriple"+a,"addTripleButton")}),0)}(e),L()},deleteShape:function(e){i(ne.deleteShape(a,e,!1,R)),L()},addPrefix:function(){f([].concat(Object(s.a)(p),[Q(p,R)]))},deletePrefix:function(e){f(function(e,t,a){var n=e.filter((function(e){return e.id!=t}));return K(n,a),n}(p,e,R))},replaceShapes:function(e){i([]),i(e),L()},replacePrefixes:function(e){f([]),f(e)},prefixes:p,emit:function(){ne.emit(a,R),L()},emitPref:function(){K(p,R),L()},visualize:L,isToolBarOpen:S,isAssistantOpen:C,isVisualizeOpen:T,assistantToggle:function(){return O(!C)},visualizeToggle:function(){return F(!T)},handleResize:function(e,t){P(t.size.width),Ae(t.size.width)},width:R}},l.a.createElement(d,{colapseAll:function(){O(!S),F(!S),j(!S)}}),l.a.createElement(ea,null),l.a.createElement(ta,{svg:v,isVisualizeOpen:T})))};Boolean("localhost"==window.location.hostname||"[::1]"==window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(na,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){},94:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.aee08e24.chunk.js.map