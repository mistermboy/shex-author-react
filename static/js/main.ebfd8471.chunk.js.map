{"version":3,"sources":["components/Nav.js","components/mainComps/toolbar/AssistBtn.js","components/mainComps/toolbar/VisualizeBtn.js","entities/editor.js","components/mainComps/toolbar/UndoBtn.js","components/mainComps/toolbar/RedoBtn.js","galery/defaultExample.js","utils/toolbarUtils.js","galery/wikiExample.js","components/mainComps/toolbar/UploadBtn.js","components/mainComps/toolbar/DownloadBtn.js","components/mainComps/toolbar/ChangeThemeBtn.js","components/mainComps/toolbar/GaleryBtn.js","components/mainComps/toolbar/DeleteAllBtn.js","components/mainComps/toolbar/ScrollBtn.js","components/mainComps/Toolbar.js","utils/cssUtils.js","components/mainComps/assistant/AssistNav.js","conf/colors.js","conf/config.js","conf/properties.js","components/mainComps/assistant/tabs/shEx/headers/ShapeHeader.js","components/mainComps/assistant/tabs/shEx/customize/config/TypeConfig.js","entities/shexEntities/others/prefix.js","utils/prefixUtils.js","components/mainComps/assistant/tabs/shEx/customize/config/PrefixConfig.js","components/mainComps/assistant/tabs/shEx/customize/CustomComp.js","entities/shexEntities/types/type.js","entities/shexEntities/types/concreteTypes/prefixedIri.js","entities/shexEntities/types/concreteTypes/iriRef.js","entities/shexEntities/types/concreteTypes/bNode.js","entities/shexEntities/types/concreteTypes/blankType.js","entities/shexEntities/types/concreteTypes/primitive.js","entities/shexEntities/types/concreteTypes/valueSet.js","entities/shexEntities/types/concreteTypes/kinds/literal.js","entities/shexEntities/types/concreteTypes/kinds/nonLiteral.js","entities/shexEntities/types/concreteTypes/kinds/iriKind.js","entities/shexEntities/types/concreteTypes/kinds/bNodeKind.js","entities/shexEntities/types/concreteTypes/literal/stringLiteral.js","entities/shexEntities/types/concreteTypes/literal/numberLiteral.js","entities/shexEntities/types/concreteTypes/literal/booleanLiteral.js","entities/shexEntities/types/typesFactory.js","entities/shexEntities/node.js","entities/shexEntities/others/shapeRef.js","utils/printUtils.js","entities/shexEntities/shape.js","entities/shexEntities/others/facet.js","entities/shexEntities/others/valueSetValue.js","utils/shexUtils.js","utils/tokenUtils.js","entities/shexEntities/others/cardinality/cardinalityExactly.js","entities/shexEntities/others/cardinality/cardinalityMinLimit.js","entities/shexEntities/others/cardinality/cardinalityRange.js","entities/shexEntities/others/cardinality/cardinalitySimple.js","entities/shexEntities/others/cardinality/cardinalityFactory.js","entities/shexEntities/triple.js","utils/yasheUtils.js","components/mainComps/assistant/tabs/shEx/headers/TripleHeader.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/QNameValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/InputValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/NumberValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/valueSetValues/BooleanValue.js","components/mainComps/assistant/tabs/shEx/customize/constraint/ValueSetComp.js","components/mainComps/assistant/tabs/shEx/customize/constraint/ValueSetContainer.js","components/mainComps/assistant/tabs/shEx/customize/ConstraintComp.js","components/mainComps/assistant/tabs/shEx/customize/ShapeRefComp.js","components/mainComps/assistant/tabs/shEx/customize/facets/FacetComp.js","components/mainComps/assistant/tabs/shEx/customize/FacetContainer.js","components/mainComps/assistant/tabs/shEx/customize/CardinalityComp.js","components/mainComps/assistant/tabs/shEx/NodeComponent.js","components/mainComps/assistant/tabs/shEx/TripleComponent.js","components/mainComps/assistant/tabs/shEx/ShapeComponent.js","components/mainComps/assistant/tabs/Shapes.js","components/mainComps/assistant/AssistLoader.js","components/mainComps/assistant/AssistError.js","components/mainComps/assistant/tabs/prefix/PrefixComp.js","components/mainComps/assistant/tabs/Prefixes.js","components/mainComps/assistant/tabs/color/views/ShapeView.js","components/mainComps/assistant/tabs/color/views/TripleView.js","components/mainComps/assistant/tabs/color/utils/ColorPicker.js","components/mainComps/assistant/tabs/color/utils/ColorComp.js","conf/pickers.js","components/mainComps/assistant/tabs/color/ShapeColors.js","components/mainComps/assistant/tabs/color/views/PrefixView.js","components/mainComps/assistant/tabs/color/PrefixColors.js","components/mainComps/assistant/tabs/Colors.js","components/mainComps/assistant/tabs/Config.js","components/mainComps/assistant/AssistContent.js","components/mainComps/Assistant.js","components/mainComps/EditorComp.js","components/MainContainer.js","components/Visualizer.js","App.js","serviceWorker.js","index.js"],"names":["Nav","props","colapseAll","className","type","onClick","target","href","AssistBtn","context","useContext","AppContext","title","assistantToggle","ShowAssistBtn","visualizeToggle","Editor","EditorClass","this","getYashe","yashe","setYashe","instance","getInstance","UndoBtn","CodeMirror","signal","RedoBtn","defaultExample","downloadFile","textFileAsBlob","Blob","getValue","downloadLink","document","createElement","download","innerHTML","window","URL","createObjectURL","style","display","body","appendChild","click","changeTheme","themeValue","getOption","getElementById","classList","add","remove","setOption","Codemirror","loadExample","example","setValue","setTimeout","scrollTop","scrollTo","UploadBtn","handleRead","e","files","length","file","name","endsWith","reader","FileReader","onload","event","result","readAsText","readFile","onChange","accept","id","data-multiple-caption","multiple","htmlFor","xmlns","width","height","viewBox","d","DownloadBtn","baseProfile","ChangeThemeBtn","fill","GaleryBtn","data-toggle","DeleteAllBtn","confirm","replaceShapes","ScrollBtn","Toolbar","Collapse","isOpen","isToolBarOpen","VisualizeBtn","activeTab","evt","i","tablinks","getElementsByClassName","replace","currentTarget","changeClass","before","after","triples","AssistTitle","asssistContext","AssistContext","closeAll","setAssistOpen","setPrefixesOpen","setColorsOpen","setConfigOpen","SHAPE_COLORS","label","header","custom","customFill","delete","deleteFill","collapse","addTriple","addTripleFill","addShape","addShapeFill","TRIPLE_COLORS","constraint","constraintFill","facet","facetFill","shapeRef","shapeRefFill","cardinality","cardinalityFill","addSubTriple","addSubTripleFill","SUB_TRIPLE_COLORS","CONSTRAINT_COLORS","addFill","FACET_COLORS","SHAPEREF_COLORS","CARDINALITY_COLORS","PREFIX_COLORS","specialLabel","DEFAULTS","sincronize","pretty","saveColors","Properties","PropertyClass","useCookies","cookies","setCookie","removeCookie","getShapeStyle","color","background","getTripleStyle","getSubTripleStyle","getConstraintStyle","getFacetStyle","getShapeRefStyle","getCardinalityStyle","getPrefixStyle","loadCookies","loadCookie","cookie","namespace","properties","load","path","propeties","Object","keys","map","c","removeCookies","saveDefaults","defaultShape","assign","defaultTriple","defaultConstraint","defaultFacet","defaultShapeRef","defaultCardinality","defaultConfig","restoreDefaultColors","restoreDefaultConfig","ShapeHeader","shapeContext","ShapeContext","disabled","styles","shape","customizeShape","collapseTriples","colapseBtn","useState","value","setName","initialRegExp","RegExp","getTypeName","regExp","attributesInput","placeholder","emit","handleChange","onKeyUp","setDisabled","handleKeyUp","validationOption","reg","regMsg","deleteShape","Bnode","isBnode","TypeConfig","entity","setPrefix","bnode","setPrefixOpen","shapeStyles","tripleStyles","setType","Prefix","prefixName","prefixValue","prefixCount","getPrefix","prefix","defined","getDefinedPrefixes","reduce","acc","p","addPrefixComp","prefixes","newPrefix","newPrefixes","push","emitPrefixes","addPrefix","current","namespaces","def","getUri","undefined","PrefixConfig","isPrefixOpen","pre","key","CustomComp","isCustomOpen","customClass","initialPrefix","initialOpenPrefix","Type","PrefixedIri","getPrefixName","IriRef","BNode","BlankType","Primitive","ValueSet","values","str","v","toString","Literal","NonLiteral","IriKind","BNodeKind","StringLiteral","NumberLiteral","BooleanLiteral","TypesFactory","retType","Node","facets","triplesCount","factory","createType","triple","tripleId","filter","obj","ShapeRef","getSeparators","longest","typeLength","constLength","facetLength","getFacetsString","refLength","cardLength","bodyLength","typeDiference","bodyDiference","cardDiference","card","getSeparator","getLongestElements","longestType","getLongestElement","longestCard","size","forEach","getLongestFacet","t","getLongestBody","element","f","separator","Shape","checkConstraint","checkContent","getTriplesString","isContent","Facet","ValueSetValue","shapesCount","facetsCount","valuesCount","newShapes","checkPrefixes","hasPrefix","defs","references","shexUtils","shapes","newShape","shapeId","getShapeById","getShapeByName","s","getTripleById","addFacet","addValueSetValue","CardinalityExactly","min","CardinalityMinLimit","CardinalityRange","max","CardinalitySimple","CardinalityFactory","Triple","cardFactory","createCardinality","separators","tab","tripleSeparator","checkPrettyOptions","bodySeparator","cardSeparator","getType","startsWith","split","defPrefixes","getPrefixValue","getContent","tokens","ref","valueSet","token","string","getConstraint","getValueSetValue","getRefName","toLowerCase","getCardinality","isNotAllowed","getBeforeTriplesTokens","start","index","getTripleTokens","open","PRIMITIVES","kind","range","isNaN","substring","getNonWsTokens","tokenUtils","getTokens","l","lineCount","getLineTokens","getDefinedShapes","shapeCont","getShapes","defShapes","content","getTriples","singleTriple","finish","isFinishOfTriple","subTriples","possibleCardinality","getCardiTokens","getCardinalityIfExist","updateShapeRefs","r","yasheUtils","console","log","getPrefixes","defP","draw","getPrefixesStr","getSchema","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","TripleHeader","deleteTriple","customize","QNameValue","newName","InputValue","NumberValue","number","setNumber","newNumber","BooleanValue","boolean","setBoolean","newBoolean","ValueSetComp","valueSetValue","deleteValue","isIriRef","setIriRef","isQName","setQName","isString","setString","isNumber","isBoolean","checkCollapses","useEffect","newType","ValueSetContainer","setValueSet","newValues","setValues","addValue","primitives","ConstraintComp","constValue","primValue","initialValueSet","primitive","setPrimitive","setConstraint","setCustomOpen","isValueSetOpen","setValueSetOpen","isNameOpen","setNameOpen","checkValueSet","newPrimitive","prim","newConstraint","ShapeRefComp","refValue","setShapeRef","refSelector","FacetComp","deleteFacet","handleTypeChange","handleValueChange","FacetContainer","setFacets","newFacets","CardinalityComp","cardValue","getCardType","initialExactly","initialRange","initialMin","initialMax","setCardinality","isExactly","setExactly","isRange","setRange","setMin","setMax","handleMinChange","valueAsNumber","newCardinality","NodeComponent","isTripleCustomOpen","setTripleCustomOpen","isConstraintsOpen","setConstraintsOpen","isRefOpen","setRefOpen","isFacetOpen","setFacetOpen","isCardinalityOpen","setCardinalityOpen","allCollased","setAllCollapsed","setColapseBtn","constStyles","facetStyles","refStyles","cardStyles","customizeCardinality","collapseAll","changeCollapseBtn","getEntityStyle","getEntityName","getCardinalityIfNeeded","getCardinalityCompIfNeeded","TripleComponent","isTriplesOpen","setTriplesOpen","setTriples","subTripleStyles","subDeleteTriple","newTriples","subTriple","React","createContext","ShapeComponent","initialDisabled","Provider","Shapes","AssistLoader","AssistError","PrefixComp","emitPref","handleAlias","handleIri","deletePrefix","Prefixes","ShapeView","colors","TripleView","ColorPicker","setColor","isDisplay","setDisplay","handleClose","reactCSS","borderRadius","swatch","padding","boxShadow","cursor","popover","position","transform","zIndex","cover","top","right","bottom","left","hex","onChangeComplete","ColorComp","pickers","labelType","bodyType","tag","SHAPE_PICKERS","TRIPLE_PICKERS","CONSTRAINT_PICKERS","FACET_PICKERS","SHAPEREF_PICKERS","CARDINALITY_PICKERS","BTNS_PICKERS","PREFIX_PICKERS","ShapeColors","constraintStyles","shapeRefStyles","cardinalityStyles","PrefixView","PrefixColors","Colors","Config","sinc","setSinc","setPretty","setSaveColors","setCookies","checked","icons","newPretty","AssistContent","isAssistOpen","isPrefixesOpen","isColorsOpen","isConfigOpen","Assistant","NAMESPACE","isAssistantOpen","onResize","data","handleResize","resizeHandles","minConstraints","maxConstraints","AssistNav","ERROR_EDITOR_MSG","EditorComp","divRef","useRef","defaultPrefixes","options","persistent","showThemeButton","theme","y","YASHE","on","isComplex","oldShapes","hasErrors","hideError","hideConvert","loading","loaded","showConvert","showError","updateAssist","_handlers","focus","isErrMsg","updatePrefixes","keyup","keyHandled","undo","redo","refresh","replacePrefixes","animate","before1","after1","before2","after2","e1","e2","err","textContent","MainContainer","Visualizer","svg","isVisualizeOpen","dangerouslySetInnerHTML","__html","App","setShapes","setPrefixes","setSvg","setAssistantOpen","setToolBarOpen","setVisualizeOpen","setWidth","visualize","bodyFormData","FormData","set","axios","method","url","config","headers","then","response","catch","CookiesProvider","checkShapeName","prefixId","deletePrefixComp","Boolean","location","hostname","match","ReactDOM","render","spaces","j","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ebfd8471.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/navComponents/Nav.css'; \r\n\r\nfunction Nav (props) {\r\n\r\n    const {colapseAll} = props;\r\n\r\n    return (   <nav className=\"navbar navbar-default \">\r\n        <div className=\"navbar-header\">\r\n        \r\n         <button className=\"collapseAllBtn mdc-icon-button material-icons\"type=\"button\"\r\n                 onClick={colapseAll} >\r\n                            menu\r\n                        </button> \r\n            <span className='shexTitle'>ShExAuthor</span>\r\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/YASHE/\">YASHE</a>\r\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/\">Weso</a>\r\n            <a className=\"navItems\" target=\"_blank\" href=\"https://www.linkedin.com/in/pablo-men%C3%A9ndez-106262a7/\">About me</a>\r\n     \r\n        </div>\r\n    </nav>);\r\n    \r\n    \r\n}\r\n\r\nexport default Nav;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\n\r\nfunction AssistBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n        <button className=\"mdc-icon-button material-icons btns\" \r\n                title=\"ShEx Assistant\"\r\n                type=\"button\"\r\n                onClick={context.assistantToggle}>\r\n                info\r\n        </button>);\r\n    \r\n    \r\n}\r\n\r\n\r\nexport default AssistBtn;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\n\r\nfunction ShowAssistBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n        <button className=\"mdc-icon-button material-icons btns\" \r\n                type=\"button\" \r\n                title=\"Visualize\"\r\n                onClick={context.visualizeToggle}>\r\n                remove_red_eye\r\n        </button> );\r\n    \r\n    \r\n}\r\n\r\n\r\nexport default ShowAssistBtn;\r\n\r\n\r\n","import YASHE from 'yashe';\r\n\r\n//Singleton Pattern\r\nconst Editor = (()=> {\r\n\r\n    function EditorClass(){\r\n\r\n        this.getYashe = function () {\r\n            return this.yashe;\r\n        }\r\n\r\n        this.setYashe =  function (yashe) {\r\n            this.yashe = yashe;\r\n        }\r\n\r\n    }\r\n\r\n    let instance;\r\n\r\n    return{\r\n        getInstance: ()=>{\r\n            if(!instance){\r\n                instance = new EditorClass();\r\n            }\r\n            return instance;\r\n        },\r\n\r\n        getYashe: ()=>{\r\n            return instance?.getYashe();\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n\r\n\r\nexport default Editor;","import React from 'react';\r\nimport Editor from '../../../entities/editor';\r\nimport CodeMirror from 'codemirror';\r\n\r\n\r\nfunction UndoBtn () {\r\n\r\n    return (\r\n        <button className=\"mdc-icon-button material-icons btns\" \r\n                type=\"button\" \r\n                title=\"Undo\"\r\n                onClick={()=>CodeMirror.signal(Editor.getYashe(),'undo')}>\r\n                undo\r\n        </button> );\r\n    \r\n  \r\n}\r\n\r\nexport default UndoBtn;\r\n\r\n","import React from 'react';\r\nimport Editor from '../../../entities/editor';\r\nimport CodeMirror from 'codemirror';\r\n\r\nfunction RedoBtn () {\r\n\r\n    return (\r\n        <button className=\"mdc-icon-button material-icons btns\" \r\n                type=\"button\" \r\n                title=\"Redo\"\r\n                onClick={()=>CodeMirror.signal(Editor.getYashe(),'redo')}>\r\n                redo\r\n        </button> );\r\n    \r\n}\r\n\r\n\r\nexport default RedoBtn;\r\n\r\n","export const defaultExample = \r\n'PREFIX :       <http://example.org/>\\n'+\r\n'PREFIX schema: <http://schema.org/>\\n'+\r\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\r\n\r\n':User IRI {\\n'+\r\n'  schema:name          xsd:string   ;\\n'+\r\n'  schema:birthDate     xsd:date   ? ;\\n'+\r\n'  schema:birthPlace    xsd:string + ;\\n'+\r\n'  schema:knows         @:User     *  \\n'+\r\n'}\\n';\r\n","import Codemirror from 'codemirror';\r\nimport Editor from '../entities/editor';\r\n\r\nimport {defaultExample} from '../galery/defaultExample';\r\nimport {wikiExample} from '../galery/wikiExample';\r\n\r\nexport function readFile(files){\r\n    //Only one file allowed\r\n    if(files.length>1){\r\n        return;\r\n    }\r\n\r\n    var file = files[0];\r\n    //Only ShEx files allowed\r\n    if(!file.name.endsWith('.shex')){\r\n        return;\r\n    }\r\n    var reader = new FileReader();\r\n    reader.onload = function(event) {\r\n        Editor.getYashe().setValue(event.target.result)\r\n    };\r\n\r\n    reader.readAsText(file);\r\n    Codemirror.signal(Editor.getYashe(),'upload');\r\n}\r\n\r\nexport function downloadFile(){\r\n    var textFileAsBlob = new Blob([ Editor.getYashe().getValue() ], { type: 'text/shex' });\r\n    var fileNameToSaveAs = \"document.shex\";\r\n\r\n    var downloadLink = document.createElement(\"a\");\r\n    downloadLink.download = fileNameToSaveAs;\r\n    downloadLink.innerHTML = \"Download File\";\r\n    if (window.URL != null) {\r\n        // Chrome allows the link to be clicked without actually adding it to the DOM.\r\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n    } else {\r\n        // Firefox requires the link to be added to the DOM before it can be clicked.\r\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n        downloadLink.style.display = \"none\";\r\n        document.body.appendChild(downloadLink);\r\n    }\r\n    downloadLink.click();\r\n}\r\n\r\n//Sorry about this\r\nexport function changeTheme(){\r\n    let yashe = Editor.getYashe();\r\n    var themeValue = 'author-dark'\r\n    var color = 'black'\r\n    if(yashe.getOption('theme') == 'author-dark'){\r\n        themeValue='wiki'\r\n        document.getElementById(\"editorComp\").classList.add('white-fill');\r\n        document.getElementById(\"shareBtn\").classList.add('light');\r\n        document.getElementById(\"downloadBtn\").classList.add('light');\r\n        document.getElementById(\"copyBtn\").classList.add('light');\r\n        document.getElementById(\"deleteBtn\").classList.add('light');\r\n        document.getElementById(\"smallBtn\").classList.add('light');\r\n        document.getElementById(\"fullBtn\").classList.add('light');\r\n        document.getElementById(\"uploadBntLabel\").classList.add('light');\r\n    }else{\r\n        document.getElementById(\"editorComp\").classList.remove('white-fill');\r\n        document.getElementById(\"shareBtn\").classList.remove('light');\r\n        document.getElementById(\"downloadBtn\").classList.remove('light');\r\n        document.getElementById(\"copyBtn\").classList.remove('light');\r\n        document.getElementById(\"deleteBtn\").classList.remove('light');\r\n        document.getElementById(\"smallBtn\").classList.remove('light');\r\n        document.getElementById(\"fullBtn\").classList.remove('light');\r\n        document.getElementById(\"uploadBntLabel\").classList.remove('light');\r\n    }\r\n    \r\n    yashe.setOption(\"theme\",themeValue)\r\n    Codemirror.signal(yashe,'themeChange');\r\n\r\n}\r\n\r\nexport function loadExample(example){\r\n    let yashe = Editor.getYashe();\r\n    if(example=='default'){\r\n        yashe.setValue(defaultExample)\r\n    }else{\r\n        yashe.setValue(wikiExample)\r\n    }\r\n    setTimeout(() => {//needed\r\n        Codemirror.signal(yashe,'galery');\r\n    }, 10); \r\n}\r\n\r\nexport function scrollTop(){\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\n\r\nexport function undo(){\r\n    let yashe = Editor.getYashe();\r\n    yashe.undo();\r\n}\r\n\r\nexport function redo(){\r\n    let yashe = Editor.getYashe();\r\n    yashe.redo();\r\n}\r\n","\r\nexport const wikiExample = \r\n'PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n'+\r\n'PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n'+\r\n'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\r\n'PREFIX wdt: <http://www.wikidata.org/prop/direct/>\\n\\n'+\r\n\r\n'start = @<human>\\n\\n'+\r\n\r\n'<human> EXTRA wdt:P31 {\\n'+\r\n'  wdt:P31    [wd:Q5];\\n'+\r\n'  wdt:P21    [wd:Q6581097 wd:Q6581072 wd:Q1097630 wd:Q1052281 wd:Q2449503 wd:Q48270]?;\\n'+\r\n'  wdt:P19    . ? ;\\n'+\r\n'  wdt:P569   . ? ;\\n'+\r\n'  wdt:P735   . * ;\\n'+\r\n'  wdt:P734   . * ;\\n'+\r\n'  wdt:P106   . * ;\\n'+\r\n'  wdt:P27    @<country> *;\\n'+\r\n'  wdt:P22    @<human> *;\\n'+\r\n'  wdt:P25    @<human> *;\\n'+\r\n'  wdt:P3373  @<human> *;\\n'+\r\n'  wdt:P26    @<human> *;\\n'+\r\n'  wdt:P40    @<human> *;\\n'+\r\n'  wdt:P1038  @<human> *;\\n'+\r\n'  wdt:P103   @<language> *;\\n'+\r\n'  wdt:P1412  @<language> *;\\n'+\r\n'  wdt:P6886  @<language> *;\\n'+\r\n'  rdfs:label rdf:langString+;\\n'+\r\n'}\\n\\n'+\r\n\r\n'<country> EXTRA wdt:P31 {\\n'+\r\n'  wdt:P31 [wd:Q6256 wd:Q3024240 wd:Q3624078] +;\\n'+\r\n'}\\n\\n'+\r\n\r\n'<language> EXTRA wdt:P31 {\\n'+\r\n'  wdt:P31 [wd:Q34770 wd:Q1288568] +;\\n'+\r\n'}';\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\nimport {readFile} from '../../../utils/toolbarUtils';\r\n\r\nfunction UploadBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    const handleRead = function(e){\r\n        readFile(e.target.files);\r\n    }\r\n\r\n    return (\r\n        <div className=\"svgBtnCont uploadBtn\">\r\n            <input  type=\"file\" \r\n                    onChange={handleRead} \r\n                    accept=\".shex\" \r\n                    name=\"file-1[]\" \r\n                    id=\"file-1\" \r\n                    className=\"inputfileBtn\" \r\n                    data-multiple-caption=\"{count}'+'files selected\" \r\n                    multiple \r\n                    onChange={handleRead}/>\r\n\r\n            <label  className=\"svgBtn\" \r\n                    htmlFor=\"file-1\"\r\n                    title=\"Upload\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \r\n                        width=\"25\" \r\n                        height=\"30\" \r\n                        viewBox=\"0 0 20 17\">\r\n                        <path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/>\r\n                    </svg>\r\n            </label>\r\n        </div> );\r\n    \r\n  \r\n}\r\n\r\nexport default UploadBtn;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\n\r\nimport {downloadFile} from '../../../utils/toolbarUtils';\r\n\r\nfunction DownloadBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n\r\n    return (\r\n        <button className=\"svgBtnCont\"\r\n                type=\"button\" \r\n                title=\"Download\"\r\n                onClick={downloadFile}>\r\n                <svg className=\"svgBtn\" \r\n                    xmlns=\"http://www.w3.org/2000/svg\" \r\n                    width=\"25\" \r\n                    height=\"30\" \r\n                    baseProfile=\"tiny\" \r\n                    viewBox=\"0 0 100 100\">\r\n                    <path d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/>\r\n                </svg>\r\n        </button>  );\r\n    \r\n  \r\n}\r\n\r\nexport default DownloadBtn;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\n\r\nimport {changeTheme} from '../../../utils/toolbarUtils';\r\n\r\nfunction ChangeThemeBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n         <button  className=\"svgBtnCont\" \r\n                  type=\"button\" \r\n                  title=\"Theme\"\r\n                  onClick={changeTheme}>\r\n                  <svg className=\"svgBtn\" \r\n                    xmlns=\"http://www.w3.org/2000/svg\" \r\n                    width=\"25\" \r\n                    height=\"30\" \r\n                    viewBox=\"0 0 24 24\">\r\n                    <path fill=\"none\" d=\"M24 0H0v24h24V0z\"/>\r\n                    <path d=\"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z\"/>\r\n                  </svg>\r\n        </button>  );\r\n    \r\n  \r\n}\r\n\r\nexport default ChangeThemeBtn;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\nimport {loadExample} from '../../../utils/toolbarUtils';\r\n\r\nfunction GaleryBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n         <div className=\"dropdown\" title=\"Galery\">\r\n            <button className=\"dropdown-toggle  \r\n                            mdc-icon-button material-icons \r\n                                btns selector\" \r\n                    type=\"button\" \r\n                    data-toggle=\"dropdown\">\r\n                    folder_open\r\n                    <span className=\"caret\"></span>\r\n            </button>\r\n            <ul className='dropdown-menu'>\r\n                <li>\r\n                    <div id='prefixesDropdown'>  \r\n                        <button className=\"form-control\"\r\n                                onClick={()=>loadExample('default')}>\r\n                                User\r\n                        </button>\r\n                       <button className=\"form-control\"\r\n                                onClick={()=>loadExample('wiki')}>\r\n                                E10: Human\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>  );\r\n    \r\n  \r\n}\r\n\r\nexport default GaleryBtn;\r\n\r\n\r\n/*\r\n\r\n <button className=\"form-control\" \r\n                                onClick={()=>loadExample('wiki')}>\r\n                                Wikidata\r\n                        </button>*/","import React,{useContext} from 'react';\r\nimport Codemirror from 'codemirror';\r\nimport {AppContext} from '../../../App';\r\nimport  Editor from '../../../entities/editor';\r\n\r\nfunction DeleteAllBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    const  deleteShapes = function(){\r\n        if(window.confirm('Are you sure?')){\r\n            //Needed for visualize\r\n            setTimeout(() => {\r\n                context.replaceShapes([]);    \r\n            }, 10);\r\n            // We can't do emit() because it takes \r\n            // like another call to change shapes state\r\n            // I don't know exactly the reason...\r\n            // It's something about react state\r\n            let yashe = Editor.getYashe();\r\n            yashe.setValue('');\r\n            Codemirror.signal(yashe,'delete');\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n         <button className=\"mdc-icon-button material-icons btns\" \r\n                 title=\"Delete all\"\r\n                 onClick={deleteShapes}>\r\n                 delete_outline\r\n            </button>  );\r\n    \r\n  \r\n}\r\n\r\nexport default DeleteAllBtn;\r\n\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\nimport  Editor from '../../../entities/editor';\r\nimport {scrollTop} from '../../../utils/toolbarUtils';\r\n\r\nfunction ScrollBtn () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n         <button className=\"mdc-icon-button material-icons btns\" \r\n                 type=\"button\" \r\n                 title=\"Up\"\r\n                 onClick={scrollTop}>\r\n                 arrow_upward\r\n        </button>   );\r\n    \r\n  \r\n}\r\n\r\nexport default ScrollBtn;\r\n\r\n\r\n\r\n\r\n","import React, {useContext} from 'react';\r\nimport { Collapse } from 'reactstrap';\r\nimport {AppContext} from '../../App'; \r\nimport AssistBtn from './toolbar/AssistBtn';\r\nimport VisualizeBtn from './toolbar/VisualizeBtn';\r\nimport UndoBtn from './toolbar/UndoBtn';\r\nimport RedoBtn from './toolbar/RedoBtn';\r\nimport UploadBtn from './toolbar/UploadBtn';\r\nimport DownloadBtn from './toolbar/DownloadBtn';\r\nimport ChangeThemeBtn from './toolbar/ChangeThemeBtn';\r\nimport GaleryBtn from './toolbar/GaleryBtn';\r\nimport DeleteAllBtn from './toolbar/DeleteAllBtn';\r\nimport ScrollBtn from './toolbar/ScrollBtn';\r\n\r\nimport '../../css/navComponents/Toolbar.css';\r\n\r\n\r\nfunction Toolbar () {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (\r\n    <Collapse isOpen={context.isToolBarOpen} className=\"col-xs-1 toolbarCollapse\">\r\n        <div className='toolbar'>\r\n                <div className='toolbarTop'>                    \r\n                    <AssistBtn/>\r\n                    <VisualizeBtn/>\r\n                    <UndoBtn/>\r\n                    <RedoBtn/>\r\n                    <UploadBtn/>\r\n                    <DownloadBtn/>\r\n                    <ChangeThemeBtn/>\r\n                    <GaleryBtn/>\r\n                    <DeleteAllBtn/>\r\n                </div>                     \r\n\r\n                <div className='toolbarBottom'>\r\n                    <ScrollBtn/> \r\n                </div>\r\n        </div>\r\n    </Collapse>);\r\n    \r\n    \r\n}\r\n\r\n\r\nexport default Toolbar;\r\n","export function makeItResponsive(width){\r\n       /*  \r\n        //TimeOut need to take all the elements after render the DOM\r\n        setTimeout(() => {\r\n        let tabs = document.getElementsByClassName(\"xs-tabs\")[0];\r\n        let shapeHeaders = document.getElementsByClassName(\"xs-header\");\r\n        let tripleHeaders = document.getElementsByClassName(\"xs-tripleHeader\");\r\n        let addTripleBtns = document.getElementsByClassName(\"xs-addTripleButton\");\r\n        let addShapeBtns = document.getElementsByClassName(\"xs-addShapeButton\");\r\n        let grids = document.getElementsByClassName(\"xs-gridBox\");\r\n        let customs = document.getElementsByClassName(\"xs-customConstraint\");\r\n        let prefixes = document.getElementsByClassName(\"xs-prefixHeader\");\r\n        let prefixesColors = document.getElementsByClassName(\"xs-prefixHeaderColors\");\r\n        let pickers = document.getElementsByClassName(\"xs-pickers\");\r\n\r\n        let tabClass = 'xs-tabs';\r\n        let shClass = 'xs-header';\r\n        let thClass = 'xs-tripleHeader';\r\n        let adTClass = 'xs-addTripleButton';\r\n        let adSClass = 'xs-addShapeButton';\r\n        let grClass = 'xs-gridBox';\r\n        let ccClass = 'xs-customConstraint';\r\n        let prClass = 'xs-prefixHeader';\r\n        let prcClass = 'xs-prefixHeaderColors';\r\n        let picClass = 'xs-pickers';\r\n        if(width>600){\r\n            tabClass += ' tabs';\r\n            shClass += ' header';\r\n            thClass += ' tripleHeader';\r\n            adTClass += ' addTripleButton';\r\n            adSClass += ' addShapeButton';\r\n            grClass  += ' gridBox';\r\n            ccClass += ' customConstraint';\r\n            prClass += ' prefixHeader';\r\n            prcClass += ' prefixHeaderColors';\r\n            picClass += ' pickers';\r\n        }\r\n\r\n        \r\n        tabs.className = tabClass;\r\n\r\n\r\n        getKeys(shapeHeaders).forEach(element => {\r\n            shapeHeaders[element].className = shClass;\r\n        });\r\n        \r\n        getKeys(tripleHeaders).forEach(element => {\r\n            tripleHeaders[element].className = thClass;\r\n        });\r\n\r\n        getKeys(addTripleBtns).forEach(element => {\r\n            addTripleBtns[element].className = adTClass;\r\n        });\r\n\r\n        getKeys(addShapeBtns).forEach(element => {\r\n            addShapeBtns[element].className = adSClass;\r\n        });\r\n\r\n        getKeys(grids).forEach(element => {\r\n            grids[element].className = grClass;\r\n        });\r\n\r\n        getKeys(customs).forEach(element => {\r\n            customs[element].className = ccClass;\r\n        });\r\n\r\n        getKeys(prefixes).forEach(element => {\r\n            prefixes[element].className = prClass;\r\n        });\r\n\r\n        getKeys(prefixesColors).forEach(element => {\r\n            prefixesColors[element].className = prcClass;\r\n        });\r\n\r\n        getKeys(pickers).forEach(element => {\r\n            pickers[element].className = picClass;\r\n        });\r\n\r\n\r\n    }, 0); */\r\n        \r\n}\r\n\r\n\r\nfunction getKeys(collection){\r\n    return Object.keys(collection);\r\n}\r\n\r\nexport function activeTab(evt){\r\n        let i;\r\n        let tablinks;\r\n\r\n        tablinks = document.getElementsByClassName(\"tablink\");\r\n        for (i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].className = tablinks[i].className.replace(\" activeTab\", \"\");\r\n        }\r\n        evt.currentTarget.className += \" activeTab\";\r\n}\r\n\r\n\r\nexport function checkShapeName(shape){\r\n    let name = shape.type.value;\r\n    let type = shape.type.getTypeName();\r\n    let id = shape.id;  \r\n    setTimeout(() => {\r\n        /*\r\n        if(!name.match(new RegExp('^[a-zA-Z0-9_.-]*$')) && type == 'prefixedIri'){\r\n            return changeClass('sTriples'+id,'hidden');\r\n        }\r\n        */\r\n\r\n        if(name =='')return changeClass('addTriple'+id,'disabled');\r\n        \r\n\r\n        changeClass('addTriple'+id,'addTripleButton');\r\n\r\n    }, 0);\r\n        \r\n}\r\n\r\n\r\nfunction changeClass(before,after){\r\n    let triples = document.getElementsByClassName(before)[0];\r\n    if(triples)triples.className = before+' '+after;\r\n    \r\n}\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\nimport {AssistContext} from '../Assistant';\r\nimport {activeTab} from '../../../utils/cssUtils';\r\n\r\nfunction AssistTitle (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const asssistContext = useContext(AssistContext);\r\n\r\n    const handleShapes = function(evt){\r\n        closeAll();\r\n        asssistContext.setAssistOpen(true);\r\n        activeTab(evt);\r\n    }\r\n\r\n    const handlePrefixes = function(evt){\r\n        closeAll();\r\n        asssistContext.setPrefixesOpen(true);\r\n        activeTab(evt);\r\n    }\r\n\r\n    const handleColors = function(evt){\r\n        closeAll();\r\n        asssistContext.setColorsOpen(true);\r\n        activeTab(evt);\r\n    }\r\n\r\n    const handleConfig = function(evt){\r\n        closeAll();\r\n        asssistContext.setConfigOpen(true);\r\n        activeTab(evt);\r\n    }\r\n\r\n    const closeAll = function(){\r\n        asssistContext.setAssistOpen(false);\r\n        asssistContext.setPrefixesOpen(false);\r\n        asssistContext.setColorsOpen(false);\r\n        asssistContext.setConfigOpen(false);\r\n    }\r\n\r\n    \r\n   \r\n    return (<div className=\"xs-tabs\">\r\n                <button className=\"tablink activeTab\" \r\n                        title=\"ShEx Assistant\" \r\n                        onClick={(e)=>handleShapes(e)}>\r\n                        ShEx Assistant\r\n                </button>\r\n                <button className=\"tablink\" \r\n                        title=\"Prefixes\" \r\n                        onClick={(e)=>handlePrefixes(e)}>\r\n                        Prefixes \r\n                </button>\r\n                <button className=\"tablink material-icons\" \r\n                        title=\"Colors\" \r\n                        onClick={(e)=>handleColors(e)}>\r\n                        format_paint\r\n                </button>\r\n\r\n                <button className=\"tablink material-icons\" \r\n                        title=\"Config\" \r\n                        onClick={(e)=>handleConfig(e)}>\r\n                        settings\r\n                </button>\r\n       \r\n                <div className=\"asisTitleClose\">\r\n                    <button className=\"closeAsisBtn\" \r\n                            title=\"Close Assistant\" \r\n                            onClick={context.assistantToggle}>x</button>\r\n                </div>\r\n                \r\n            </div>);\r\n}\r\n\r\n\r\nexport default AssistTitle;\r\n\r\n","export const SHAPE_COLORS = {\r\n        label:'#222',\r\n        header:'#C6E2FF',\r\n        custom:'#3d3d3d',\r\n        customFill:'#79aff5',\r\n        delete:'#79aff5',\r\n        deleteFill:'#FFFFFF',\r\n        collapse:'#222',\r\n        body:'#EBF4FF',\r\n        addTriple:'#EFDECD',\r\n        addTripleFill:'#222',\r\n        addShape:'#ddeafa',\r\n        addShapeFill:'#222',\r\n};\r\n\r\nexport const TRIPLE_COLORS = {\r\n        label:'#222',\r\n        header:'#EFDECD',\r\n        custom:'#3d3d3d',\r\n        customFill:'#f8a252',\r\n        constraint:'#3d3d3d',\r\n        constraintFill:'#b1e086',\r\n        facet:'#3d3d3d',\r\n        facetFill:'#f5817f',\r\n        shapeRef:'#3d3d3d',\r\n        shapeRefFill:'#f8fa95',\r\n        cardinality:'#3d3d3d',\r\n        cardinalityFill:'#f7adea',\r\n        delete:'#f8a252',\r\n        deleteFill:'#ffff',\r\n        collapse:'#222',\r\n        body:'#EFE8E1',\r\n        addSubTriple:'#ffd0ca',\r\n        addSubTripleFill:'#222'\r\n};\r\n\r\nexport const SUB_TRIPLE_COLORS = {\r\n        header:'#ffd0ca',\r\n        custom:'#3d3d3d',\r\n        customFill:'#F48D81',\r\n        delete:'#F48D81',\r\n        deleteFill:'#ffff',\r\n        addSubTriple:'#ffd0ca',\r\n        addSubTripleFill:'#222'\r\n};\r\n\r\n\r\nexport const CONSTRAINT_COLORS = {\r\n        label:'#222',\r\n        body:'#E8FAE4',\r\n        add:'#ffff',\r\n        addFill:'#222',\r\n        delete:'#a1db6a',\r\n        deleteFill:'#ffff',\r\n};\r\n\r\nexport const FACET_COLORS = {\r\n        label:'#222',\r\n        body:'#f5d6d6',\r\n        add:'#ffff',\r\n        addFill:'#222',\r\n        delete:'#fd9090',\r\n        deleteFill:'#ffff',\r\n};\r\n\r\nexport const SHAPEREF_COLORS = {\r\n        label:'#222',\r\n        body:'#f5fac8',\r\n};\r\n\r\nexport const CARDINALITY_COLORS = {\r\n        label:'#222',\r\n        body:'#fae2f8',\r\n};\r\n\r\nexport const PREFIX_COLORS = {\r\n        label:'#222',\r\n        header:'#fdd5d5',\r\n        add:'#fdd5d5',\r\n        addFill:'#222',\r\n        delete:'#222',\r\n        deleteFill:'#ffff',\r\n        specialLabel:'#222',\r\n        body:'#FDEBEB'\r\n};","export const DEFAULTS = {\r\n    sincronize:true,\r\n    pretty:'pretty2',\r\n    saveColors:true,\r\n}","import React,{useState,useContext} from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport {SHAPE_COLORS,\r\n        TRIPLE_COLORS,\r\n        SUB_TRIPLE_COLORS,\r\n        CONSTRAINT_COLORS,\r\n        FACET_COLORS,\r\n        SHAPEREF_COLORS,\r\n        CARDINALITY_COLORS,\r\n        PREFIX_COLORS} from './colors';\r\n\r\nimport {DEFAULTS} from './config'       ;\r\n//Singleton Pattern\r\nconst Properties = (()=> {\r\n\r\n    function PropertyClass(){\r\n\r\n        const [cookies, setCookie,removeCookie] = useCookies('colors');\r\n       \r\n        this.getShapeStyle = function(){\r\n            return {\r\n                label:{color:SHAPE_COLORS.label},\r\n                header:{background:SHAPE_COLORS.header},\r\n                custom:{\r\n                        color:SHAPE_COLORS.customFill,\r\n                        background:SHAPE_COLORS.custom\r\n                },\r\n                delete:{\r\n                        color:SHAPE_COLORS.deleteFill,\r\n                        background:SHAPE_COLORS.delete\r\n                },\r\n                collapse:{color:SHAPE_COLORS.collapse},\r\n                body:{background:SHAPE_COLORS.body},\r\n                addTriple:{\r\n                        color:SHAPE_COLORS.addTripleFill,\r\n                        background:SHAPE_COLORS.addTriple\r\n                },\r\n                addShape:{\r\n                        color:SHAPE_COLORS.addShapeFill,\r\n                        background:SHAPE_COLORS.addShape\r\n                },\r\n            };  \r\n        }\r\n\r\n        this.getTripleStyle = function(){\r\n            return {      \r\n                label:{color:TRIPLE_COLORS.label}, \r\n                header:{background:TRIPLE_COLORS.header},\r\n                custom:{\r\n                        color:TRIPLE_COLORS.customFill,\r\n                        background:TRIPLE_COLORS.custom\r\n                },\r\n                constraint:{\r\n                        color:TRIPLE_COLORS.constraintFill,\r\n                        background:TRIPLE_COLORS.constraint\r\n                },\r\n                facet:{\r\n                        color:TRIPLE_COLORS.facetFill,\r\n                        background:TRIPLE_COLORS.facet\r\n                },\r\n                shapeRef:{\r\n                        color:TRIPLE_COLORS.shapeRefFill,\r\n                        background:TRIPLE_COLORS.shapeRef\r\n                },\r\n                cardinality:{\r\n                        color:TRIPLE_COLORS.cardinalityFill,\r\n                        background:TRIPLE_COLORS.cardinality\r\n                },\r\n                delete:{\r\n                        color:TRIPLE_COLORS.deleteFill,\r\n                        background:TRIPLE_COLORS.delete\r\n                },\r\n                addSubTriple:{\r\n                        color:TRIPLE_COLORS.addSubTripleFill,\r\n                        background:TRIPLE_COLORS.addSubTriple\r\n                },\r\n                collapse:{color:TRIPLE_COLORS.collapse},\r\n                body:{background:TRIPLE_COLORS.body},\r\n            }\r\n        }\r\n\r\n        this.getSubTripleStyle = function(){\r\n            return {      \r\n                label:{color:TRIPLE_COLORS.label}, \r\n                header:{background:SUB_TRIPLE_COLORS.header},\r\n                custom:{\r\n                        color:SUB_TRIPLE_COLORS.customFill,\r\n                        background:SUB_TRIPLE_COLORS.custom\r\n                },\r\n                constraint:{\r\n                        color:TRIPLE_COLORS.constraintFill,\r\n                        background:TRIPLE_COLORS.constraint\r\n                },\r\n                facet:{\r\n                        color:TRIPLE_COLORS.facetFill,\r\n                        background:TRIPLE_COLORS.facet\r\n                },\r\n                shapeRef:{\r\n                        color:TRIPLE_COLORS.shapeRefFill,\r\n                        background:TRIPLE_COLORS.shapeRef\r\n                },\r\n                cardinality:{\r\n                        color:TRIPLE_COLORS.cardinalityFill,\r\n                        background:TRIPLE_COLORS.cardinality\r\n                },\r\n                delete:{\r\n                        color:SUB_TRIPLE_COLORS.deleteFill,\r\n                        background:SUB_TRIPLE_COLORS.delete\r\n                },\r\n                addSubTriple:{\r\n                        color:SUB_TRIPLE_COLORS.addSubTripleFill,\r\n                        background:SUB_TRIPLE_COLORS.addSubTriple\r\n                },\r\n                collapse:{color:TRIPLE_COLORS.collapse},\r\n                body:{background:TRIPLE_COLORS.body},\r\n            }\r\n        }\r\n\r\n        this.getConstraintStyle = function(){\r\n            return {\r\n                label:{color:CONSTRAINT_COLORS.label}, \r\n                body:{background:CONSTRAINT_COLORS.body},\r\n                add:{\r\n                        color:CONSTRAINT_COLORS.addFill,\r\n                        background:CONSTRAINT_COLORS.add\r\n                },\r\n                delete:{\r\n                        color:CONSTRAINT_COLORS.deleteFill,\r\n                        background:CONSTRAINT_COLORS.delete\r\n                },\r\n            };  \r\n        }\r\n\r\n        this.getFacetStyle = function(){\r\n            return {\r\n                label:{color:FACET_COLORS.label}, \r\n                body:{background:FACET_COLORS.body},\r\n                add:{\r\n                        color:FACET_COLORS.addFill,\r\n                        background:FACET_COLORS.add\r\n                },\r\n                delete:{\r\n                        color:FACET_COLORS.deleteFill,\r\n                        background:FACET_COLORS.delete\r\n                },\r\n            };  \r\n        }\r\n\r\n        this.getShapeRefStyle = function(){\r\n            return {\r\n                label:{color:SHAPEREF_COLORS.label}, \r\n                body:{background:SHAPEREF_COLORS.body}\r\n            };  \r\n        }\r\n\r\n        this.getCardinalityStyle = function(){\r\n            return {\r\n                label:{color:CARDINALITY_COLORS.label},\r\n                body:{background:CARDINALITY_COLORS.body}\r\n            };  \r\n        }\r\n\r\n        this.getCardinalityStyle = function(){\r\n            return {\r\n                label:{color:CARDINALITY_COLORS.label},\r\n                body:{background:CARDINALITY_COLORS.body}\r\n            };  \r\n        }\r\n\r\n        this.getPrefixStyle = function(){\r\n            return {\r\n                label:{color:PREFIX_COLORS.label},\r\n                header:{background:PREFIX_COLORS.header},\r\n                delete:{\r\n                        color:PREFIX_COLORS.deleteFill,\r\n                        background:PREFIX_COLORS.delete\r\n                },\r\n                add:{\r\n                        color:PREFIX_COLORS.addFill,\r\n                        background:PREFIX_COLORS.add\r\n                },\r\n                specialLabel:{color:PREFIX_COLORS.specialLabel},\r\n                body:{background:PREFIX_COLORS.body}\r\n            };  \r\n        }\r\n\r\n\r\n\r\n\r\n        this.loadCookies = function(){\r\n            //Colors\r\n            this.loadCookie('shapeColors',SHAPE_COLORS);\r\n            this.loadCookie('tripleColors',TRIPLE_COLORS);\r\n            this.loadCookie('constraintColors',CONSTRAINT_COLORS);\r\n            this.loadCookie('facetColors',FACET_COLORS);\r\n            this.loadCookie('shapeRefColors',SHAPEREF_COLORS);\r\n            this.loadCookie('cardinalityColors',CARDINALITY_COLORS);\r\n\r\n            //Config\r\n            this.loadCookie('conf',DEFAULTS);\r\n            \r\n         }\r\n\r\n        this.loadCookie = function(cookie,namespace){\r\n            let properties = cookies[cookie];\r\n            if(!properties){\r\n                setCookie(cookie, namespace, { path: '/' });\r\n            }else{\r\n                this.load(properties,namespace);\r\n            }\r\n        }\r\n\r\n        this.load = function(propeties,namespace){\r\n            //namespace = colors; It doesn't work\r\n            Object.keys(propeties).map(c=>{\r\n                //console.log(propeties[c])\r\n                namespace[c]=propeties[c];\r\n            });\r\n        }\r\n\r\n\r\n        this.removeCookies = function(){\r\n            //Colors\r\n            removeCookie('shapeColors');\r\n            removeCookie('tripleColors');\r\n            removeCookie('constraintColors');\r\n            removeCookie('facetColors');\r\n            removeCookie('shapeRefColors');\r\n            removeCookie('cardinalityColors');\r\n            removeCookie('cardinalityColors');\r\n            //Config\r\n            removeCookie('conf');\r\n        }\r\n\r\n        this.saveDefaults = function(){\r\n            //Colors\r\n            this.defaultShape = Object.assign({}, SHAPE_COLORS);\r\n            this.defaultTriple = Object.assign({}, TRIPLE_COLORS);\r\n            this.defaultConstraint = Object.assign({}, CONSTRAINT_COLORS);\r\n            this.defaultFacet = Object.assign({}, FACET_COLORS);\r\n            this.defaultShapeRef = Object.assign({}, SHAPEREF_COLORS);\r\n            this.defaultCardinality = Object.assign({}, CARDINALITY_COLORS);\r\n            //Config\r\n            this.defaultConfig = Object.assign({}, DEFAULTS);\r\n        }\r\n\r\n        this.restoreDefaultColors = function(){\r\n            this.removeCookies();\r\n            this.load(this.defaultShape,SHAPE_COLORS);\r\n            this.load(this.defaultTriple,TRIPLE_COLORS);\r\n            this.load(this.defaultConstraint,CONSTRAINT_COLORS);\r\n            this.load(this.defaultFacet,FACET_COLORS);\r\n            this.load(this.defaultShapeRef,SHAPEREF_COLORS);\r\n            this.load(this.defaultCardinality,CARDINALITY_COLORS);\r\n        }\r\n\r\n        this.restoreDefaultConfig = function(){\r\n            this.load(this.defaultConfig,DEFAULTS);\r\n            this.removeCookies();\r\n        }\r\n\r\n        this.saveDefaults();\r\n        this.loadCookies();                \r\n    }\r\n\r\n   \r\n\r\n    let instance;\r\n\r\n    return{\r\n        getInstance: ()=>{\r\n            if(!instance){\r\n                instance = new PropertyClass();\r\n            }\r\n            return instance;\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n\r\n\r\nexport default Properties;","import React,{useState,useContext} from 'react';\r\nimport { Textbox } from 'react-inputs-validation';\r\nimport {AppContext} from '../../../../../../App';\r\nimport {ShapeContext} from '../ShapeComponent';\r\nimport {PN_LOCAL,IRI_REF} from '../../../../../../utils/regExpUtils';\r\nimport '../../../../../../css/shexComponents/headers/ShapeHeader.css';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction ShapeHeader (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const shapeContext = useContext(ShapeContext);\r\n    const disabled = shapeContext ? shapeContext.disabled : false;\r\n    const styles = Properties.getInstance().getShapeStyle();\r\n    \r\n    const {shape,customizeShape,collapseTriples,colapseBtn} = props;\r\n    const [name,setName] = useState(shape.type.value);\r\n\r\n    let initialRegExp = new RegExp(\"^\" +PN_LOCAL);\r\n    if(shape.type.getTypeName()=='iriRef') initialRegExp = new RegExp(\"^\" +IRI_REF);;\r\n    const [regExp,setRegExp] = useState(initialRegExp);\r\n\r\n    const handleChange = function(name){\r\n        shape.type.setValue(name);\r\n        context.emit();\r\n        setName(name);\r\n    }\r\n\r\n    const handleKeyUp = function(e){\r\n        if(e.target.value==''){\r\n            shapeContext.setDisabled(true);\r\n        }else{\r\n            shapeContext.setDisabled(false);\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className='xs-header' style={styles.header}>            \r\n            <label style={styles.label}>Shape</label>\r\n            <Textbox \r\n                    attributesInput={{ \r\n                        id: 'Name',\r\n                        name: 'Name',\r\n                        type: 'text',\r\n                        placeholder: 'eg: User',\r\n                    }}\r\n                    value={name} \r\n                    onChange={(e)=>handleChange(e)}\r\n                    onKeyUp={(e)=>handleKeyUp(e)}\r\n                    validationOption={{\r\n                        reg: regExp, \r\n                        regMsg: 'Invalid name'\r\n                    }}\r\n                    title=\"Shape Name\"\r\n                    /> \r\n\r\n            <button className=\"buildBtn mdc-icon-button material-icons\" \r\n                    style={styles.custom} \r\n                    onClick={customizeShape}\r\n                    disabled={disabled}\r\n                    title=\"Customize Shape\">\r\n                    build\r\n            </button>\r\n           \r\n            <button className=\"deleteShapeBtn mdc-icon-button material-icons\" \r\n                    style={styles.delete}\r\n                    onClick={()=>context.deleteShape(shape.id)}\r\n                    title=\"Delete Shape\">\r\n                    delete\r\n            </button>\r\n            \r\n\r\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \r\n                    style={styles.collapse}\r\n                    onClick={collapseTriples} \r\n                    disabled={disabled}\r\n                    title=\"Triple Constraints\">\r\n                    {colapseBtn}\r\n            </button>\r\n        </div>\r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default ShapeHeader;\r\n\r\n/*\r\n\r\n<input  type=\"text\" \r\n                    className={\"sName\"+shape.id+\" name\"}\r\n                    value={name}\r\n                    onChange={handleChange}\r\n                    placeholder=\"eg: User\"\r\n                    title=\"Shape Name\"/>\r\n*/","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../App';\r\nimport Properties from '../../../../../../../conf/properties';\r\n\r\nfunction TypeConfig (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const {entity,setPrefix,bnode,setPrefixOpen} = props;\r\n    const shapeStyles = Properties.getInstance().getShapeStyle();\r\n    const tripleStyles = Properties.getInstance().getTripleStyle();\r\n    const styles = entity.triples ? shapeStyles : tripleStyles; //is a Shape or a Triple?\r\n    const [type,setType] = useState(entity.type.getTypeName());\r\n    const iri ='<...>';\r\n\r\n    const handleTypeChange = function(e){\r\n        const type  = e.target.value;\r\n        const value = entity.type.value;\r\n        entity.setType(type);\r\n        entity.type.value = value;\r\n        context.emit();\r\n        setType(type);\r\n        setPrefix('example');\r\n\r\n        if(type=='prefixedIri'){\r\n            setPrefixOpen(true);\r\n        }else{\r\n           \r\n            setPrefixOpen(false);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"xs-gridBox\">\r\n            <label className=\"customLabel\" style={styles.label}>Type </label>\r\n            <select className=\"customSelector\" value={type} onChange={handleTypeChange}>\r\n                <option value=\"iriRef\">{iri}</option>\r\n                <option value=\"prefixedIri\">QName</option>\r\n                <Bnode isBnode={bnode}/>\r\n            </select>\r\n        </div>\r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nfunction Bnode(props) {\r\n  const isBnode = props.isBnode;\r\n  if (isBnode) {\r\n    return <option value=\"bnodeType\">Bnode</option>;\r\n  }\r\n  return null;\r\n}\r\n\r\n\r\nexport default TypeConfig;\r\n\r\n","class Prefix {\r\n\r\n    constructor(prefixName='',prefixValue='http://example.org/',id){\r\n        this.prefixName = prefixName;\r\n        this.prefixValue = prefixValue;\r\n        this.id = id;\r\n    }\r\n\r\n\r\n    getPrefixName(){\r\n        return this.prefixName;\r\n    }\r\n\r\n    getPrefixValue(){\r\n        return this.prefixValue;\r\n    }\r\n\r\n}\r\n\r\nexport default Prefix;","import Codemirror from 'codemirror';\r\nimport Editor from '../entities/editor';\r\nimport Prefix from '../entities/shexEntities/others/prefix';\r\nimport {ALL_PREFIXES} from './rdfUtils';\r\n\r\nlet prefixCount = 0;\r\n\r\nexport function getPrefix(prefix){\r\n    let defined = Editor.getYashe().getDefinedPrefixes();\r\n    return Object.keys(defined).reduce((acc,p)=>{\r\n      if(defined[p]==prefix) acc = new Prefix(p,defined[p]);\r\n      return acc;\r\n    },new Prefix());\r\n}\r\n\r\n\r\nexport function addPrefixComp(prefixes,width){\r\n    prefixCount++ //We needed berfore\r\n    const id = prefixes.length + prefixCount; // +prefixCount++ doesn't work for this\r\n    let newPrefix = new Prefix('','',id);\r\n    let newPrefixes = [];\r\n    newPrefixes = Object.assign(newPrefixes, prefixes);\r\n    newPrefixes.push(newPrefix);\r\n    emitPrefixes(newPrefixes,width);\r\n    return newPrefix;\r\n}\r\n\r\nexport function deletePrefixComp(prefixes,prefixId,width) {\r\n    let newPrefixes = prefixes.filter(prefix => prefix.id != prefixId);\r\n    emitPrefixes(newPrefixes,width);\r\n    return newPrefixes;\r\n}\r\n\r\n\r\nexport function addPrefix(prefix){\r\n        let namespaces = ALL_PREFIXES;\r\n        let yashe = Editor.getYashe();\r\n        let current = yashe.getValue();\r\n        let defined = yashe.getDefinedPrefixes();\r\n        yashe.setValue( 'PREFIX ' + prefix + ': <' + getUri() + '>\\n' + current );\r\n        Codemirror.signal(yashe,'prefixUpdate');\r\n  }\r\n\r\n\r\nexport function getUri(prefix,namespaces){\r\n  for(let def in namespaces){\r\n    for(let p in namespaces[def]){\r\n      if(p==prefix)\r\n        return namespaces[def][p];\r\n    }\r\n  }\r\n  return 'http://example.org/';\r\n}\r\n\r\n\r\nfunction getPrefixesStr(prefixes){\r\n  return prefixes.reduce((acc,p)=>{\r\n    return acc += 'PREFIX ' + p.prefixName + ': <' + p.prefixValue + '>\\n';\r\n  },'');\r\n}\r\n\r\nexport function emitPrefixes(newPrefixes,width) {\r\n    const yashe = Editor.getYashe();\r\n    if(yashe!=undefined){\r\n        Codemirror.signal(yashe,'prefixChange',getPrefixesStr(newPrefixes),width);\r\n    }\r\n}","import React,{useState,useContext} from 'react';\r\nimport { Collapse } from 'reactstrap';\r\nimport {AppContext} from '../../../../../../../App';\r\nimport {AssistContext} from '../../../../../Assistant';\r\nimport {getPrefix} from '../../../../../../../utils/prefixUtils';\r\nimport Properties from '../../../../../../../conf/properties';\r\n\r\nfunction PrefixConfig (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const assistContext = useContext(AssistContext);\r\n    const {entity,isPrefixOpen,prefix,setPrefix} = props;\r\n    const shapeStyles = Properties.getInstance().getShapeStyle();\r\n    const tripleStyles = Properties.getInstance().getTripleStyle();\r\n    const styles = entity.triples ? shapeStyles : tripleStyles; //is a Shape or a Triple?\r\n\r\n    const handlePrefixChange = function(e){\r\n        let prefix = getPrefix(e.target.value);\r\n        entity.type.prefix = prefix;\r\n        context.emit();\r\n        setPrefix(e.target.value);\r\n    }\r\n\r\n    return (\r\n         <div className=\"xs-gridBox\">\r\n            <label className=\"customLabel\" style={styles.label}>Prefix </label>\r\n            <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\r\n                <option value=\"example\">example</option>\r\n                { \r\n                context.prefixes.map((pre) =>{\r\n                    if(pre.prefixName!=''){\r\n                        return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\r\n                    }                        \r\n                })\r\n            }\r\n            </select>\r\n         </div>\r\n    );\r\n                                   \r\n    \r\n}\r\n\r\nexport default PrefixConfig;\r\n\r\n","import React,{useState,useContext} from 'react';\r\nimport { Collapse } from 'reactstrap';\r\nimport {AppContext} from '../../../../../../App';\r\nimport TypeConfig from './config/TypeConfig';\r\nimport PrefixConfig from './config/PrefixConfig';\r\nimport Properties from '../../../../../../conf/properties';\r\nimport '../../../../../../css/shexComponents/customize/Custom.css'\r\n\r\nfunction CustomComp (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const {entity,isCustomOpen,bnode,customClass} = props;\r\n    const shapeStyles = Properties.getInstance().getShapeStyle();\r\n    const tripleStyles = Properties.getInstance().getTripleStyle();\r\n    const styles = customClass == 'customShape' ? shapeStyles:tripleStyles;\r\n\r\n    let initialPrefix = 'example';\r\n    let initialOpenPrefix = false;\r\n    if(entity.type.prefix!=undefined){\r\n        initialPrefix = entity.type.prefix.prefixValue;\r\n        initialOpenPrefix = true;\r\n    }\r\n\r\n    const [prefix,setPrefix] = useState(initialPrefix);\r\n    const [isPrefixOpen,setPrefixOpen] = useState(initialOpenPrefix);\r\n \r\n\r\n    return (\r\n        <Collapse isOpen={isCustomOpen}\r\n                  className='customColapse'>\r\n\r\n            <div className={customClass} style={styles.body}>\r\n                <TypeConfig \r\n                    entity={entity}\r\n                    setPrefix={setPrefix}\r\n                    setPrefixOpen={setPrefixOpen}\r\n                    bnode={bnode}/>\r\n            \r\n            <Collapse isOpen={isPrefixOpen}>\r\n                <PrefixConfig \r\n                    entity={entity}\r\n                    isPrefixOpen={isPrefixOpen}\r\n                    prefix={prefix}\r\n                    setPrefix={setPrefix}/> \r\n            </Collapse> \r\n     \r\n            </div>\r\n        </Collapse>                 \r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\n\r\n\r\nexport default CustomComp;\r\n\r\n","class Type{\r\n\r\n    constructor(value){\r\n        this.value = value;\r\n    }\r\n\r\n    getValue(){\r\n        return this.value;\r\n    }\r\n\r\n    setValue(value){\r\n        this.value = value;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Type;","import Type from '../type';\r\nimport Prefix from '../..//others//prefix';\r\n\r\nclass PrefixedIri extends Type{\r\n\r\n    constructor(prefix=new Prefix(),value=''){\r\n        super(value);\r\n        this.prefix = prefix;\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'prefixedIri';\r\n    }\r\n\r\n\r\n    toString(){\r\n        return this.prefix.getPrefixName()+':'+this.getValue();\r\n    }\r\n\r\n}\r\n\r\nexport default PrefixedIri;","import Type from '../type';\r\nimport Editor from'../../../editor';\r\n\r\nclass IriRef extends Type{\r\n\r\n    constructor(value=''){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'iriRef';\r\n    }\r\n\r\n\r\n    toString(){\r\n        return '<'+this.getValue()+'>';\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default IriRef;","import Type from '../type';\r\n\r\nclass BNode extends Type{\r\n\r\n    constructor(value='example'){\r\n        super(value);\r\n    }\r\n\r\n\r\n    getTypeName(){\r\n        return 'bnodeType';\r\n    }\r\n\r\n\r\n    toString(){\r\n        return '_:'+this.getValue();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default BNode;","import Type from '../type';\r\n\r\nclass BlankType extends Type{\r\n\r\n     constructor(value=''){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'blankType';\r\n    }\r\n\r\n    toString(){\r\n        return '';\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default BlankType;","import Type from '../type';\r\n\r\nconst PRIMITIVES = ['String','Integer','Date','Boolean'];\r\n\r\nclass Primitive extends Type{\r\n\r\n     constructor(value='none'){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'primitive';\r\n    }\r\n\r\n    toString(){\r\n        if(this.value=='none'){\r\n            return '.';\r\n        }\r\n        return 'xsd:'+this.getValue();\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Primitive;","import Type from '../type';\r\n\r\nclass ValueSet extends Type{\r\n\r\n     constructor(values=[],value){\r\n        // If we use 'value' instead of 'values' it doesn't work \r\n        // I am not sure why...\r\n        super(value);\r\n        this.values = values;\r\n    }\r\n\r\n    addValue(value){\r\n        this.values.push(value);\r\n    }\r\n\r\n    setValues(values){\r\n        this.values = values;\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'valueSet';\r\n    }\r\n\r\n    toString(){\r\n        let str ='[';\r\n        this.values.map(v=>{\r\n            str+=v.toString()+' ';\r\n        })\r\n        str+=']';\r\n        return str;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default ValueSet;","import Type from '../../type';\r\n\r\nclass Literal extends Type{\r\n\r\n    getTypeName(){\r\n        return 'literal';\r\n    }\r\n\r\n    toString(){\r\n        return 'Literal';\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Literal;","import Type from '../../type';\r\n\r\nclass NonLiteral extends Type{\r\n\r\n    getTypeName(){\r\n        return 'nonliteral';\r\n    }\r\n\r\n    toString(){\r\n        return 'NONLITERAL';\r\n    }\r\n\r\n}\r\n\r\nexport default NonLiteral;","import Type from '../../type';\r\n\r\nclass IriKind extends Type{\r\n\r\n    getTypeName(){\r\n        return 'iri';\r\n    }\r\n\r\n    toString(){\r\n        return 'IRI';\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default IriKind;","import Type from '../../type';\r\n\r\nclass BNodeKind extends Type{\r\n\r\n    getTypeName(){\r\n        return 'bnode';\r\n    }\r\n\r\n    toString(){\r\n        return 'BNODE';\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default BNodeKind;","import Type from '../../type';\r\n\r\nclass StringLiteral extends Type{\r\n\r\n     constructor(value=''){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'stringLiteral';\r\n    }\r\n\r\n    toString(){\r\n        return '\"'+this.value+'\"';\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default StringLiteral;","import Type from '../../type';\r\n\r\nclass NumberLiteral extends Type{\r\n\r\n    constructor(value=0){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'numberLiteral';\r\n    }\r\n\r\n    toString(){\r\n        return this.value;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default NumberLiteral;","import Type from '../../type';\r\n\r\nclass BooleanLiteral extends Type{\r\n\r\n    constructor(value='true'){\r\n        super(value);\r\n    }\r\n\r\n    getTypeName(){\r\n        return 'booleanLiteral';\r\n    }\r\n\r\n    toString(){\r\n        return this.value;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default BooleanLiteral;","import PrefixedIri from'./concreteTypes/prefixedIri';\r\nimport IriRef from'./concreteTypes/iriRef';\r\nimport BNode from'./concreteTypes/bNode';\r\nimport BlankType from'./concreteTypes/blankType';\r\nimport Primitive from'./concreteTypes/primitive';\r\nimport ValueSet from'./concreteTypes/valueSet';\r\n\r\nimport Literal from'./concreteTypes/kinds/literal';\r\nimport NonLiteral from'./concreteTypes/kinds/nonLiteral';\r\nimport IriKind from'./concreteTypes/kinds/iriKind';\r\nimport BNodeKind from'./concreteTypes/kinds/bNodeKind';\r\n\r\n\r\nimport StringLiteral from'./concreteTypes/literal/stringLiteral';\r\nimport NumberLiteral from'./concreteTypes/literal/numberLiteral';\r\nimport BooleanLiteral from'./concreteTypes/literal/booleanLiteral';\r\n\r\n\r\n\r\nclass TypesFactory{\r\n\r\n    createType(type){\r\n\r\n        let retType;\r\n        if(type == 'iriRef'){\r\n            retType = new IriRef();\r\n        }\r\n        \r\n        if(type == 'prefixedIri'){\r\n            retType = new PrefixedIri();\r\n        }\r\n        \r\n        if(type == 'bnodeType'){\r\n            retType = new BNode();\r\n        }\r\n\r\n        if(type == 'blankType'){\r\n            retType = new BlankType();\r\n        }\r\n\r\n        if(type == 'primitive'){\r\n            retType = new Primitive();\r\n        }\r\n\r\n        if(type == 'literal'){\r\n            retType = new Literal();\r\n        }\r\n\r\n        if(type == 'nonliteral'){\r\n            retType = new NonLiteral();\r\n        }\r\n\r\n\r\n        if(type == 'iri'){\r\n            retType = new IriKind();\r\n        }\r\n\r\n        if(type == 'bnode'){\r\n            retType = new BNodeKind();\r\n        }\r\n\r\n        if(type == 'valueSet'){\r\n            retType = new ValueSet();\r\n        }\r\n\r\n        if(type == 'stringLiteral'){\r\n            retType = new StringLiteral();\r\n        }\r\n\r\n        if(type == 'numberLiteral'){\r\n            retType = new NumberLiteral();\r\n        }\r\n\r\n        if(type == 'booleanLiteral'){\r\n            retType = new BooleanLiteral();\r\n        }\r\n \r\n\r\n        return retType;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default TypesFactory;","import TypesFactory from './types/typesFactory';\r\n\r\nclass Node {\r\n\r\n  constructor(id,type,constraint,facets,shapeRef,triples=[]) {\r\n      this.id = id;\r\n\r\n      this.type = type;\r\n      this.constraint = constraint;\r\n      this.facets = facets;\r\n      this.shapeRef = shapeRef;\r\n      \r\n      this.triples = triples;\r\n      this.triplesCount = this.triples.length;\r\n      this.factory = new TypesFactory();\r\n    }\r\n\r\n    setType(type){\r\n        this.type = this.factory.createType(type);\r\n    }\r\n\r\n\r\n    addTriple(triple){\r\n        this.triples.push(triple);\r\n        this.triplesCount++;\r\n    }\r\n\r\n    removeTriple(tripleId){\r\n      this.triples = this.triples.filter(function( obj ) {\r\n        return obj.id != tripleId\r\n      });\r\n    }\r\n\r\n    setConstraint(constraint){\r\n        this.constraint = this.factory.createType(constraint);\r\n    }\r\n\r\n    addFacet(facet){\r\n        this.facets.push(facet);\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\nexport default Node;","import Shape from'../shape';\r\n\r\nclass ShapeRef{\r\n\r\n    constructor(shape=null){\r\n        this.shape = shape;\r\n    }\r\n\r\n    toString(){\r\n        if(this.shape){\r\n           let shapeRef = this.shape.type.toString();\r\n           return '@'+shapeRef;\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ShapeRef;","export function getSeparators(triple,longest){\r\n    let typeLength = triple.type.toString().length;\r\n    let constLength = triple.constraint.toString().length;\r\n    let facetLength = getFacetsString(triple.facets).length;\r\n    let refLength = triple.shapeRef.toString().length;\r\n    let cardLength = triple.cardinality?.toString().length;\r\n    let bodyLength = constLength+facetLength+refLength;\r\n    if(triple.constraint.toString()=='.')bodyLength-=2;\r\n\r\n    let typeDiference = longest.type - typeLength;\r\n    let bodyDiference = longest.body - bodyLength;\r\n    let cardDiference = longest.card - cardLength;\r\n\r\n       \r\n    return{\r\n        type:getSeparator(typeDiference),\r\n        body:getSeparator(bodyDiference),\r\n        card:getSeparator(cardDiference),\r\n    }\r\n}\r\n\r\nexport function getLongestElements(triples){\r\n    let longestType = getLongestElement(triples,'type');\r\n    let longestConstraint = getLongestElement(triples,'constraint');\r\n    let longestFacet = getLongestFacet(triples,'facet');\r\n    let longestRef = getLongestElement(triples,'shapeRef');\r\n    let longestCard = getLongestElement(triples,'cardinality');\r\n    let longestBody = getLongestBody(triples);\r\n\r\n    return {\r\n        type:longestType,\r\n        body:longestBody,\r\n        card:longestCard\r\n    }\r\n}\r\n\r\n\r\nfunction getLongestElement(triples,element){\r\n      let size=0;\r\n      triples.forEach(triple => {\r\n          let value = triple[element]?.toString().length;\r\n          if(value>size)size = value;\r\n      });\r\n      return size;\r\n}\r\n\r\nfunction getLongestFacet(triples){\r\n    let size=0;\r\n    triples.forEach(triple => {\r\n        let value = getFacetsString(triple.facets).length;\r\n        if(value>size)size = value;\r\n    });\r\n    return size;\r\n}\r\n\r\nfunction getFacetsString(facets){\r\n    return facets.reduce((acc,f)=>{\r\n        return acc+=f.toString()+' ';\r\n    },'')+' ';\r\n}\r\n\r\nfunction getLongestBody(triples){\r\n    return triples.reduce((acc,t)=>{\r\n        let cValue = t.constraint.toString().length;\r\n        let fValue = getFacetsString(t.facets).length;\r\n        let rValue = t.shapeRef.toString().length;\r\n        let value = cValue+fValue+rValue;\r\n        if(value>acc)acc = value;\r\n        return acc;\r\n    },0);\r\n}\r\n\r\n\r\nexport function getSeparator(size){\r\n    let space = ' ';\r\n    let separator = ' ';\r\n    for(let i=0;i<size;i++){\r\n        separator+=space;\r\n    }\r\n    return separator;\r\n}   \r\n\r\n","import Node from './node';\r\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\r\nimport BlankKind from './types/concreteTypes/kinds/blankKind';\r\nimport Prefix from './others/prefix';\r\nimport Primitive from './types/concreteTypes/primitive';\r\nimport ShapeRef from './others/shapeRef';\r\nimport {getLongestElements,getSeparators} from '../../utils/printUtils';\r\n\r\nclass Shape extends Node{\r\n\r\n  constructor(id,type=new PrefixedIri(new Prefix('','http:/example.org/')),constraint=new Primitive(),facets=[],shapeRef=new ShapeRef(),triples=[]) {\r\n      super(id,type,constraint,facets,shapeRef,triples);\r\n    }\r\n\r\n \r\n    toString(){\r\n      let str='\\n';\r\n      if(this.type.value!=''){\r\n        str+=this.type+' '+this.checkConstraint();\r\n        str+=this.facets?.reduce((acc,f)=>{\r\n                return acc+=' '+f+' ';\r\n        },'');\r\n        str+=this.shapeRef;\r\n        if(this.checkContent()){\r\n          str+=' {\\n';\r\n          str+= this.getTriplesString();\r\n          str+=\"}\\n\\n\"\r\n        }\r\n      }\r\n      return str\r\n     }\r\n\r\n\r\n     getTriplesString(){\r\n        return this.triples.reduce((acc,t) => {\r\n          return acc+=t.toString(getSeparators(t,getLongestElements(this.triples)),1);\r\n        },'');\r\n     }\r\n\r\n\r\n     //Checks if there is any triple with content\r\n     checkContent(){\r\n       let isContent = false;\r\n       this.triples.forEach(triple => {\r\n          if(triple.type.value!=''){\r\n            isContent = true;\r\n          }\r\n        });\r\n        return isContent;\r\n     }\r\n\r\n\r\n     checkConstraint(){\r\n    \r\n        // If there is no constraint\r\n        if(this.constraint.getTypeName()=='primitive' \r\n                && this.constraint.value=='none'){\r\n        \r\n            // If there are facets don't print the '.'\r\n            if(this.facets.length>0)return '';\r\n            // If there is a shapeRef don't print the '.'\r\n            if(this.shapeRef.shape != null) return '';    \r\n            // If there is a inline shape don't print the '.'\r\n            if(this.triples.length>0)return '';\r\n        \r\n        }\r\n\r\n\r\n        return this.constraint+' ';\r\n    }\r\n\r\n\r\n    getEntityName(){\r\n      return 'Shape';\r\n    }\r\n\r\n\r\n  }\r\n\r\nexport default Shape;","class Facet{\r\n\r\n    constructor(id,type='length',value=0){\r\n        this.id = id;\r\n        this.type = type;\r\n        this.value = value;\r\n    }\r\n\r\n    toString(){\r\n        return this.type+\" \"+this.value;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Facet;","import TypesFactory from '../types/typesFactory';\r\nimport PrefixedIri from '../types/concreteTypes/prefixedIri';\r\nimport Prefix from './prefix';\r\n\r\nclass ValueSetValue {\r\n\r\n     constructor(id,type=new PrefixedIri(new Prefix('schema','http://schema.org/'))){\r\n        this.id = id;\r\n        this.type = type;\r\n        this.factory = new TypesFactory();\r\n    }\r\n\r\n    setType(type){\r\n       this.type = this.factory.createType(type);\r\n     }\r\n\r\n    toString(){\r\n        return this.type.toString();\r\n    }\r\n\r\n}\r\n\r\nexport default ValueSetValue;","import Codemirror from 'codemirror';\r\nimport Editor from '../entities/editor';\r\nimport Shape from '../entities/shexEntities/shape';\r\nimport Facet from '../entities/shexEntities/others/facet';\r\nimport {addPrefix} from './prefixUtils';\r\nimport ValueSetValue from '../entities/shexEntities/others/valueSetValue';\r\n\r\nlet shapesCount = 0;\r\nlet facetsCount = 0;\r\nlet valuesCount = 0;\r\n\r\nfunction addShape(shapes,width){\r\n\r\n    const id = shapes.length + shapesCount++;\r\n    const newShape = new Shape(id);\r\n\r\n    let newShapes = [];\r\n    newShapes = Object.assign(newShapes, shapes);\r\n    newShapes.push(newShape);\r\n    checkPrefixes();\r\n    emit(newShapes,width);\r\n    return newShape;    \r\n}\r\n\r\nfunction deleteShape(shapes,shapeId,confirm,width) {\r\n    if(!confirm){\r\n        confirm = window.confirm('Are you sure?');\r\n    }\r\n    if (confirm == true) {\r\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\r\n        emit(newShapes,width);\r\n        return newShapes;\r\n    }\r\n    return shapes;\r\n}\r\n\r\n\r\nfunction getShapeById(shapes,shapeId) {\r\n    return shapes.filter(function( obj ) {\r\n        return obj.id == shapeId\r\n    })[0];\r\n}\r\n\r\nfunction getShapeByName(shapes,name) {\r\n    return shapes.filter(s=>{\r\n        return s.type.toString() == name;\r\n    })[0];\r\n}\r\n\r\n\r\nfunction getTripleById(shape,tripleId) {\r\n    return shape.triples.filter(function( obj ) {\r\n        return obj.id == tripleId\r\n    })[0];\r\n}\r\n\r\n\r\nfunction emit(newShapes,width) {\r\n    const yashe = Editor.getYashe();\r\n    if(yashe!=undefined){\r\n        Codemirror.signal(yashe,'humanEvent',newShapes,width);\r\n        checkPrefixes();\r\n    }\r\n}\r\n\r\nfunction checkPrefixes(){\r\n    if(!hasPrefix('')) addPrefix('');\r\n    if(!hasPrefix('schema')) addPrefix('schema');\r\n    if(!hasPrefix('xsd')) addPrefix('xsd');\r\n}\r\n\r\nfunction hasPrefix(prefix){\r\n    const defs = Editor.getYashe().getDefinedPrefixes();\r\n    return Object.keys(defs).filter(p=>{\r\n        return p==prefix;\r\n    }).length > 0 ? true:false;\r\n}\r\n\r\n\r\nfunction addValueSetValue(values){\r\n    const id = values.length + valuesCount++;\r\n    return new ValueSetValue(id);    \r\n}\r\n\r\n\r\nfunction addFacet(facets){\r\n    const id = facets.length + facetsCount++;\r\n    return new Facet(id);    \r\n}\r\n\r\n\r\n\r\nconst shexUtils = {\r\n    addShape:addShape,\r\n    deleteShape:deleteShape,\r\n    getShapeById:getShapeById,\r\n    getShapeByName:getShapeByName,\r\n    getTripleById:getTripleById,\r\n    emit:emit,\r\n    addFacet:addFacet,\r\n    addValueSetValue:addValueSetValue\r\n}\r\n\r\nexport default shexUtils;","\r\nimport Codemirror from 'codemirror';\r\nimport Editor from '../entities/editor';\r\nimport shexUtils from './shexUtils';\r\nimport Shape from '../entities/shexEntities/shape';\r\nimport Triple from '../entities/shexEntities/triple';\r\nimport TypesFactory from '../entities/shexEntities/types/typesFactory';\r\nimport CardinalityFactory from '../entities/shexEntities/others/cardinality/cardinalityFactory';\r\nimport Facet from '../entities/shexEntities/others/facet';\r\nimport PrefixedIri from '../entities/shexEntities/types/concreteTypes/prefixedIri';\r\nimport IriRef from '../entities/shexEntities/types/concreteTypes/iriRef';\r\nimport BNode from '../entities/shexEntities/types/concreteTypes/bNode';\r\nimport Primitive from '../entities/shexEntities/types/concreteTypes/primitive';\r\nimport ValueSet from '../entities/shexEntities/types/concreteTypes/valueSet';\r\nimport Literal from '../entities/shexEntities/types/concreteTypes/kinds/literal';\r\nimport NonLiteral from '../entities/shexEntities/types/concreteTypes/kinds/nonLiteral';\r\nimport IriKind from '../entities/shexEntities/types/concreteTypes/kinds/iriKind';\r\nimport BNodeKind from '../entities/shexEntities/types/concreteTypes/kinds/bNodeKind';\r\nimport BlankKind from '../entities/shexEntities/types/concreteTypes/kinds/blankKind';\r\nimport NumberLiteral from '../entities/shexEntities/types/concreteTypes/literal/numberLiteral';\r\nimport StringLiteral from '../entities/shexEntities/types/concreteTypes/literal/stringLiteral';\r\nimport BooleanLiteral from '../entities/shexEntities/types/concreteTypes/literal/booleanLiteral';\r\nimport Prefix from '../entities/shexEntities/others/prefix';\r\nimport ShapeRef from '../entities/shexEntities/others/shapeRef';\r\nimport ValueSetValue from '../entities/shexEntities/others/valueSetValue';\r\n\r\n\r\nlet references;\r\n/**\r\n*   Obtains all the current tokens in the editor\r\n*   @return {Array} tokens\r\n*\r\n */\r\nfunction getTokens(){\r\n    let yashe = Editor.getYashe();\r\n    let tokens =[];\r\n    if(yashe!=undefined){\r\n        for (var l = 0; l < yashe.lineCount(); ++l) {\r\n            let lineTokens = getNonWsTokens(yashe.getLineTokens(l));\r\n            lineTokens.forEach(token =>{\r\n                tokens.push(token);\r\n            })\r\n\r\n        }\r\n    }\r\n    return tokens;\r\n}\r\n\r\n/**\r\n*   Split the tokens into Shapes\r\n*   @param {Array} Tokens\r\n*   @return {Array} Defined Shapes (Array of Token's arrays)\r\n*\r\n */\r\nfunction getDefinedShapes(tokens){\r\n    let shape = []\r\n    let brackets=0\r\n    let shapeCont = 0;\r\n    let hasTripleStarted = false;\r\n    //Separate shapes in arrays\r\n    return tokens.reduce((acc,element)=>{\r\n\r\n        if(element.type == 'shape'){\r\n            shape = [];\r\n            shape.push(element)\r\n            acc[shapeCont]=shape;\r\n            shapeCont++;\r\n        }else{\r\n            shape.push(element);\r\n        }\r\n\r\n        return acc;\r\n\r\n    },[]);\r\n}\r\n\r\n/**\r\n* Get the Shapes objects\r\n* @param {Array} Shapes (Array of Token's arrays)\r\n*\r\n */\r\nfunction getShapes(defShapes){\r\n    references = [];\r\n    return defShapes.reduce((acc,shape)=>{\r\n        let id  = acc.length;\r\n        let shapeDef = shape[0].string;\r\n        let sTokens = getBeforeTriplesTokens(shape);\r\n        let content =  getContent(id,sTokens);\r\n\r\n        let tTokens = getTripleTokens(shape);\r\n        let triples = getTriples(id,tTokens);\r\n\r\n\r\n        let s = new Shape(id,content.type,content.constraint,content.facets,content.shapeRef,triples);\r\n        references.push({entity:s,ref:content.ref});\r\n        acc.push(s);\r\n        return acc;\r\n\r\n    },[])\r\n}\r\n\r\n/**\r\n* Get the type of the Shape or Triple\r\n* @param {String} Shape or Triple\r\n*\r\n */\r\nfunction getType(def) {\r\n    let value;\r\n    let yashe = Editor.getYashe();\r\n    if(def.startsWith('<')){\r\n        value = def.split('<')[1].split('>')[0];\r\n        return new IriRef(value);\r\n    }else if(def.startsWith('_:')){\r\n        value = def.split(':')[1];\r\n        return new BNode(value);\r\n    }else{\r\n        value = def.split(':')[1];\r\n        let prefixName = def.split(':')[0];\r\n        let prefixValue = getPrefixValue(prefixName)\r\n        let prefix = new Prefix(prefixName,prefixValue);\r\n        return new PrefixedIri(prefix,value);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n*   Get an array of Triples\r\n*   @param {Integer} shapeId\r\n*   @param {Array} Shape (Tokens)\r\n*\r\n* */\r\nfunction getTriples(shapeId,tokens) {\r\n        let triples = [];\r\n        let singleTriple = [];\r\n        let yashe = Editor.getYashe();\r\n        let start = false;\r\n        let finish = true;\r\n        let open = 0;\r\n        return tokens.reduce((acc,token,index)=>{\r\n            singleTriple.push(token);             \r\n            if(isFinishOfTriple(tokens,token,index,finish)){\r\n                if(singleTriple.length>1){\r\n                        let before = getBeforeTriplesTokens(singleTriple);\r\n                        let content = getContent(acc.length,before);\r\n                        let after = getTripleTokens(singleTriple);\r\n                        let subTriples = getTriples(acc.length,after);\r\n\r\n                        let cardinality = content.cardinality;\r\n                        //If there is a inlineShape the cardinality comes after it\r\n                        if(after.length>0){\r\n                            let possibleCardinality = getCardinalityIfExist(singleTriple);\r\n                            if(possibleCardinality)cardinality=possibleCardinality;\r\n                        }\r\n              \r\n                        if(content.type != undefined){//Needed when last triple of an inlineShape ends with ';'\r\n                            let triple = new Triple(acc.length,content.type,content.constraint,content.facets,content.shapeRef,cardinality,subTriples);\r\n                            references.push({entity:triple,ref:content.ref});\r\n                            acc.push(triple);\r\n                        }\r\n                }\r\n                singleTriple = [];\r\n            }\r\n\r\n            if(token.string=='{'){\r\n                open++;\r\n                start = true;\r\n                finish = false;\r\n            }\r\n                \r\n            if(token.string=='}') open--;\r\n            if(open==0 && start)finish=true;\r\n     \r\n            return acc;\r\n        },[])\r\n}\r\n\r\n\r\n/**\r\n* Checks if it's the finish of the triple\r\n* @param {List} Tokens\r\n* @param {Object} Token\r\n* @param {Integer} Index of token\r\n* @param {Boolean} Finish -> Has the inlineShape finished?\r\n* */\r\nfunction isFinishOfTriple(tokens,token,index,finish){\r\n    return (token.string == ';' && finish) || index == tokens.length-1;\r\n}\r\n\r\n/**\r\n* Returns the cardinality after a inlineShapeIfExist \r\n* @param {List} TripleTokens\r\n* @return {Cardinality}\r\n */\r\nfunction getCardinalityIfExist(tokens){\r\n    return getCardiTokens(tokens).reduce((acc,t)=>{\r\n        if(t.type=='cardinality')acc=getCardinality(t.string);\r\n        return acc;\r\n    },null)\r\n}\r\n\r\n/**\r\n* Gets the tokens after the inlineShape\r\n* @param {List} Tokens\r\n* @param {List} Tokens after inlineShape\r\n* */\r\nfunction getCardiTokens(tokens){\r\n    let start=false;\r\n    let open = 0;\r\n    return tokens.reduce((acc,t)=>{\r\n        if(t.string=='{'){\r\n            open++;\r\n            start=true;\r\n        }\r\n\r\n        if(t.string=='}'){\r\n            open--;\r\n        }\r\n\r\n        if(open == 0 && start==true)acc.push(t);\r\n        return acc;\r\n    },[])\r\n}\r\n\r\n\r\n/**\r\n* Gets the features of a Shape/Triple except the possible inlineShape\r\n* @param {Integer} id\r\n* @param {List} Tokens\r\n*\r\n*/\r\nfunction getContent(id,tokens) {   \r\n    let type;\r\n    let constraint;\r\n    let valueSet = [];\r\n    let facets = [];\r\n    let cardinality= new CardinalityFactory().createCardinality();\r\n    let shapeRef = new ShapeRef();\r\n    let ref;\r\n    //I am using a for loop just because of the facets (see line 233)\r\n    for(let i=0;i<tokens.length;i++){\r\n        let token = tokens[i];\r\n        if(token.type == 'string-2' || token.type == 'variable-3' || token.type=='shape'){\r\n            type = getType(token.string);\r\n        }\r\n        if(token.type == 'constraint' || token.type == 'constraintKeyword' ){\r\n            constraint = getConstraint(token.string);\r\n        }\r\n        \r\n\r\n        if(token.type == 'valueSet'){\r\n            if(token.string.startsWith('@')){// LANTAG NOT SUPPORTED AT THE MOMENT\r\n                Codemirror.signal(Editor.getYashe(),'forceError','LANTAG_ERR');\r\n            }else{\r\n                 valueSet.push(new ValueSetValue(valueSet.length,getValueSetValue(token.string)));\r\n            }\r\n        }\r\n\r\n        if(token.type == 'shapeRef' ){\r\n            ref = getRefName(token.string);\r\n        }\r\n\r\n        if(token.type == 'facet'){\r\n            i++;//I Need the next value\r\n            let value = tokens[i].string;\r\n            let id =facets.length;\r\n            let type = token.string.toLowerCase();\r\n            facets.push(new Facet(id,type,value));\r\n        }\r\n\r\n\r\n        if(token.type == 'cardinality'){\r\n          cardinality=getCardinality(token.string);\r\n        }\r\n        \r\n        if(isNotAllowed(token))Codemirror.signal(Editor.getYashe(),'forceError');\r\n        \r\n        // Force errors in case to find one of the following tokens\r\n        if(token.string == '~'){\r\n            Codemirror.signal(Editor.getYashe(),'forceError','EXCLUSION_ERR');\r\n        }\r\n\r\n        if(token.string == '('){\r\n            Codemirror.signal(Editor.getYashe(),'forceError','PARENTHESIS_ERR');\r\n        }\r\n            \r\n  \r\n    }\r\n    if(valueSet.length>0)constraint=new ValueSet(valueSet);\r\n    return {type:type,constraint:constraint,facets:facets,shapeRef:shapeRef,ref:ref,cardinality:cardinality};\r\n}\r\n\r\n\r\n/**\r\n*   Get the tokens before a tripleExpr. We start collecting the tokens before find '{' token\r\n*   @param {Array} Shape (Tokens)\r\n*   @return {Array} Tokens\r\n*\r\n*/\r\nfunction getBeforeTriplesTokens(tokens){\r\n    let start=true;\r\n    return tokens.reduce((acc,t,index)=>{\r\n        if(t.string=='{' || index == tokens.length-1)start=false;\r\n        if(start)acc.push(t);\r\n        return acc;\r\n    },[])\r\n}\r\n\r\n\r\n/**\r\n*   Get the triple tokens. We start collecting the tokens after find '{' token until find the correspondig '}'\r\n*   @param {Array} Shape (Tokens)\r\n*   @return {Array} Tokens\r\n*\r\n*/\r\nfunction getTripleTokens(tokens){\r\n    let start=false;\r\n    let open = 0;\r\n    return tokens.reduce((acc,t)=>{\r\n        if(start)acc.push(t);\r\n        if(t.string=='{'){\r\n            open++;\r\n            start=true;\r\n        }\r\n\r\n        if(t.string=='}'){\r\n            open--;\r\n        }\r\n\r\n        if(open == 0 && start==true)start=false;\r\n        return acc;\r\n    },[])\r\n}\r\n\r\n\r\n/**\r\n * Returns true in case the token represent the end of a Triple\r\n * @param {Object} Token\r\n * @param {Integer} Index\r\n * @param {Array} TripleTokens\r\n *\r\n */\r\nfunction isEndOfTriple(token,index,tTokens){\r\n    if((token.type == 'punc' &&  token.string==';')// finish of the triple ';' \r\n        || index==tTokens.length-1){  // finish of the last triple without ';'\r\n\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n*   Get the constraint of the Triple\r\n*   @param {String} Token\r\n*   @return {Type}\r\n*/\r\nfunction getConstraint(def) {\r\n    let factory = new TypesFactory();\r\n    let type = factory.createType(def.toLowerCase());\r\n    //Isn't a Prefixed/Iri/Primitive?\r\n    if(type!=undefined)return type;\r\n\r\n    type = getType(def);\r\n    //Is a Primitive?\r\n    if(type.getTypeName() == 'prefixedIri' && isPrimitive(type.value)){\r\n        let kind = def.split(':')[1];\r\n        return new Primitive(kind);\r\n    }\r\n\r\n    return type;\r\n}\r\n\r\n\r\n/**\r\n*   Get the Cardinality Object\r\n*   @param {String} Cardinality\r\n*   @return {Cardinality|String} Cardinality\r\n* */\r\nfunction getCardinality(card){\r\n    let factory = new CardinalityFactory();\r\n    if(card.length==1)return factory.createCardinality(card);//Is it a simple card?\r\n    let range = card.split('{')[1].split('}')[0].split(','); //I know...\r\n    let min = range[0];\r\n    let max;\r\n    if(range.length>1){\r\n        max = range[1];\r\n    }\r\n\r\n    let context = 'range';\r\n    if(max == undefined){\r\n        context = 'exactly';\r\n    }\r\n    if(max == '' || max == '*'){\r\n        context = 'minLimit';\r\n    }\r\n\r\n    return factory.createCardinality(context,min,max);\r\n}\r\n\r\n\r\n/**\r\n* Get the type of a valueSetValue\r\n* @param {String} Token\r\n* @return {Type} ValueSetValue\r\n*\r\n */\r\nfunction getValueSetValue(def) {\r\n    let value = def.toLowerCase();\r\n    if(!isNaN(def)) return new NumberLiteral(def);\r\n    if(def.startsWith('\"')) return new StringLiteral(def.substring(1,def.length-1));//remove the \"\"\r\n    if(value == 'true' || value == 'false') return new BooleanLiteral(value);\r\n    return getType(def);\r\n}\r\n\r\n\r\nfunction updateShapeRefs(shapes) {\r\n    for(let r in references){\r\n        let element = references[r];\r\n        if(element.ref!=undefined){\r\n            let shapeRef = shexUtils.getShapeByName(shapes,element.ref);\r\n            element.entity.shapeRef.shape = shapeRef;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Returns the value of a specific prefix by its alias\r\n * @param {String} prefixName\r\n * @return {String} prefixValue\r\n *\r\n */\r\nfunction getPrefixValue(prefixName){\r\n    let defPrefixes = Editor.getYashe().getDefinedPrefixes();\r\n    return defPrefixes[Object.keys(defPrefixes).filter(p=>{\r\n        return p==prefixName;\r\n    })]; \r\n}\r\n\r\n\r\n/**\r\n * Returns true if the value is a primitive Type: \r\n * ['string','integer','date','boolean']\r\n * @param {String} Value\r\n * @return {Boolean} \r\n *\r\n */\r\nfunction isPrimitive(value) {\r\n    return PRIMITIVES.reduce((acc,p)=>{\r\n        if(p == value) acc=true;\r\n        return acc;\r\n    },false)\r\n}\r\n\r\n/**\r\n* Returns true if the token is not allowed in the assistant. False otherwise\r\n* @param {Object} Token\r\n* @return {Boolean} \r\n*/\r\nfunction isNotAllowed(token){\r\n    return token.type != 'string-2' && \r\n            token.type != 'variable-3' &&\r\n            token.type != 'shape' &&\r\n            token.type != 'constraint' && \r\n            token.type != 'constraintKeyword' && \r\n            token.type != 'valueSet' && \r\n            token.type != 'shapeRef' && \r\n            token.type != 'facet' && \r\n            token.type != 'cardinality' && \r\n            token.type != 'punc' &&\r\n            (token.type != 'keyword' && token.string.toLowerCase()=='prefix') &&\r\n            token.type != 'prefixDelcAlias' &&\r\n            token.type != 'prefixDelcIRI' &&\r\n            token.type !='comment' ;\r\n}\r\n\r\n/**\r\n * Returns the name of the shapeRef. It just remove the @\r\n * @param {String} ShapeRef\r\n * @return {String} ShapeName\r\n */\r\nfunction getRefName(ref) {\r\n    return ref.split('@')[1];\r\n}\r\n\r\n\r\n/**\r\n * Returns all the tokens except ws tokens (eg: WhiteSpaces)\r\n * @param {Array} Tokens\r\n * @return {Array} Tokens\r\n *\r\n*/\r\nfunction getNonWsTokens(tokens){\r\n    return tokens.filter(function(obj){\r\n        return obj.type != 'ws';\r\n    })\r\n}\r\n\r\n//HAY QUE METER TODOS (Update... igual no hace falta...)\r\nconst PRIMITIVES = ['string','integer','date','boolean'];\r\n\r\n\r\n\r\nconst tokenUtils = {\r\n    getTokens:getTokens,\r\n    getDefinedShapes:getDefinedShapes,\r\n    getShapes:getShapes,\r\n    updateShapeRefs:updateShapeRefs\r\n}\r\n\r\nexport default tokenUtils;","class CardinalityExactly{\r\n\r\n    constructor(min=1){\r\n        this.min = min;\r\n    }\r\n\r\n    getCardType(){\r\n        return 'exactly';\r\n    }\r\n\r\n    toString(){\r\n        return '{'+this.min+'}';\r\n    }\r\n\r\n}\r\n\r\nexport default CardinalityExactly;","class CardinalityMinLimit{\r\n\r\n    constructor(min=1){\r\n        this.min = min;\r\n    }\r\n\r\n    getCardType(){\r\n        return 'minLimit';\r\n    }\r\n\r\n    toString(){\r\n        return '{'+this.min+',*}';\r\n    }\r\n\r\n}\r\n\r\nexport default CardinalityMinLimit;","class CardinalityRange{\r\n\r\n    constructor(min=1,max=10){\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n\r\n    getCardType(){\r\n        return 'range';\r\n    }\r\n\r\n    toString(){\r\n        return '{'+this.min+','+this.max+'}';\r\n    }\r\n\r\n}\r\n\r\nexport default CardinalityRange;","class CardinalitySimple{\r\n\r\n    constructor(value=' '){\r\n        this.value = value;\r\n    }\r\n\r\n    getCardType(){\r\n        return this.value;\r\n    }\r\n\r\n    toString(){\r\n        return this.value;\r\n    }\r\n\r\n}\r\n\r\nexport default CardinalitySimple;","import CardinalityExactly from './cardinalityExactly';\r\nimport CardinalityMinLimit from './cardinalityMinLimit';\r\nimport CardinalityRange from './cardinalityRange';\r\nimport CardinalitySimple from './cardinalitySimple';\r\n\r\nclass CardinalityFactory{\r\n\r\n    createCardinality(type,min,max){\r\n\r\n        if(type == 'exactly'){\r\n            return new CardinalityExactly(min);\r\n        }\r\n\r\n        if(type == 'minLimit'){\r\n            return new CardinalityMinLimit(min);\r\n        }\r\n\r\n        if(type == 'range'){\r\n            return new CardinalityRange(min,max);\r\n        }\r\n\r\n        return new CardinalitySimple(type);\r\n \r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CardinalityFactory;","import Node from './node';\r\n\r\nimport CardinalityFactory from './others/cardinality/cardinalityFactory';\r\nimport CardinalitySimple from './others/cardinality/cardinalitySimple';\r\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\r\nimport Primitive from './types/concreteTypes/primitive';\r\nimport ShapeRef from './others/shapeRef';\r\nimport Prefix from './others/prefix';\r\nimport {DEFAULTS} from '../../conf/config.js';\r\nimport {getLongestElements,getSeparators,getSeparator} from '../../utils/printUtils';\r\n\r\nclass Triple extends Node{\r\n\r\n    constructor(id,type=new PrefixedIri(new Prefix('schema','http://schema.org/')),constraint=new Primitive(),facets=[],shapeRef=new ShapeRef(),cardinality=new CardinalitySimple(),triples=[]) {\r\n        super(id,type,constraint,facets,shapeRef,triples);\r\n        this.cardinality = cardinality;\r\n        this.cardFactory = new CardinalityFactory();\r\n    }\r\n      \r\n\r\n    setCardinality(cardinality,min,max){\r\n        this.cardinality = this.cardFactory.createCardinality(cardinality,min,max);\r\n    }\r\n\r\n\r\n    toString(separators,tab){\r\n        let str='';\r\n        let type=this.type;\r\n        let constraint = this.constraint;\r\n        let facets = this.facets;\r\n        let shapeRef = this.shapeRef;\r\n        let cardinality = this.cardinality;\r\n        separators = this.checkPrettyOptions(separators);\r\n        let tripleSeparator = separators.type; \r\n        let bodySeparator = separators.body;\r\n        let cardSeparator = separators.card;\r\n \r\n        if(type.value!=''){\r\n            str+=getSeparator(tab);\r\n            str+= type+tripleSeparator;\r\n            str+= this.checkConstraint();\r\n            str+=facets?.reduce((acc,f)=>{\r\n                return acc+=' '+f+' ';\r\n            },'');\r\n\r\n            str+=shapeRef+bodySeparator;\r\n\r\n            if(this.triples.length>0){\r\n                str+=' {\\n';\r\n                tab++;\r\n                str+=this.triples.reduce((acc,t) => {\r\n                    return acc+=t.toString(getSeparators(t,getLongestElements(this.triples)),tab);\r\n                },'');\r\n                str+=getSeparator(tab-1)+'}';\r\n            }\r\n\r\n            str+=cardinality+cardSeparator+';\\n';\r\n\r\n        }\r\n\r\n        return str;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    checkPrettyOptions(separators){\r\n\r\n        if(DEFAULTS.pretty=='none'){\r\n            separators.type=' ';\r\n            separators.body=' ';\r\n        }\r\n        if(DEFAULTS.pretty=='pretty1'){\r\n            separators.body=' ';\r\n        }\r\n        //default pretty2\r\n        return separators;\r\n    }\r\n\r\n    checkConstraint(){\r\n    \r\n        // If there is no constraint\r\n        if(this.constraint.getTypeName()=='primitive' \r\n                && this.constraint.value=='none'){\r\n        \r\n            // If there are facets don't print the '.'\r\n            if(this.facets.length>0)return '';\r\n            // If there is a shapeRef don't print the '.'\r\n            if(this.shapeRef.shape != null) return '';    \r\n            // If there is a inline shape don't print the '.'\r\n            if(this.triples.length>0)return '';\r\n        \r\n        }\r\n\r\n\r\n        return this.constraint+' ';\r\n    }\r\n\r\n\r\n    getEntityName(){\r\n      return 'Triple';\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Triple;","import Editor from '../entities/editor';\r\nimport tokenUtils from './tokenUtils';\r\nimport Prefix from '../entities/shexEntities/others/prefix';\r\n\r\nlet prefixCount = 0;\r\n\r\nfunction getShapes(){\r\n  \r\n  let tokens = tokenUtils.getTokens();\r\n  let defShapes = tokenUtils.getDefinedShapes(tokens);\r\n  let newShapes = tokenUtils.getShapes(defShapes);\r\n\r\n  tokenUtils.updateShapeRefs(newShapes);\r\n  console.log(newShapes)\r\n  return newShapes; \r\n}\r\n\r\nfunction getPrefixes(){\r\n  let defP = Editor.getYashe().getDefinedPrefixes();\r\n  return Object.keys(defP).reduce((acc,p)=>{\r\n     if(isInDefPrefixes(p)){ //This is weird I know\r\n        let id = acc.length + prefixCount++;\r\n        acc.push(new Prefix(p,defP[p],id))\r\n     }\r\n    return acc;\r\n  },[]);\r\n}\r\n\r\nfunction draw(shapes,prefixes){\r\n  let yashe = Editor.getInstance().getYashe();\r\n  yashe.setValue(shapes.reduce((acc,s) => {\r\n      return acc+=s.toString();\r\n  },getPrefixesStr(yashe,prefixes)));\r\n}\r\n\r\nfunction getPrefixesStr(yashe,prefixes){\r\n    if(prefixes!=undefined)return prefixes;\r\n    let defP = yashe.getDefinedPrefixes();\r\n    return Object.keys(defP).reduce((acc,p)=>{\r\n      return acc+='PREFIX '+p+':    <'+defP[p]+'>\\n';\r\n    },'');\r\n}\r\n\r\nfunction getSchema(){\r\n    return Editor.getYashe()?.getValue();\r\n  }\r\n\r\n\r\nfunction debounce(func, wait, immediate) {\r\n    let timeout; let result;\r\n    return function() {\r\n        const context = this; \r\n        const args = arguments;\r\n        const later = function() {\r\n        timeout = null;\r\n        if (!immediate) result = func.apply(context, args);\r\n        };\r\n        const callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) result = func.apply(context, args);\r\n        return result;\r\n    };\r\n};\r\n\r\nfunction isInDefPrefixes(prefix){\r\n  return Editor.getYashe().defPrefixes.reduce((acc,p)=>{\r\n    if(prefix+':'==p)acc=true;\r\n    return acc;\r\n  },false);\r\n}\r\n\r\n const yasheUtils = {\r\n      getShapes:getShapes,\r\n      getPrefixes:getPrefixes,\r\n      draw:draw,\r\n      getSchema:getSchema,\r\n      debounce:debounce\r\n  }\r\n\r\n  export default yasheUtils;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport {ShapeContext} from '../ShapeComponent';\r\nimport yasheUtils from '../../../../../../utils/yasheUtils';\r\nimport Properties from '../../../../../../conf/properties';\r\nimport '../../../../../../css/shexComponents/headers/TripleHeader.css';\r\n\r\nfunction TripleHeader (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const shapeContext = useContext(ShapeContext);\r\n    const disabled = shapeContext.disabled;\r\n\r\n    const { triple,\r\n            deleteTriple,\r\n            customize,\r\n            collapseTriples,\r\n            colapseBtn,\r\n            styles\r\n            } = props;\r\n\r\n    const [name,setName] = useState(triple.type.value);\r\n\r\n    const handleNameChange = function(e){\r\n        const name = e.target.value;\r\n        triple.type.setValue(name);\r\n        context.emit();\r\n        setName(name);\r\n    }\r\n\r\n\r\n   \r\n    return (\r\n        <div className=\"xs-tripleHeader\" style={styles.header}>            \r\n            <input  type=\"text\" \r\n                    className=\"name\"\r\n                    value={name}\r\n                    onChange={handleNameChange}\r\n                    placeholder=\"eg: name\"\r\n                    disabled={disabled}\r\n                    title=\"Triple Constraint Name\"/>\r\n\r\n            <button className=\"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"\r\n                    style={styles.custom}\r\n                    onClick={customize}\r\n                    disabled={disabled} \r\n                    title=\"Customize Triple Constraint\">\r\n                    build\r\n            </button>\r\n\r\n            \r\n\r\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\r\n                    style={styles.delete}\r\n                    onClick={()=>deleteTriple(triple.id)}\r\n                    disabled={disabled} \r\n                    title=\"Delete Triple Constraint\">\r\n                    delete\r\n            </button>\r\n\r\n             <button className=\"collapseBtn mdc-icon-button material-icons\" \r\n                    style={styles.collapse}\r\n                    onClick={collapseTriples} \r\n                    title=\"Triple Constraints\">\r\n                    menu\r\n            </button>\r\n            \r\n\r\n        </div>\r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default TripleHeader;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport {getPrefix} from '../../../../../../../../utils/prefixUtils';\r\n\r\nfunction QNameValue (props) {\r\n    \r\n    const {type,isOpen} = props;\r\n    const context = useContext(AppContext);\r\n\r\n    let initialPrefix = 'example';\r\n    if(type.prefix!=undefined){\r\n        initialPrefix = type.prefix.prefixValue;\r\n    }\r\n    const [prefix,setPrefix]=useState(initialPrefix);\r\n    const [name,setName]=useState(type.value);\r\n\r\n\r\n    const handlePrefixChange = function(e){\r\n        let prefixName = e.target.value;\r\n        let newPrefix = getPrefix(prefixName);\r\n        type.prefix = newPrefix;\r\n        context.emit();\r\n        setPrefix(prefixName);\r\n    }\r\n\r\n    const handleNameChange = function(e){\r\n        let newName = e.target.value;\r\n        setName(newName);\r\n        type.value = newName;\r\n        context.emit();\r\n    }\r\n\r\n    return (<Collapse isOpen={isOpen} className='qnameSetCollapse'>\r\n                    <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\r\n                    <option value=\"example\">example</option>\r\n                        { \r\n                        context.prefixes.map((pre) =>{\r\n                            if(pre.prefixName!=''){\r\n                                return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\r\n                            }                        \r\n                        })\r\n                    }\r\n                    </select>\r\n                    \r\n                    <input  type=\"text\" \r\n                        className=\"name\"\r\n                        value={name}\r\n                        onChange={handleNameChange}\r\n                        />\r\n\r\n                </Collapse>);                          \r\n}\r\n\r\n\r\n\r\nexport default QNameValue;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\n\r\nfunction InputValue (props) {\r\n    \r\n    const {type,isOpen} = props;\r\n    const context = useContext(AppContext);\r\n    const [name,setName]=useState(type.value);\r\n\r\n    const handleNameChange = function(e){\r\n        let newName = e.target.value;\r\n        type.value = newName;\r\n        context.emit();\r\n        setName(newName);\r\n    }\r\n\r\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\r\n                    <input  type=\"text\" \r\n                        className=\"name\"\r\n                        value={name}\r\n                        onChange={handleNameChange}/>\r\n\r\n                </Collapse>);                          \r\n}\r\n\r\n\r\n\r\nexport default InputValue;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport NumericInput from 'react-numeric-input';\r\n\r\nfunction NumberValue (props) {\r\n    \r\n    const {type,isOpen} = props;\r\n    const context = useContext(AppContext);\r\n    const [number,setNumber]=useState(type.value);\r\n\r\n    const handleNumberChange = function(e){\r\n        let newNumber = e;\r\n        type.value = newNumber;\r\n        context.emit();\r\n        setNumber(newNumber);\r\n    }\r\n\r\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\r\n                    <NumericInput   className=\"form-control\" \r\n                                    min={0} \r\n                                    value={number}\r\n                                    onChange={handleNumberChange}/>\r\n\r\n                </Collapse>);                          \r\n}\r\n\r\n\r\n\r\nexport default NumberValue;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\n\r\nfunction BooleanValue (props) {\r\n    \r\n    const {type,isOpen} = props;\r\n    const context = useContext(AppContext);\r\n    const [boolean,setBoolean]=useState(type.value);\r\n\r\n    const handleBooleanChange = function(e){\r\n        let newBoolean = e.target.value;\r\n        type.value = newBoolean;\r\n        context.emit();\r\n        setBoolean(newBoolean);\r\n    }\r\n\r\n    return (<Collapse isOpen={isOpen} className='imputSetCollapse'>\r\n                <select className=\"customSelector boolSelect\"\r\n                        value={boolean}\r\n                        onChange={handleBooleanChange}>\r\n                    <option value=\"true\">True</option>\r\n                    <option value=\"false\">False</option>\r\n                </select>\r\n            </Collapse>);                          \r\n}\r\n\r\n\r\n\r\nexport default BooleanValue;\r\n","import React,{useState,useContext,useEffect} from 'react';\r\nimport {AppContext} from '../../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport QNameValue from './valueSetValues/QNameValue';\r\nimport InputValue from './valueSetValues/InputValue';\r\nimport NumberValue from './valueSetValues/NumberValue';\r\nimport BooleanValue from './valueSetValues/BooleanValue';\r\nimport Properties from '../../../../../../../conf/properties';\r\n\r\nfunction ValueSetComp (props) {\r\n    \r\n    const {valueSetValue,deleteValue} = props;\r\n    const context = useContext(AppContext);\r\n    const styles = Properties.getInstance().getConstraintStyle();\r\n    const iriStr = '<...>';\r\n    const [type,setType]=useState(valueSetValue.type.getTypeName());\r\n    const [isIriRef,setIriRef]=useState(true);\r\n    const [isQName,setQName]=useState(false);\r\n    const [isString,setString]=useState(false);\r\n    const [isNumber,setNumber]=useState(false);\r\n    const [isBoolean,setBoolean]=useState(false);\r\n\r\n    const handleTypeChange = function(e){\r\n        let newType = e.target.value;\r\n        setType(newType);\r\n        valueSetValue.setType(newType);\r\n        context.emit();\r\n        checkCollapses();\r\n    }\r\n\r\n    const checkCollapses = function(){\r\n        setIriRef(false);\r\n        setQName(false);\r\n        setString(false);\r\n        setNumber(false);\r\n        setBoolean(false);\r\n        \r\n\r\n        if(type=='iriRef'){\r\n            setIriRef(true);\r\n        }\r\n\r\n        if(type=='prefixedIri'){\r\n            setQName(true);\r\n        }\r\n\r\n        if(type=='stringLiteral'){\r\n            setString(true);\r\n        }\r\n\r\n        if(type=='numberLiteral'){\r\n            setNumber(true);\r\n        }\r\n\r\n        if(type=='booleanLiteral'){\r\n            setBoolean(true);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        checkCollapses();\r\n    });\r\n    \r\n\r\n\r\n    return (  <div className=\"valueSets\">\r\n                <select className=\"customSelector\"\r\n                        value={type}\r\n                        onChange={handleTypeChange}>\r\n                    <option value=\"iriRef\">{iriStr}</option>\r\n                    <option value=\"prefixedIri\">QName</option>\r\n                    <option value=\"stringLiteral\">String</option>\r\n                    <option value=\"numberLiteral\">Number</option>\r\n                    <option value=\"booleanLiteral\">Boolean</option>\r\n                </select>\r\n\r\n                <div>\r\n                    <InputValue type={valueSetValue.type} isOpen={isIriRef}/>\r\n\r\n                    <QNameValue type={valueSetValue.type} isOpen={isQName}/>\r\n\r\n                    <InputValue type={valueSetValue.type} isOpen={isString}/>\r\n\r\n                    <NumberValue type={valueSetValue.type} isOpen={isNumber}/>\r\n\r\n                    <BooleanValue type={valueSetValue.type} isOpen={isBoolean}/>\r\n                </div>\r\n                \r\n                <button className=\"tripleBtns deleteValueSetBtn mdc-icon-button material-icons\" \r\n                    style={styles.delete}\r\n                    onClick={()=>deleteValue(valueSetValue.id)}\r\n                    title=\"Delete Value\">\r\n                    delete\r\n                </button>\r\n            </div> );                          \r\n}\r\n\r\n\r\n\r\nexport default ValueSetComp;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../App';\r\nimport shexUtils from '../../../../../../../utils/shexUtils';\r\nimport ValueSetComp from './ValueSetComp';\r\nimport Properties from '../../../../../../../conf/properties';\r\n\r\nfunction ValueSetContainer (props) {\r\n    const {entity,valueSet,setValueSet} = props;\r\n    const context = useContext(AppContext);\r\n    const styles = Properties.getInstance().getConstraintStyle();\r\n\r\n    const deleteValue= function(id){\r\n        const newValues = valueSet.filter(v => v.id != id);\r\n        setValueSet(newValues);\r\n        entity.constraint.setValues(newValues);\r\n        context.emit(); \r\n    }\r\n\r\n    const addValue = function(){\r\n        const value = shexUtils.addValueSetValue(valueSet);\r\n        setValueSet([...valueSet,value]);\r\n        entity.constraint.addValue(value);\r\n        context.emit(); \r\n    }\r\n\r\n    return (<div className='xs-customConstraint'>\r\n                <label style={styles.label}>ValueSet</label>\r\n                <div className=\"valueSetsCont\">\r\n                    {valueSet.map(v =>{                                        \r\n                            return (<ValueSetComp \r\n                                    key={v.id}\r\n                                    valueSetValue={v}\r\n                                    deleteValue={deleteValue} \r\n                                    />)\r\n                    })}\r\n                    \r\n                    <button className=\"addFacet\" style={styles.add}  title=\"Add Value\" onClick={addValue}>+ Value</button>      \r\n                </div>\r\n            </div>);                          \r\n}\r\n\r\n\r\n\r\nexport default ValueSetContainer;\r\n","import React,{useState,useContext,useEffect} from 'react';\r\nimport { Collapse } from 'reactstrap';\r\nimport {AppContext} from '../../../../../../App';\r\nimport {getPrefix} from '../../../../../../utils/prefixUtils';\r\nimport shexUtils from '../../../../../../utils/shexUtils';\r\nimport yasheUtils from '../../../../../../utils/yasheUtils';\r\nimport PrefixConfig from './config/PrefixConfig';\r\nimport ValueSetContainer from './constraint/ValueSetContainer';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nconst primitives = ['String','Integer','Date','Boolean'];\r\nconst iriStr ='<...>';\r\n\r\nfunction ConstraintComp (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const {entity} = props;\r\n    const styles = Properties.getInstance().getConstraintStyle();\r\n    \r\n    let constValue = entity.constraint.getTypeName();\r\n    let primValue = entity.constraint.value;\r\n\r\n    if(constValue!='primitive'){\r\n        primValue = 'custom';\r\n    }\r\n\r\n    let initialPrefix = 'example';\r\n    if(entity.constraint.prefix!=undefined){\r\n        initialPrefix = entity.constraint.prefix.prefixValue;\r\n    }\r\n\r\n    let initialValueSet = [];\r\n    if(constValue == 'valueSet'){\r\n        initialValueSet = entity.constraint.values;\r\n    }\r\n    \r\n    const [name,setName] = useState(entity.constraint.value || '');\r\n    const [prefix,setPrefix] = useState(initialPrefix);\r\n    const [valueSet,setValueSet] = useState(initialValueSet);\r\n    const [primitive,setPrimitive] = useState(primValue);    \r\n    const [constraint,setConstraint] = useState(constValue);\r\n    const [isCustomOpen,setCustomOpen] = useState(false);\r\n    const [isValueSetOpen,setValueSetOpen] = useState(false);\r\n    const [isNameOpen,setNameOpen] = useState(false);\r\n    const [isPrefixOpen,setPrefixOpen] = useState(false);\r\n        \r\n   \r\n\r\n    const handlePrefixChange = function(e){ \r\n        let prefix = getPrefix(e.target.value);\r\n        entity.constraint.prefix = prefix;\r\n        context.emit();\r\n        setPrefix(e.target.value);\r\n\r\n    }\r\n\r\n    const handleNameChange = function(e){\r\n        let newName = e.target.value;\r\n        entity.constraint.value = newName;\r\n        context.emit();\r\n        setName(newName);\r\n    }\r\n\r\n      const handlePrimitiveChange = function(e){\r\n        const newPrimitive = e.target.value;\r\n        entity.setConstraint('primitive');\r\n        entity.constraint.value = newPrimitive;\r\n        setConstraint('primitive');\r\n        setPrimitive(newPrimitive);\r\n        context.emit();\r\n    }\r\n\r\n\r\n    const handleConstraintChange = function(e){\r\n        let newConstraint = e.target.value;\r\n        setConstraint(newConstraint);\r\n        entity.setConstraint(newConstraint);\r\n        entity.constraint.value = name;\r\n        context.emit();\r\n        checkValueSet();\r\n    }\r\n\r\n \r\n\r\n    const checkCollapses = function(){\r\n        setCustomOpen(true);  \r\n        setNameOpen(false);\r\n        setPrefixOpen(false);\r\n        setValueSetOpen(false);\r\n        \r\n        if(constraint == 'iriRef'){\r\n            setNameOpen(true);\r\n        }\r\n\r\n        if(constraint == 'prefixedIri'){\r\n            setNameOpen(true);\r\n            setPrefixOpen(true);\r\n        }\r\n\r\n        if(constraint == 'primitive'){\r\n            if(primitive!='custom'){\r\n                setCustomOpen(false);\r\n            }else{\r\n                setConstraint('prefixedIri');\r\n                setName('');\r\n                entity.setConstraint('prefixedIri');\r\n                context.emit();\r\n            }\r\n        }\r\n\r\n        if(constraint == 'valueSet'){\r\n            setValueSetOpen(true);\r\n        }\r\n\r\n    }\r\n\r\n    const checkValueSet = function(){\r\n        if(entity.constraint.getTypeName()=='valueSet'){\r\n            setValueSet([]);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        checkCollapses();\r\n    })\r\n\r\n    return (\r\n                <div className=\"xs-gridBox\" style={styles.body}>\r\n                    <label className='gridLabel' style={styles.label}>Constraint</label>\r\n                    <select className=\"customSelector\" \r\n                        value={primitive} \r\n                        onChange={handlePrimitiveChange}\r\n                        title=\"Constraint\">\r\n                        <option value='none'>None</option>\r\n                        {\r\n                            primitives.map(prim =>{\r\n                                return <option key={prim} value={prim.toLowerCase()}>{prim}</option>\r\n                            })\r\n                        }\r\n                        <option value='custom'>Custom</option>\r\n                    </select>    \r\n\r\n                    <Collapse isOpen={isCustomOpen} className='constraintCollapse'>\r\n                        <div className=\"xs-customConstraint\">\r\n                            <label style={styles.label}>Type</label>\r\n                            <select className=\"customSelector\"\r\n                                    value={constraint}\r\n                                    onChange={handleConstraintChange}>\r\n                                \r\n                                <option value=\"iriRef\">{iriStr}</option>\r\n                                <option value=\"prefixedIri\">QName</option>\r\n                                <option value=\"valueSet\">ValueSet</option>\r\n                                <option value=\"literal\">Literal</option>\r\n                                <option value=\"nonliteral\">NonLiteral</option>\r\n                                <option value=\"iri\">IRI</option>\r\n                                <option value=\"bnode\">BNode</option>\r\n                            </select>\r\n                        </div>     \r\n\r\n            \r\n                        <Collapse isOpen={isNameOpen}>\r\n                            <div className=\"xs-customConstraint\">\r\n                                <label style={styles.label}>Name</label>\r\n                                <input  type=\"text\" \r\n                                        className=\"name\"\r\n                                        value={name}\r\n                                        onChange={handleNameChange}/>\r\n                            </div> \r\n                        </Collapse>\r\n\r\n                         <Collapse isOpen={isPrefixOpen}>\r\n                            <div className=\"xs-customConstraint\">\r\n                                <label style={styles.label}>Prefix </label>\r\n                                <select className=\"customSelector\" value={prefix} onChange={handlePrefixChange}>\r\n                                    <option value=\"example\">example</option>\r\n                                    { \r\n                                    context.prefixes.map((pre) =>{\r\n                                        if(pre.prefixName!=''){\r\n                                            return <option key={pre.id} value={pre.prefixValue}>{pre.prefixName}</option>\r\n                                        }                        \r\n                                    })\r\n                                }\r\n                                </select>\r\n                            </div>\r\n                        </Collapse>\r\n\r\n\r\n                        <Collapse isOpen={isValueSetOpen}>\r\n                            <ValueSetContainer  entity={entity} valueSet={valueSet} setValueSet={setValueSet}/>\r\n                        </Collapse>\r\n                    </Collapse>                                                         \r\n                </div>\r\n  \r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default ConstraintComp;\r\n\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport shexUtils from '../../../../../../utils/shexUtils';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction ShapeRefComp (props) {\r\n    \r\n    const {entity} = props;\r\n    const context = useContext(AppContext);\r\n    const styles = Properties.getInstance().getShapeRefStyle();\r\n\r\n    let refValue = '';\r\n    let refOpen = false;\r\n    if(entity.shapeRef.shape != null){\r\n        refValue = entity.shapeRef.shape.id;\r\n        refOpen = true;\r\n    }\r\n\r\n\r\n    const [shapeRef,setShapeRef] = useState(refValue);\r\n\r\n\r\n    const handleShapeRefChange = function(e){\r\n        const shapeId = e.target.value;\r\n        let shapeRef = null;\r\n        let refSelector = '';\r\n        if(shapeId!=''){\r\n            shapeRef = shexUtils.getShapeById(context.shapes,shapeId);\r\n            refSelector = shapeRef.id;\r\n        }\r\n\r\n        entity.shapeRef.shape = shapeRef;\r\n        \r\n        //If there is a shapeRef it can't be an inlineShape\r\n        entity.triples = [];\r\n\r\n        context.emit();\r\n        setShapeRef(refSelector);\r\n    }\r\n     \r\n    return ( \r\n            <div className=\"xs-gridBox\" style={styles.body}>\r\n                   <label className='gridLabel' style={styles.label}>Shape <br/>Reference</label>\r\n                    <select className=\"customSelector refSelector\"\r\n                            value={shapeRef}\r\n                            onChange={handleShapeRefChange}>\r\n                    <option value=''>none</option>\r\n                \r\n                    { \r\n                    context.shapes.map(shape =>{\r\n                        return <option key={shape.id} value={shape.id}>{'@'+shape.type}</option>\r\n                        })\r\n                    }\r\n                    </select>  \r\n                 \r\n            </div>);                          \r\n}\r\n\r\n\r\n\r\nexport default ShapeRefComp;\r\n\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../../App';\r\nimport NumericInput from 'react-numeric-input';\r\nimport Properties from '../../../../../../../conf/properties';\r\n\r\nfunction FacetComp (props) {\r\n    const {facet,deleteFacet} = props;\r\n    const context = useContext(AppContext);\r\n    const [type,setType]=useState(facet.type);\r\n    const [value,setValue]=useState(facet.value);\r\n    const styles = Properties.getInstance().getFacetStyle();\r\n   \r\n    const handleTypeChange = function(type){\r\n        facet.type = type;\r\n        setType(type);\r\n        context.emit();\r\n    }\r\n\r\n    const handleValueChange = function(value){\r\n        facet.value = value;\r\n        setValue(value);\r\n        context.emit();\r\n    }\r\n\r\n    return ( <div className=\"facetInputs\">\r\n                <select className=\"customSelector\"\r\n                        value={type}\r\n                        onChange={(e)=>handleTypeChange(e.target.value)}>\r\n                        <option value=\"length\">length</option>\r\n                        <option value=\"minlength\">minlength</option>\r\n                        <option value=\"maxlength\">maxlength</option>\r\n                        <option value=\"totaldigits\">totaldigits</option>\r\n                        <option value=\"fractiondigits\">fractiondigits</option>\r\n                        <option value=\"mininclusive\">mininclusive</option>\r\n                        <option value=\"minexclusive\">minexclusive</option>\r\n                        <option value=\"maxinclusive\">maxinclusive</option>\r\n                        <option value=\"maxexclusive\">maxexclusive</option>\r\n                </select>\r\n                <NumericInput   \r\n                    className=\"form-control\" \r\n                    min={0}\r\n                    value={value}\r\n                    onChange={(e)=>handleValueChange(e)}/>\r\n\r\n                <button className=\"tripleBtns deleteFacetBtn mdc-icon-button material-icons\" \r\n                    style={styles.delete}\r\n                    onClick={()=>deleteFacet(facet.id)} \r\n                    title=\"Delete Facet\">\r\n                    delete\r\n                </button>\r\n                \r\n        </div>);                          \r\n}\r\n\r\n\r\n\r\nexport default FacetComp;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport NumericInput from 'react-numeric-input';\r\nimport shexUtils from '../../../../../../utils/shexUtils';\r\nimport FacetComp from './facets/FacetComp';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction FacetContainer (props) {\r\n    const {entity} = props;\r\n    const context = useContext(AppContext);\r\n    const [facets,setFacets]=useState(entity.facets);\r\n    const styles = Properties.getInstance().getFacetStyle();\r\n\r\n    const deleteFacet= function(id){\r\n        const newFacets = facets.filter(f => f.id != id);\r\n        setFacets(newFacets);\r\n        entity.facets = newFacets;\r\n        context.emit();\r\n    }\r\n\r\n    const addFacet = function(){\r\n        const facet = shexUtils.addFacet(facets);\r\n        setFacets([...facets,facet]);\r\n        entity.addFacet(facet);\r\n        context.emit();\r\n    }\r\n\r\n  //  console.log(entity)\r\n    return (<div className=\"xs-gridBox\" style={styles.body}>\r\n                <label className='gridLabel' style={styles.label}>Facet</label>\r\n                <div className=\"facetCont\">\r\n                    {facets.map(f =>{\r\n                            return (<FacetComp \r\n                                    key={f.id} \r\n                                    facet={f}\r\n                                    deleteFacet={deleteFacet} />)\r\n                    })}\r\n                    <button className=\"addFacet\" style={styles.add} title=\"Add Facet\" onClick={addFacet}>+ Facet</button>      \r\n                </div>        \r\n            </div>);                          \r\n}\r\n\r\n\r\n\r\nexport default FacetContainer;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport NumericInput from 'react-numeric-input';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction CardinalityComp (props) {\r\n    \r\n        const {triple} = props;\r\n        const context = useContext(AppContext);\r\n        const styles = Properties.getInstance().getCardinalityStyle();\r\n\r\n        let cardValue = triple.cardinality.getCardType();\r\n        let initialExactly = false;\r\n        let initialRange = false;\r\n        let initialMin = 1;\r\n        let initialMax = 10;\r\n        if(cardValue.length>1){ //not simple card\r\n                initialMin = triple.cardinality.min;\r\n                if(cardValue == 'exactly' || cardValue == 'minLimit'){\r\n                        initialExactly = true;\r\n                }\r\n                if(cardValue == 'range'){\r\n                        initialRange = true;\r\n                        initialMax = triple.cardinality.max;\r\n                }\r\n                \r\n         \r\n        }\r\n\r\n        const [cardinality,setCardinality] = useState(cardValue);\r\n        const [isExactly,setExactly] = useState(initialExactly);\r\n        const [isRange,setRange] = useState(initialRange);\r\n        const [min,setMin] = useState(initialMin);\r\n        const [max,setMax] = useState(initialMax);\r\n\r\n        const handleCardinalityChange = function(e){\r\n                let newCardinality = e.target.value;\r\n                triple.setCardinality(newCardinality);\r\n                context.emit();\r\n                setCardinality(newCardinality)\r\n                setExactly(false);\r\n                setRange(false);\r\n                checkCollapses(newCardinality);\r\n        }\r\n\r\n        const checkCollapses = function(card){\r\n                if(card == 'exactly' || card == 'minLimit' ){\r\n                        setMin(1);\r\n                        setExactly(true);\r\n                }\r\n\r\n                if(card == 'range'){\r\n                        setMin(1);\r\n                        setMax(10);\r\n                        setRange(true);\r\n                }\r\n        }\r\n\r\n\r\n\r\n        const handleMinChange = function(valueAsNumber,kind){\r\n                triple.setCardinality(kind,valueAsNumber,max);\r\n                context.emit();\r\n                setMin(valueAsNumber);\r\n        }\r\n\r\n        const handleMaxChange = function(valueAsNumber){\r\n                triple.setCardinality('range',min,valueAsNumber);\r\n                context.emit();\r\n                setMax(valueAsNumber);\r\n        }\r\n\r\n        return ( \r\n                <div className=\" xs-gridBox\" style={styles.body}>\r\n                        <label className='gridLabel' style={styles.label}>Type</label>\r\n                        <select className=\"customSelector\" \r\n                                value={cardinality} \r\n                                onChange={handleCardinalityChange} \r\n                                title=\"Cardinality\">\r\n                                <option value=\"\">Exactly one</option>\r\n                                <option value=\"*\">Zero or more</option>\r\n                                <option value=\"+\">One at least</option>\r\n                                <option value=\"?\">One or none</option>\r\n                                <option value=\"exactly\">Exactly value</option>\r\n                                <option value=\"minLimit\">Inferior Limit</option>\r\n                                <option value=\"range\">Range</option>\r\n                        </select> \r\n\r\n                    \r\n                        <Collapse isOpen={isExactly} className=\"rangeCardinality\">\r\n                                <label className=\"tripleNameLabel\" style={styles.label}>Value</label>\r\n                                <NumericInput   className=\"form-control\" \r\n                                                min={0} \r\n                                                value={min}\r\n                                                onChange={(value)=>{handleMinChange(value,cardinality)}}/>\r\n                        </Collapse> \r\n\r\n                        \r\n                        <Collapse isOpen={isRange} className=\"rangeCardinality\">\r\n                                <label className=\"tripleNameLabel\" style={styles.label}>Min</label>\r\n                                <NumericInput   className=\"form-control\" \r\n                                                min={0} \r\n                                                value={min}\r\n                                                onChange={(value)=>{handleMinChange(value,'range')}}/>\r\n\r\n                                <label className=\"tripleNameLabel\" style={styles.label}>Max</label>\r\n                                <NumericInput   className=\"form-control\" \r\n                                                min={0} \r\n                                                value={max}\r\n                                                onChange={handleMaxChange}/>\r\n\r\n                        </Collapse> \r\n\r\n                </div>);                          \r\n}\r\n\r\n\r\n\r\nexport default CardinalityComp;\r\n\r\n","import React,{useState} from 'react';\r\nimport { Collapse } from 'reactstrap';\r\nimport TripleHeader from './headers/TripleHeader';\r\nimport CustomComp from './customize/CustomComp';\r\nimport ConstraintComp from './customize/ConstraintComp';\r\nimport ShapeRefComp from './customize/ShapeRefComp';\r\nimport FacetContainer from './customize/FacetContainer';\r\nimport CardinalityComp from './customize/CardinalityComp';\r\nimport Properties from '../../../../../conf/properties';\r\n\r\nfunction NodeComponent (props) {\r\n    \r\n    const {entity,isCustomOpen,customClass} = props;\r\n    const [isTripleCustomOpen,setTripleCustomOpen] = useState(false);\r\n    const [isConstraintsOpen,setConstraintsOpen] = useState(true);\r\n    const [isRefOpen,setRefOpen] = useState(false);\r\n    const [isFacetOpen,setFacetOpen] = useState(false);\r\n    const [isCardinalityOpen,setCardinalityOpen] = useState(false);\r\n    const [allCollased,setAllCollapsed] = useState(false);\r\n    const [colapseBtn,setColapseBtn] = useState('menu');\r\n\r\n\r\n    const shapeStyles = Properties.getInstance().getShapeStyle();\r\n    const tripleStyles = Properties.getInstance().getTripleStyle();\r\n    const constStyles = Properties.getInstance().getConstraintStyle();\r\n    const facetStyles = Properties.getInstance().getFacetStyle();\r\n    const refStyles = Properties.getInstance().getShapeRefStyle();\r\n    const cardStyles = Properties.getInstance().getCardinalityStyle();\r\n\r\n    const customizeTriple = function(){\r\n        collapseAll(false);\r\n        setTripleCustomOpen(!isTripleCustomOpen);\r\n        setAllCollapsed(false);\r\n\r\n        if(allCollased){\r\n            setTripleCustomOpen(true);\r\n            changeCollapseBtn();\r\n        }\r\n\r\n    }\r\n\r\n    const customizeContraints = function(){\r\n        collapseAll(false);\r\n        setConstraintsOpen(!isConstraintsOpen);\r\n        setAllCollapsed(false);\r\n\r\n        if(allCollased){\r\n            setConstraintsOpen(true);\r\n            changeCollapseBtn();\r\n        }\r\n    }\r\n\r\n    const customizeRef = function(){\r\n        collapseAll(false);\r\n        setRefOpen(!isRefOpen);\r\n        setAllCollapsed(false);\r\n\r\n        if(allCollased){\r\n            setRefOpen(true);\r\n            changeCollapseBtn();\r\n        }  \r\n    }\r\n\r\n      const customizeFacet = function(){\r\n        collapseAll(false);\r\n        setFacetOpen(!isFacetOpen);\r\n        setAllCollapsed(false);\r\n\r\n        if(allCollased){\r\n            setFacetOpen(true);\r\n            changeCollapseBtn();\r\n        }  \r\n    }\r\n\r\n    const customizeCardinality = function(){\r\n        collapseAll(false);\r\n        setCardinalityOpen(!isCardinalityOpen);\r\n        setAllCollapsed(false);\r\n\r\n        if(allCollased){\r\n            setCardinalityOpen(true);\r\n            changeCollapseBtn();\r\n        } \r\n        \r\n    }\r\n\r\n\r\n    const collapseAll = function(collapse){\r\n        setTripleCustomOpen(collapse);\r\n        setConstraintsOpen(collapse);\r\n        setRefOpen(collapse);\r\n        setFacetOpen(collapse);\r\n        setCardinalityOpen(collapse);\r\n    }\r\n\r\n    const collapseToggle = function(){\r\n        collapseAll(!allCollased);\r\n        \r\n\r\n        setAllCollapsed(!allCollased);\r\n        changeCollapseBtn();\r\n    }\r\n\r\n    const changeCollapseBtn = function(){\r\n        if(colapseBtn=='menu'){\r\n            setColapseBtn('menu_open');\r\n        }else{\r\n            setColapseBtn('menu');\r\n        }\r\n    }\r\n\r\n    const getCardinalityStyleIfNeeded = function(){\r\n        if(entity.cardinality)return 'zone-card';\r\n        return 'zone';\r\n    }\r\n\r\n    const getCardinalityIfNeeded = function(){\r\n        if(entity.cardinality){\r\n            return(\r\n                <button className='btnZone'style={cardStyles.body}\r\n                onClick={customizeCardinality}>Cardinality</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    const getCardinalityCompIfNeeded = function(){\r\n        if(entity.cardinality){\r\n            return(\r\n                <Collapse  isOpen={isCardinalityOpen}>\r\n                    <CardinalityComp triple={entity}/>      \r\n                </Collapse> \r\n            )\r\n        }\r\n    }\r\n    \r\n\r\n    const getEntityStyle = function(){\r\n        if(entity.cardinality){//Is a triple? (Not really elegant I know...)\r\n            return tripleStyles;\r\n        }\r\n        return shapeStyles;\r\n    }\r\n    \r\n\r\n    return ( \r\n            <Collapse  isOpen={isCustomOpen}> \r\n\r\n                <div className={getCardinalityStyleIfNeeded()} style={getEntityStyle().body}>\r\n                    <button className='btnZone'style={getEntityStyle().body}\r\n                    onClick={customizeTriple}>{entity.getEntityName()}</button>\r\n                   <button className='btnZone'style={constStyles.body}\r\n                    onClick={customizeContraints}>Constraint</button>\r\n                    <button className='btnZone'style={facetStyles.body}\r\n                    onClick={customizeFacet}>Facet</button>\r\n                    <button className='btnZone'style={refStyles.body}\r\n                    onClick={customizeRef}>ShapeReference</button>\r\n                    {getCardinalityIfNeeded()}\r\n                    <button className=\"collapseBtn-triple mdc-icon-button material-icons\" \r\n                    style={getEntityStyle().collapse}\r\n                    onClick={collapseToggle}\r\n                    title=\"ShowAll\">\r\n                    {colapseBtn}\r\n                    </button>\r\n                </div> \r\n\r\n                <CustomComp  entity={entity} \r\n                        isCustomOpen={isTripleCustomOpen}\r\n                        bnode={false}\r\n                        customClass={customClass}/>\r\n\r\n                <Collapse   isOpen={isConstraintsOpen}>\r\n                    <ConstraintComp  entity={entity} />           \r\n                </Collapse> \r\n\r\n                <Collapse   isOpen={isFacetOpen}>\r\n                    <FacetContainer entity={entity}/> \r\n                </Collapse> \r\n\r\n                <Collapse  isOpen={isRefOpen}>\r\n                    <ShapeRefComp entity={entity}/>      \r\n                </Collapse> \r\n                \r\n                {getCardinalityCompIfNeeded()}\r\n\r\n            </Collapse>  );                          \r\n}\r\n\r\n\r\nexport default NodeComponent;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport TripleHeader from './headers/TripleHeader';\r\nimport CustomComp from './customize/CustomComp';\r\nimport ConstraintComp from './customize/ConstraintComp';\r\nimport ShapeRefComp from './customize/ShapeRefComp';\r\nimport FacetContainer from './customize/FacetContainer';\r\nimport CardinalityComp from './customize/CardinalityComp';\r\nimport Properties from '../../../../../conf/properties';\r\nimport NodeComponent from './NodeComponent';\r\nimport Triple from '../../../../../entities/shexEntities/triple';\r\n\r\nfunction TripleComponent (props) {\r\n    \r\n    const context = useContext(AppContext);\r\n    const {triple,deleteTriple,styles} = props;\r\n    const [isCustomOpen,setCustomOpen] = useState(false);\r\n    const [isTriplesOpen,setTriplesOpen] = useState(false);\r\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\r\n    const [triples,setTriples] = useState(triple.triples);\r\n\r\n    const subTripleStyles = Properties.getInstance().getSubTripleStyle();\r\n\r\n    const customize  = function(){\r\n        setCustomOpen(!isCustomOpen);\r\n    }\r\n\r\n    const addTriple = function(){\r\n        const id = triple.triplesCount;\r\n        const subTriple = new Triple(id);\r\n\r\n         // If there is a inline shape it can't be a shapeRef\r\n        triple.shapeRef.shape = null;\r\n\r\n        setTriples([...triples,subTriple]);\r\n        triple.addTriple(subTriple);\r\n\r\n      \r\n        context.emit();       \r\n    }\r\n\r\n     const subDeleteTriple = function(tripleId){\r\n        const newTriples = triple.triples.filter( subTriple => subTriple.id != tripleId);\r\n        setTriples(newTriples)\r\n        triple.triples = newTriples;\r\n        context.emit(); \r\n        \r\n    }\r\n\r\n     const collapseTriples = function(){\r\n        setCustomOpen(false);\r\n        setTriplesOpen(!isTriplesOpen);\r\n        \r\n        if(colapseBtn=='menu'){\r\n            setColapseBtn('menu_open');\r\n        }else{\r\n            setColapseBtn('menu');\r\n        }\r\n    }\r\n\r\n\r\n    return ( \r\n        <div>\r\n            <TripleHeader triple={triple} \r\n                          deleteTriple={deleteTriple}\r\n                          customize={customize}\r\n                          collapseTriples={collapseTriples} \r\n                          colapseBtn={colapseBtn}\r\n                          styles={styles}/>\r\n\r\n            <NodeComponent entity={triple} isCustomOpen={isCustomOpen} customClass={'customTriple'} /> \r\n           \r\n            <Collapse  isOpen={isTriplesOpen}>\r\n                     <div className=\"subTriples\" style={styles.body}>\r\n                        {triples.map(subTriple =>\r\n                            <TripleComponent key={subTriple.id}\r\n                                            triple={subTriple}\r\n                                            deleteTriple={subDeleteTriple}\r\n                                            styles={subTripleStyles}/> \r\n                        )}\r\n                    \r\n                        <button className=\"xs-addSubTripleButton\"\r\n                                style={styles.addSubTriple} \r\n                                onClick={addTriple} \r\n                                title=\"Add Triple\">\r\n                                + Triple Constraint\r\n                        </button>        \r\n                    \r\n                        </div>\r\n                </Collapse> \r\n\r\n\r\n        </div>);                          \r\n}\r\n\r\n\r\nexport default TripleComponent;\r\n","import React,{useContext,useState} from 'react';\r\nimport {AppContext} from '../../../../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport ShapeHeader from  './headers/ShapeHeader';\r\nimport CustomComp from './customize/CustomComp';\r\nimport TripleComponent from './TripleComponent';\r\nimport Triple from '../../../../../entities/shexEntities/triple';\r\nimport Properties from '../../../../../conf/properties';\r\n\r\nimport NodeComponent from './NodeComponent';\r\n\r\nexport const ShapeContext = React.createContext();\r\n\r\nfunction ShapeComponent (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const {shape} = props;\r\n    const styles = Properties.getInstance().getShapeStyle();\r\n    const tripleStyles = Properties.getInstance().getTripleStyle();\r\n    \r\n    const [triples,setTriples] = useState(shape.triples);\r\n    const [isCustomOpen,setCustomOpen] = useState(false);\r\n    const [isTriplesOpen,setTriplesOpen] = useState(true);\r\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\r\n\r\n    let initialDisabled = false;\r\n    if(shape.type.value == '')initialDisabled = true;\r\n    const [disabled,setDisabled] = useState(initialDisabled);\r\n\r\n\r\n    const addTriple = function(){\r\n        const id = shape.triplesCount;\r\n        const triple = new Triple(id);\r\n\r\n        setTriples([...triples,triple]);\r\n        \r\n        shape.addTriple(triple);\r\n        //A ShapeRef cannot coexist with a inlineShape\r\n        shape.shapeRef.shape = null;\r\n        context.emit();       \r\n    }\r\n\r\n    const deleteTriple = function(tripleId){\r\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\r\n        setTriples(newTriples)\r\n        shape.triples = newTriples;\r\n        context.emit();\r\n        \r\n    }\r\n\r\n\r\n    const customizeShape = function(){\r\n        //Completly collapsed shape open just customShape\r\n        if(!isCustomOpen && !isTriplesOpen ){\r\n            setCustomOpen(true);\r\n            setTriplesOpen(false);\r\n        }else{\r\n            //CustomShape opened  opens triples on collapse\r\n            setCustomOpen(!isCustomOpen);\r\n            setTriplesOpen(!isTriplesOpen);\r\n        }\r\n\r\n        setColapseBtn('menu');\r\n    }\r\n\r\n    const collapseTriples = function(){\r\n        setCustomOpen(false);\r\n        setTriplesOpen(!isTriplesOpen);\r\n        \r\n        if(colapseBtn=='menu'){\r\n            setColapseBtn('menu_open');\r\n        }else{\r\n            setColapseBtn('menu');\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <ShapeContext.Provider value={{disabled:disabled,setDisabled:setDisabled}}>\r\n            <div className=\"shape\" style={styles.header}>\r\n                <ShapeHeader shape={shape} \r\n                            customizeShape={customizeShape} \r\n                            collapseTriples={collapseTriples} \r\n                            colapseBtn={colapseBtn}/>\r\n\r\n\r\n                <NodeComponent  entity={shape} isCustomOpen={isCustomOpen} customClass={'customShape'}/> \r\n\r\n                <Collapse  isOpen={isTriplesOpen}>\r\n                     <div className=\"triples\" style={styles.body}>\r\n                        {triples.map(triple =>\r\n                            <TripleComponent key={triple.id}\r\n                                            triple={triple}\r\n                                            deleteTriple={deleteTriple}\r\n                                            styles={tripleStyles}/> \r\n                        )}\r\n                    \r\n                        <button className=\"xs-addTripleButton\"\r\n                                style={styles.addTriple} \r\n                                onClick={addTriple} \r\n                                disabled={disabled}\r\n                                title=\"Add Triple\">\r\n                                + Triple Constraint\r\n                        </button>        \r\n                    \r\n                        </div>\r\n                </Collapse> \r\n\r\n\r\n            </div>\r\n        </ShapeContext.Provider>\r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default ShapeComponent;\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../../App';\r\nimport ShapeComponent from './shEx/ShapeComponent';\r\nimport Properties from '../../../../conf/properties';\r\n\r\nfunction Shapes (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const styles = Properties.getInstance().getShapeStyle();\r\n\r\n    return ( \r\n        <div className='showAsist'>\r\n            {context.shapes.map(shape =>{return  <ShapeComponent shape={shape} key={shape.id}/> })}\r\n                <div className=\"addCont\">\r\n                    <button className=\"xs-addShapeButton\"\r\n                            style={styles.addShape} \r\n                            onClick={context.addShape}\r\n                            title=\"Add Shape\">\r\n                            + Shape\r\n                    </button>\r\n                </div>\r\n        </div>\r\n        );\r\n}\r\n\r\n\r\nexport default Shapes;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\n\r\nfunction AssistLoader (props) {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    return (<div className='hideLoader'>\r\n                <div className=\"loader\"></div>\r\n            </div>);\r\n}\r\n\r\n\r\nexport default AssistLoader;\r\n\r\n","import React,{useContext} from 'react';\r\nimport {AppContext} from '../../../App';\r\nimport CodeMirror from 'codemirror';\r\nimport Editor from '../../../entities/editor';\r\nimport '../../../css/btn/button.css';\r\n\r\nfunction AssistError (props) {\r\n\r\n    const context = useContext(AppContext);\r\n\r\n    const handle = function(){\r\n        let yashe = Editor.getYashe();\r\n        CodeMirror.signal(yashe,'convert');\r\n    }\r\n\r\n    return (<div className='infoAssist'>\r\n                <div className='hideError'>\r\n                    <div className='shapeErrorCont'>\r\n                        <div className='shapeError'></div>\r\n                        <p className='errorMsg'></p>\r\n                    </div>\r\n                </div>\r\n                <div className='hideConvert'>\r\n                    <a className=\"button\">\r\n                        <span onClick={handle}>Convert</span>\r\n                    </a>\r\n                </div>\r\n            </div>);\r\n}\r\n\r\n\r\nexport default AssistError;\r\n","import React,{useContext,useState,useEffect} from 'react';\r\nimport {AppContext} from '../../../../../App';\r\nimport Properties from '../../../../../conf/properties';\r\n\r\nfunction PrefixComp (props) {\r\n\r\n        const context = useContext(AppContext);\r\n        const {prefix} = props;\r\n        const styles = Properties.getInstance().getPrefixStyle();\r\n        const [name,setName] = useState(prefix.prefixName);\r\n        const [value,setValue] = useState(prefix.prefixValue);\r\n        const open = '<';\r\n        const close = '>';\r\n  \r\n        const handleAlias  = function(e,prefix){\r\n                prefix.prefixName = e.target.value;\r\n                setName(e.target.value);\r\n                context.emitPref();\r\n        }\r\n\r\n        const handleIri  = function(e,prefix){\r\n                prefix.prefixValue = e.target.value;\r\n                setValue(e.target.value);\r\n                context.emitPref();\r\n        }\r\n      \r\n        return (\r\n                <div className='xs-prefixHeader' style={styles.header}>            \r\n                    <input  type=\"text\" \r\n                            className=\"prefixName prefixInput\"\r\n                            placeholder=\"eg: schema\"\r\n                            value={name}\r\n                            onChange={(e)=>handleAlias(e,prefix)}\r\n                            title=\"Alias\"/>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\r\n                    <input  type=\"text\" \r\n                            className=\"prefixInput\"\r\n                            value={value}\r\n                            placeholder=\"eg: http://schema.org/\"\r\n                            onChange={(e)=>handleIri(e,prefix)}\r\n                            title=\"IRI\"/>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\r\n                    <button className=\"deletePrefix mdc-icon-button material-icons\" \r\n                            style={styles.delete}\r\n                            onClick={()=>context.deletePrefix(prefix.id)}\r\n                            title=\"Delete Prefix\">\r\n                            delete\r\n                    </button>                              \r\n                </div>)\r\n     \r\n}\r\n\r\nexport default PrefixComp;\r\n","import React,{useContext,useState,useEffect} from 'react';\r\nimport {AppContext} from '../../../../App';\r\nimport PrefixComp from './prefix/PrefixComp';\r\nimport Properties from '../../../../conf/properties';\r\nimport '../../../../css/shexComponents/headers/PrefixHeader.css';\r\n\r\nfunction Prefixes (props) {\r\n\r\n        const context = useContext(AppContext);\r\n        const styles = Properties.getInstance().getPrefixStyle();\r\n        return (\r\n                <div>\r\n                        {context.prefixes.map(prefix =>{\r\n                                return(<PrefixComp key={prefix.id} prefix={prefix}/>)\r\n                        })}\r\n                        <div className=\"addCont\">\r\n                        <button className=\"addPrefixBtn\"\r\n                                style={styles.add}\r\n                                onClick={context.addPrefix}\r\n                                title=\"Add Prefix\">\r\n                                + Prefix\r\n                        </button>\r\n                        </div>   \r\n                </div>\r\n                );\r\n}\r\n\r\nexport default Prefixes;\r\n","import React,{useContext,useState} from 'react';\r\nimport { Textbox } from 'react-inputs-validation';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction ShapeView (props) {\r\n\r\n        const {colors} = props;\r\n        const styles = Properties.getInstance().getShapeStyle();\r\n\r\n        return ( <div className='xs-header' style={styles.header}>            \r\n                        <label style={styles.label}>Shape</label>\r\n                        <Textbox/> \r\n                        <button style={styles.custom} \r\n                        className=\"buildBtn mdc-icon-button material-icons\">build</button>\r\n                        <button style={styles.delete} \r\n                        className=\"deleteShapeBtn mdc-icon-button material-icons\" >delete</button>\r\n                        <button style={styles.collapse} \r\n                        className=\"collapseBtn mdc-icon-button material-icons\">menu</button>\r\n                    </div>);\r\n}\r\n\r\nexport default ShapeView;\r\n","import React,{useContext,useState} from 'react';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction TripleView (props) {\r\n\r\n        const styles = Properties.getInstance().getTripleStyle();\r\n\r\n        return (  <div className=\"xs-tripleHeader\" style={styles.header}>            \r\n            <input  type=\"text\" \r\n                    className=\"name\"\r\n                    placeholder=\"eg: name\"\r\n                    title=\"Triple Constraint Name\"/>\r\n\r\n            <button className=\"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"\r\n                    style={styles.custom}\r\n                    title=\"Customize Triple\">\r\n                    build\r\n            </button>\r\n\r\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\r\n                    style={styles.delete}\r\n                    title=\"Delete Triple Constraint\">\r\n                    delete\r\n            </button>\r\n        </div>);\r\n}\r\n\r\nexport default TripleView;\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport {AssistContext} from '../../../../Assistant';\r\nimport '../../../../../../css/shexComponents/customize/Custom.css'\r\nimport '../../../../../../css/color/colors.css'\r\nimport { ChromePicker,SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport { useCookies } from 'react-cookie';\r\nimport {SHAPE_COLORS} from '../../../../../../conf/colors';\r\nimport {DEFAULTS} from '../../../../../../conf/config';\r\n\r\nfunction ColorPicker (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const asssistContext = useContext(AssistContext);\r\n    const {namespace,element,cookie} = props;\r\n    const [color,setColor] = useState(namespace[element]);\r\n    const [isDisplay,setDisplay] = useState(false);\r\n    const [cookies, setCookie] = useCookies('cookies');\r\n    \r\n    const handleClick = () => {\r\n      setDisplay(!isDisplay);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      //setDisplay(false);\r\n     // setCookie('shapeColors', SHAPE_COLORS, { path: '/' });\r\n    };\r\n\r\n    const handle = (e) => {\r\n      setColor(e.hex);\r\n      asssistContext.handleChange(e.hex,element,namespace)\r\n      if(DEFAULTS.saveColors){\r\n        setCookie(cookie, namespace, { path: '/' });     \r\n      }\r\n    };\r\n\r\n    const styles = reactCSS({\r\n      'default': {\r\n        color: {\r\n          width: '36px',\r\n          height: '14px',\r\n          borderRadius: '2px',\r\n          background: color,\r\n        },\r\n        swatch: {\r\n          padding: '3px',\r\n          background: '#fff',\r\n          borderRadius: '1px',\r\n          boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n          display: 'inline-block',\r\n          cursor: 'pointer',\r\n        },\r\n        popover: {\r\n          position: 'absolute',\r\n          transform: 'translateX(-80%)',\r\n          zIndex: '5000',\r\n        },\r\n        cover: {\r\n          position: 'fixed',\r\n          top: '0px',\r\n          right: '0px',\r\n          bottom: '0px',\r\n          left: '0px',\r\n        },\r\n      },\r\n    });\r\n\r\n\r\n    return (\r\n            <div>\r\n                <div style={ styles.swatch } onClick={ handleClick }>\r\n                    <div style={ styles.color } />\r\n                </div>\r\n                { isDisplay ? \r\n                    <div style={ styles.popover }>\r\n                        <div style={ styles.cover } onClick={handleClose}/>\r\n                        <ChromePicker  color={color} onChange={handle} onChangeComplete={handleClose}/>\r\n                    </div> \r\n                    \r\n                    : null \r\n                }\r\n            </div>       \r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default ColorPicker;\r\n\r\n","import React,{useState,useContext} from 'react';\r\nimport {AppContext} from '../../../../../../App';\r\nimport ColorPicker from './ColorPicker';\r\nimport '../../../../../../css/shexComponents/customize/Custom.css'\r\nimport '../../../../../../css/color/colors.css'\r\n\r\nfunction ColorComp (props) {\r\n\r\n    const context = useContext(AppContext);\r\n    const {namespace,pickers,labelType,bodyType,cookie} = props;\r\n\r\n    return (\r\n        <div className='customColapse' style={bodyType}>             \r\n            <div style={bodyType}>\r\n                 <div className='xs-pickers'>\r\n                    {pickers.map(p=>{\r\n                        return(<div className='picker' key={p.element}>\r\n                                    <label style={labelType}>{p.tag}</label>\r\n                                    <ColorPicker namespace={namespace} element={p.element} cookie={cookie}/>\r\n                                </div>)\r\n                    })}\r\n                </div>\r\n            </div> \r\n        </div>               \r\n    );\r\n                                   \r\n    \r\n}\r\n\r\n\r\nexport default ColorComp;\r\n","/** COLOR PICKERS */\r\n\r\nexport const SHAPE_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Header',element:'header'},\r\n        {tag:'Custom',element:'custom'},\r\n        {tag:'Custom Fill',element:'customFill'},\r\n        {tag:'Delete',element:'delete'},\r\n        {tag:'Delete Fill',element:'deleteFill'},\r\n        {tag:'Collapse',element:'collapse'},\r\n        {tag:'Shape Body',element:'body'}];\r\n\r\nexport const TRIPLE_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Header',element:'header'},\r\n        {tag:'Custom',element:'custom'},\r\n        {tag:'Custom Fill',element:'customFill'},\r\n        {tag:'Constraint',element:'constraint'},\r\n        {tag:'Constraint Fill',element:'constraintFill'},\r\n        {tag:'Facet',element:'facet'},\r\n        {tag:'Facet Fill',element:'facetFill'},\r\n        {tag:'Shape Ref',element:'shapeRef'},\r\n        {tag:'Shape Ref Fill',element:'shapeRefFill'},\r\n        {tag:'Cardinality',element:'cardinality'},\r\n        {tag:'Cardinality Fill',element:'cardinalityFill'},\r\n        {tag:'Delete',element:'delete'},\r\n        {tag:'Delete Fill',element:'deleteFill'},\r\n        {tag:'Collapse',element:'collapse'},\r\n        {tag:'Triple Body',element:'body'},];\r\n\r\nexport const CONSTRAINT_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Constraint Body',element:'body'},\r\n        {tag:'Add Value',element:'add'},\r\n        {tag:'Add Value Fill',element:'addFill'},\r\n        {tag:'Delete Value',element:'delete'}];\r\n\r\nexport const FACET_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Facet Body',element:'body'},\r\n        {tag:'Add Facet',element:'add'},\r\n        {tag:'Add Facet Fill',element:'addFill'},\r\n        {tag:'Delete Facet',element:'delete'}];\r\n\r\nexport const SHAPEREF_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Shape Ref Body',element:'body'}];\r\n\r\nexport const CARDINALITY_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Cardinality Body',element:'body'}];\r\n\r\nexport const BTNS_PICKERS = [\r\n        {tag:'Add Triple Constraint',element:'addTriple'},\r\n        {tag:'Add Triple Constraint Fill',element:'addTripleFill'},\r\n        {tag:'Add Shape',element:'addShape'},\r\n        {tag:'Add Shape Fill',element:'addShapeFill'},];\r\n\r\nexport const PREFIX_PICKERS = [\r\n        {tag:'Labels',element:'label'},\r\n        {tag:'Header',element:'header'},\r\n        {tag:'Delete',element:'delete'},\r\n        {tag:'Delete Fill',element:'deleteFill'},\r\n        {tag:'Add Prefix',element:'add'},\r\n        {tag:'Add Prefix Fill',element:'addFill'},];","import React,{useContext,useState} from 'react';\r\nimport ShapeView from './views/ShapeView';\r\nimport TripleView from './views/TripleView';\r\nimport ColorComp from './utils/ColorComp';\r\nimport {SHAPE_PICKERS,\r\n        TRIPLE_PICKERS,\r\n        CONSTRAINT_PICKERS,\r\n        FACET_PICKERS,\r\n        SHAPEREF_PICKERS,\r\n        CARDINALITY_PICKERS,\r\n        BTNS_PICKERS} from '../../../../../conf/pickers';\r\n\r\nimport {SHAPE_COLORS,\r\n        TRIPLE_COLORS,\r\n        CONSTRAINT_COLORS,\r\n        FACET_COLORS,\r\n        SHAPEREF_COLORS,\r\n        CARDINALITY_COLORS,\r\n        BTNS_COLORS} from '../../../../../conf/colors';\r\n\r\n\r\nimport Properties from '../../../../../conf/properties';\r\n\r\nfunction ShapeColors (props) {\r\n\r\n        const shapeStyles = Properties.getInstance().getShapeStyle();\r\n        const tripleStyles = Properties.getInstance().getTripleStyle();\r\n        const constraintStyles = Properties.getInstance().getConstraintStyle();\r\n        const facetStyles = Properties.getInstance().getFacetStyle();\r\n        const shapeRefStyles = Properties.getInstance().getShapeRefStyle();\r\n        const cardinalityStyles = Properties.getInstance().getCardinalityStyle();\r\n\r\n        return ( \r\n        <div>\r\n                <div className=\"shape\" style={shapeStyles.header}>\r\n        \r\n                        <ShapeView/>\r\n                        <TripleView/>\r\n\r\n                        <ColorComp      namespace={SHAPE_COLORS} \r\n                                        pickers={SHAPE_PICKERS} \r\n                                        labelType={shapeStyles.label}\r\n                                        bodyType={shapeStyles.body}\r\n                                        cookie='shapeColors'/>   \r\n\r\n                        <ColorComp      namespace={TRIPLE_COLORS} \r\n                                        pickers={TRIPLE_PICKERS}\r\n                                        labelType={tripleStyles.label} \r\n                                        bodyType={tripleStyles.body}\r\n                                        cookie='tripleColors'/>\r\n                                        \r\n                        <ColorComp      namespace={CONSTRAINT_COLORS} \r\n                                        pickers={CONSTRAINT_PICKERS}\r\n                                        labelType={constraintStyles.label} \r\n                                        bodyType={constraintStyles.body}\r\n                                        cookie='constraintColors'/>\r\n\r\n                        <ColorComp      namespace={FACET_COLORS} \r\n                                        pickers={FACET_PICKERS}\r\n                                        labelType={facetStyles.label} \r\n                                        bodyType={facetStyles.body}\r\n                                        cookie='facetColors'/>\r\n\r\n                        <ColorComp      namespace={SHAPEREF_COLORS} \r\n                                        pickers={SHAPEREF_PICKERS} \r\n                                        labelType={shapeRefStyles.label}\r\n                                        bodyType={shapeRefStyles.body}\r\n                                        cookie='shapeRefColors'/>\r\n                                        \r\n                        <ColorComp      namespace={CARDINALITY_COLORS} \r\n                                        pickers={CARDINALITY_PICKERS}\r\n                                        labelType={cardinalityStyles.label} \r\n                                        bodyType={cardinalityStyles.body}\r\n                                        cookie='cardinalityColors'/>\r\n\r\n                        <ColorComp      namespace={SHAPE_COLORS} \r\n                                        pickers={BTNS_PICKERS} \r\n                                        labelType={shapeStyles.label}\r\n                                        bodyType={shapeStyles.body}\r\n                                        cookie='constraintColors'/> \r\n\r\n\r\n                    <div className=\"triples\" style={shapeStyles.body}>\r\n                        <button className=\"xs-addTripleButton\"\r\n                                style={shapeStyles.addTriple}\r\n                                title=\"Add Triple\">\r\n                                + Triple Constraint\r\n                        </button>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"addCont\">\r\n                    <button className=\"xs-addShapeButton\"\r\n                            style={shapeStyles.addShape}\r\n                            title=\"Add Shape\">\r\n                            + Shape\r\n                    </button>\r\n                </div>\r\n        </div>);\r\n}\r\n\r\nexport default ShapeColors;\r\n","import React,{useContext,useState} from 'react';\r\nimport Properties from '../../../../../../conf/properties';\r\n\r\nfunction PrefixView (props) {\r\n\r\n        const {colors} = props;\r\n        const styles = Properties.getInstance().getPrefixStyle();\r\n        const open = '<';\r\n        const close = '>';\r\n\r\n        return (<div className='xs-prefixHeaderColors' style={styles.header}>            \r\n                    <input  type=\"text\" \r\n                            className=\"prefixName prefixInput\"\r\n                            placeholder=\"eg: schema\"\r\n                            title=\"Alias\"/>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\r\n                    <input  type=\"text\" \r\n                            className=\"prefixInput\"\r\n                            placeholder=\"eg: http://schema.org/\"\r\n                            title=\"IRI\"/>\r\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\r\n                    <button className=\"deletePrefix mdc-icon-button material-icons\"\r\n                            style={styles.delete}\r\n                            title=\"Delete Prefix\">\r\n                            delete\r\n                    </button>                              \r\n                </div>);\r\n}\r\n\r\nexport default PrefixView;\r\n","import React,{useContext,useState} from 'react';\r\nimport PrefixView from './views/PrefixView';\r\nimport ColorComp from './utils/ColorComp';\r\nimport {PREFIX_PICKERS} from '../../../../../conf/pickers';\r\nimport {PREFIX_COLORS} from '../../../../../conf/colors';\r\nimport Properties from '../../../../../conf/properties';\r\n\r\nfunction PrefixColors (props) {\r\n\r\n        const styles = Properties.getInstance().getPrefixStyle();\r\n   \r\n        return (<div className='prefixColorContainer' style={styles.body}>\r\n                    <PrefixView/>\r\n                    <ColorComp  namespace={PREFIX_COLORS} \r\n                                pickers={PREFIX_PICKERS} \r\n                                labelType={styles.specialLabel}\r\n                                bodyType={styles.body}/> \r\n\r\n                    <div className=\"addCont\">\r\n                    <button className=\"addPrefixBtn\" \r\n                            style={styles.add}\r\n                            title=\"Add Prefix\">\r\n                            + Prefix\r\n                    </button>\r\n                    </div>   \r\n                    \r\n                </div>);\r\n}\r\n\r\nexport default PrefixColors;\r\n","import React,{useContext,useState} from 'react';\r\nimport ShapeColors from './color/ShapeColors';\r\nimport PrefixColors from './color/PrefixColors';\r\n\r\nfunction Colors (props) {\r\n\r\n        return ( <div>\r\n                    <ShapeColors/>\r\n                    <br/>\r\n                    <PrefixColors/>\r\n                </div>);\r\n}\r\n\r\nexport default Colors;","import React,{useContext,useState} from 'react';\r\nimport Toggle from 'react-toggle';\r\nimport \"react-toggle/style.css\";\r\nimport '../../../../css/conf/config.css';\r\nimport {DEFAULTS} from '../../../../conf/config';\r\nimport Properties from '../../../../conf/properties';\r\nimport {AppContext} from '../../../../App';\r\nimport { useCookies } from 'react-cookie';\r\nimport Editor from '../../../../entities/editor';\r\nimport CodeMirror from 'codemirror';\r\n\r\nfunction Config (props) {\r\n\r\n        const context = useContext(AppContext);\r\n        const [sinc, setSinc] = useState(DEFAULTS.sincronize);\r\n        const [pretty, setPretty] = useState(DEFAULTS.pretty);\r\n        const [saveColors, setSaveColors] = useState(DEFAULTS.saveColors);\r\n        const [cookies, setCookies] = useCookies('cookies');\r\n\r\n        const handleSincChange = function(e){\r\n            setSinc(!sinc);\r\n            DEFAULTS.sincronize = !sinc;\r\n            setCookies('conf', DEFAULTS, { path: '/' }); \r\n            let yashe = Editor.getYashe();    \r\n            CodeMirror.signal(yashe,'sinc',!sinc);\r\n        }\r\n\r\n        const handlePrettyChange = function(e){\r\n            let newPretty = e.target.value;\r\n            DEFAULTS.pretty = newPretty;\r\n            setPretty(newPretty);\r\n            setCookies('conf', DEFAULTS, { path: '/' });     \r\n            context.emit();\r\n        }\r\n\r\n        const handleSaveColorsChange = function(){\r\n            DEFAULTS.saveColors = !saveColors;\r\n            setCookies('conf', DEFAULTS, { path: '/' });\r\n            setSaveColors(!saveColors);\r\n        }\r\n\r\n        const restoreColors = function(){\r\n            let confirm = window.confirm('Are you sure?');\r\n            if(confirm)Properties.getInstance().restoreDefaultColors();\r\n        }\r\n\r\n        const restoreConfig = function(){\r\n            let confirm = window.confirm('Are you sure?');\r\n            if(confirm){\r\n                Properties.getInstance().restoreDefaultConfig();\r\n                setSinc(DEFAULTS.sincronize);\r\n                setSaveColors(DEFAULTS.saveColors);\r\n                setPretty(DEFAULTS.pretty);\r\n            }\r\n        }\r\n\r\n        return ( <div>\r\n                    <div className='option'>\r\n                        <span>Sincronize Editor</span>\r\n                        <div className='togleContainer'>\r\n                            <Toggle  checked={sinc}  icons={false} onChange={handleSincChange}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='option'>\r\n                        <span>Save Color Preferences</span>\r\n                        <div className='togleContainer'>\r\n                            <Toggle checked={saveColors}  icons={false} onChange={handleSaveColorsChange}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='option'>\r\n                        <span>Pretty Print</span>\r\n                        <div className='togleContainer'>\r\n                            <select className='customPretty'\r\n                                value={pretty}\r\n                                onChange={handlePrettyChange}>\r\n                                <option value='none'>None</option>\r\n                                <option value='pretty1'>Pretty1</option>\r\n                                <option value='pretty2'>Pretty2</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className='option'>\r\n                        <span>Restore Default Colors</span>\r\n                        <div className='togleContainer'>\r\n                             <button className='aplyBtn' onClick={restoreColors}>Apply</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='option'>\r\n                        <span>Restore Default Config</span>\r\n                        <div className='togleContainer'>\r\n                             <button className='aplyBtn' onClick={restoreConfig}>Apply</button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>);\r\n}\r\n\r\nexport default Config;","import React,{useContext,useState} from 'react';\r\nimport {AssistContext} from '../Assistant';\r\nimport { Collapse } from 'reactstrap';\r\nimport Shapes from './tabs/Shapes';\r\nimport AssistLoader from './AssistLoader';\r\nimport AssistError from './AssistError';\r\nimport Prefixes from './tabs/Prefixes';\r\nimport Colors from './tabs/Colors';\r\nimport Config from './tabs/Config';\r\n\r\nfunction AssistContent (props) {\r\n\r\n    const asssistContext = useContext(AssistContext);\r\n\r\n    return ( \r\n    <div>\r\n        <div id='assistant-container' className='assistantContainer'> \r\n                \r\n                <Collapse isOpen={asssistContext.isAssistOpen}>\r\n                    <Shapes/>\r\n                    <AssistLoader/>\r\n                    <AssistError/>\r\n                </Collapse>\r\n                <Collapse isOpen={asssistContext.isPrefixesOpen}>\r\n                    <Prefixes/>\r\n                </Collapse>\r\n                <Collapse isOpen={asssistContext.isColorsOpen}>\r\n                    <Colors/>\r\n                </Collapse>\r\n                <Collapse isOpen={asssistContext.isConfigOpen}>\r\n                    <Config/>\r\n                </Collapse>\r\n                \r\n            </div>\r\n        </div>);\r\n}\r\n\r\n\r\nexport default AssistContent;\r\n\r\n","import React,{useContext,useState,useEffect} from 'react';\r\nimport {AppContext} from '../../App';\r\nimport { Collapse } from 'reactstrap';\r\nimport AssistNav from './assistant/AssistNav';\r\nimport AssistContent from './assistant/AssistContent';\r\nimport { Resizable, ResizableBox } from 'react-resizable';\r\nimport Properties from '../../conf/properties';\r\nimport '../../css/Assistant.css';\r\nimport '../../css/resizable/react-resizable.css';\r\n\r\nexport const AssistContext = React.createContext();\r\n\r\nfunction Assistant (props) {\r\n\r\n        const context = useContext(AppContext);\r\n        const [isAssistOpen, setAssistOpen] = useState(true);\r\n        const [isPrefixesOpen, setPrefixesOpen] = useState(false);\r\n        const [isColorsOpen, setColorsOpen] = useState(false);\r\n        const [isConfigOpen, setConfigOpen] = useState(false);\r\n        const [color,setColor] = useState('#fffff')\r\n\r\n        const handleChange = function(color,element,NAMESPACE){\r\n            setColor(color);//NECESSARY TO  FORCE RENDER\r\n            NAMESPACE[element] = color;\r\n        }\r\n\r\n        return (\r\n                <AssistContext.Provider\r\n                value={\r\n                        {\r\n                        isAssistOpen:isAssistOpen,\r\n                        isPrefixesOpen:isPrefixesOpen,\r\n                        isColorsOpen:isColorsOpen,                  \r\n                        isConfigOpen:isConfigOpen,\r\n                        setAssistOpen:setAssistOpen,\r\n                        setPrefixesOpen:setPrefixesOpen,\r\n                        setColorsOpen:setColorsOpen,\r\n                        setConfigOpen:setConfigOpen,\r\n                        handleChange:handleChange\r\n                        }\r\n                }>\r\n                        <Collapse isOpen={context.isAssistantOpen} className='assistCollapse'>\r\n                        <ResizableBox   width={context.width} \r\n                                        height={100} //Just to avoid console errors, but ignore it\r\n                                        onResize={(e,data)=>context.handleResize(e,data)}\r\n                                        resizeHandles={['e']}  \r\n                                        minConstraints={[470, 100]} maxConstraints={[1000, 1000]}>\r\n                                \r\n                                <div id=\"assistant\" className='containerAssist'>                                    \r\n                                        <AssistNav/>\r\n                                        <AssistContent/>              \r\n                                </div>\r\n                                \r\n                        </ResizableBox>\r\n                        </Collapse>      \r\n                </AssistContext.Provider>);\r\n}\r\n\r\n\r\nexport default Assistant;","import React, {useState,useContext,useEffect,useRef} from 'react';\r\nimport 'yashe/dist/yashe.min.css';\r\nimport {AppContext} from '../../App';\r\nimport {DEFAULTS} from '../../conf/config';\r\n\r\nimport CodeMirror from 'codemirror';\r\nimport YASHE from 'yashe';\r\nimport Editor from '../../entities/editor';\r\n\r\nimport yasheUtils from '../../utils/yasheUtils';\r\nimport {defaultExample} from '../../galery/defaultExample';\r\nimport Prefix from '../../entities/shexEntities//others//prefix';\r\n\r\nimport {undo,redo} from '../../utils/toolbarUtils';\r\n\r\nimport '../../css/Yashe.css';\r\nimport '../../css/themes/author.css';\r\nimport '../../css/themes/author-dark.css';\r\n\r\nconst ERROR_EDITOR_MSG = 'Ops... There are some errors in the editor';\r\nconst COMPLEX_SHAPE_MSG = 'Sorry that Shape is too complex for me';\r\n\r\nfunction EditorComp() {\r\n\r\n    const context = useContext(AppContext);\r\n    const [yashe,setYashe] = useState(null);\r\n    const divRef = useRef(null);\r\n    \r\n\r\n    const defaultPrefixes = [\r\n                new Prefix('','http://example.org/',0),\r\n                new Prefix('schema','http://schema.org/',1),\r\n                new Prefix('xsd','http://www.w3.org/2001/XMLSchema#',2)\r\n    ]\r\n\r\n    useEffect(() => {\r\n    \r\n        if (!yashe) {\r\n            const options = {\r\n                persistent:false,\r\n                showThemeButton:false,\r\n                theme:'author-dark',\r\n                value:defaultExample\r\n            }\r\n            \r\n            const y = YASHE(divRef.current,options);\r\n\r\n            \r\n            y.on('humanEvent', function(shapes,width) {\r\n                yasheUtils.draw(shapes);\r\n                y.isComplex=false;\r\n                y.oldShapes = shapes;\r\n                let data={size:{width:width}};\r\n                context.handleResize(null,data);\r\n            });\r\n\r\n            y.on('convert',function(){\r\n                if(!y.hasErrors(y)){\r\n                    hideError();\r\n                    updateAssist();\r\n                }else{\r\n                    hideError();\r\n                    hideConvert();\r\n                    loading();\r\n                    setTimeout(function() {\r\n                        loaded();  \r\n                        showConvert();\r\n                        showError(ERROR_EDITOR_MSG);\r\n                    },500) \r\n                }\r\n            })\r\n\r\n            //When the sinc is activated we activate the appropriate handlers \r\n            //Otherwise it will be desactivated\r\n            y.on('sinc', function(sinc) {\r\n                if(sinc){\r\n                    y._handlers.focus = null;\r\n                    hideConvert();\r\n                    if(y.isComplex)showError(COMPLEX_SHAPE_MSG);\r\n                    if(y.hasErrors(y))showError(ERROR_EDITOR_MSG);\r\n                    let isErrMsg=false;\r\n                    y.on('keyup',yasheUtils.debounce(function( e ) {\r\n                        if(!y.hasErrors(y)){\r\n                            hideError();\r\n                            updatePrefixes();\r\n                            if(isErrMsg){   \r\n                                isErrMsg=false;\r\n                                updateAssist();\r\n                            }else{\r\n                                let newShapes = yasheUtils.getShapes();\r\n                                if(y.oldShapes.length == newShapes.length){ //Any new shape?\r\n                                    //Nope\r\n                                    if(newShapes.toString()!=y.oldShapes.toString()){ //Any update?\r\n                                        //Yes\r\n                                        y.isComplex=false;\r\n                                        y.oldShapes = replaceShapes();\r\n                                    }\r\n                                }else{\r\n                                    updateAssist();\r\n                                } \r\n\r\n                            }\r\n                            \r\n                        }else{\r\n                            isErrMsg=true;\r\n                            showError(ERROR_EDITOR_MSG);\r\n                        }   \r\n                    }, 500));\r\n\r\n\r\n                }else{\r\n                    //Not really elegant I know     \r\n                    y._handlers.keyup = null; \r\n                    y._handlers.keyHandled = null; \r\n                    if(y.hasErrors(y))showConvert();\r\n                    if(y.isComplex)showConvert();\r\n                    y.on('focus', function() {\r\n                       showConvert();\r\n                    });       \r\n                }\r\n                \r\n            });\r\n\r\n            y.on('prefixChange', function(prefixes,width) {\r\n                yasheUtils.draw(y.oldShapes,prefixes);\r\n               // let data={size:{width:width}};\r\n               // context.handleResize(null,data); */\r\n            });\r\n\r\n            y.on('undo', function(prefixes,width) {\r\n                undo();\r\n                updateAssist();\r\n            });\r\n\r\n             y.on('redo', function(prefixes,width) {\r\n                redo();\r\n                updateAssist();\r\n            });\r\n\r\n\r\n            y.on('forceError', function(prefixes) {\r\n                y.isComplex=true;\r\n                hideError();\r\n                loading();\r\n                setTimeout(function() {\r\n                    loaded(); \r\n                    showError(COMPLEX_SHAPE_MSG);\r\n                    if(!DEFAULTS.sincronize)showConvert();\r\n                },500)\r\n            });\r\n\r\n            y.on('delete', function() {\r\n                y.isComplex=false;\r\n                y.oldShapes = replaceShapes();\r\n                updatePrefixes(defaultPrefixes);\r\n            });\r\n\r\n            y.on('upload', function() {\r\n                if(!y.hasErrors()){                   \r\n                    updateAssist();\r\n                    updatePrefixes();\r\n                }\r\n            });\r\n\r\n            //Load example from Galery\r\n            y.on('galery', function() {\r\n                if(!y.hasErrors()){                   \r\n                    updateAssist();\r\n                    updatePrefixes();\r\n                }\r\n            });\r\n\r\n        \r\n            y.refresh();\r\n            setYashe(y);\r\n            \r\n\r\n            Editor.getInstance().setYashe(y);\r\n\r\n            y.oldShapes = replaceShapes();\r\n            updatePrefixes(defaultPrefixes)\r\n\r\n            CodeMirror.signal(y,'sinc',DEFAULTS.sincronize);\r\n        }\r\n    }, [yashe]\r\n    );\r\n\r\n    \r\n\r\n    const replaceShapes = function(){\r\n        let newShapes = yasheUtils.getShapes();\r\n        context.replaceShapes(newShapes);\r\n        return newShapes;\r\n    }\r\n\r\n    const updatePrefixes = function(prefixes){\r\n        if(!prefixes) prefixes = yasheUtils.getPrefixes();\r\n        context.replacePrefixes(prefixes);\r\n        return prefixes;\r\n    }\r\n\r\n\r\n    const updateAssist = function(){\r\n        let yashe = Editor.getYashe();\r\n        hideConvert();\r\n        loading();\r\n        setTimeout(function() {\r\n            yashe.isComplex=false;  \r\n            yashe.oldShapes = replaceShapes();               \r\n            loaded();\r\n        },500)\r\n    }\r\n\r\n\r\n     const animate = function(before1,after1,before2,after2){\r\n        let e1 = document.getElementsByClassName(before1)[0];\r\n        if(e1) e1.className = after1;\r\n        let e2 = document.getElementsByClassName(before2)[0];\r\n        if(e2) e2.className = after2;\r\n     }\r\n\r\n    const loading = function(){\r\n        animate('showAsist','hideAsist','hideLoader','showLoader');\r\n    }\r\n\r\n    const loaded = function(){\r\n         animate('showLoader','hideLoader','hideAsist','showAsist');\r\n    }\r\n\r\n    const showError = function(err){\r\n        animate('hideError','showError','showAsist','hideAsist');\r\n        document.getElementsByClassName('errorMsg')[0].textContent = err;\r\n    }\r\n\r\n    const showConvert = function(err){\r\n        animate('hideConvert','showConvert','showAsist','hideAsist');\r\n    }\r\n\r\n    const hideError = function(){\r\n        animate('showError','hideError','hideAsist','showAsist');\r\n    }\r\n\r\n    const hideConvert = function(){\r\n        animate('showConvert','hideConvert','hideAsist','showAsist');\r\n    }\r\n\r\n\r\n    return  (<div id='editorComp' className=\"col edit\" ref={divRef}/>);\r\n\r\n}\r\n\r\n   \r\nexport default EditorComp;\r\n\r\n","import React from 'react';\r\nimport Toolbar from './mainComps/Toolbar';\r\nimport AssistantComp from './mainComps/Assistant';\r\nimport EditorComp from './mainComps/EditorComp';\r\n\r\nfunction MainContainer () {\r\n\r\n    return (\r\n      <div className=\"globalContainer\">       \r\n        <div id=\"mainCont\" className=\"row comps\">                     \r\n           <Toolbar/>\r\n           <AssistantComp/>                                              \r\n           <EditorComp/>                       \r\n        </div>\r\n      </div>);\r\n\r\n}\r\n\r\n\r\n\r\nexport default MainContainer;\r\n","import React,{useState} from 'react';\r\nimport {Collapse} from 'reactstrap';\r\n\r\nfunction Visualizer (props) {\r\n\r\n    const {svg,isVisualizeOpen} = props;\r\n\r\n    return (\r\n    <Collapse isOpen={isVisualizeOpen} >\r\n        <div className=\"visualize\"> \r\n            <div className=\"umlContainer\">   \r\n                <div className='uml' dangerouslySetInnerHTML={{__html:svg}}/> \r\n            </div>\r\n        </div>\r\n    </Collapse>);\r\n\r\n    \r\n}\r\n\r\nexport default Visualizer;","\r\nimport React, {useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport Nav from './components/Nav';\r\nimport MainContainer from './components/MainContainer';\r\nimport Visualizer from './components/Visualizer';\r\nimport shexUtils from './utils/shexUtils';\r\nimport {emitPrefixes} from './utils/prefixUtils';\r\nimport {makeItResponsive,checkShapeName} from './utils/cssUtils';\r\nimport yasheUtils from './utils/yasheUtils';\r\nimport Editor from './entities/editor';\r\nimport {addPrefixComp,deletePrefixComp} from './utils/prefixUtils';\r\nimport './css/App.css';\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nfunction App() {\r\n\r\n    const [shapes,setShapes] = useState([]);\r\n    const [prefixes,setPrefixes] = useState([]);\r\n    const [svg,setSvg] = useState('');\r\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\r\n    const [isToolBarOpen, setToolBarOpen] = useState(true);\r\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\r\n    const [width,setWidth] = useState(470);//700\r\n\r\n    const assistantToggle = () => setAssistantOpen(!isAssistantOpen);\r\n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\r\n    const toolbarToggle = () => setToolBarOpen(!isToolBarOpen);\r\n    const colapseAll = () =>{\r\n      setAssistantOpen(!isToolBarOpen);\r\n      setVisualizeOpen(!isToolBarOpen);\r\n      setToolBarOpen(!isToolBarOpen);\r\n    }\r\n\r\n    const addShape = () =>{\r\n      let shape = shexUtils.addShape(shapes,width);\r\n      setShapes([...shapes,shape]);\r\n      checkShapeName(shape)\r\n      visualize();\r\n    }\r\n\r\n    const deleteShape = (shapeId) =>{\r\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false,width));\r\n      visualize();\r\n    }\r\n\r\n    const addPrefix = function(){\r\n      setPrefixes([...prefixes,addPrefixComp(prefixes,width)]);\r\n    }\r\n      \r\n    const deletePrefix = function(prefixId){\r\n      setPrefixes(deletePrefixComp(prefixes,prefixId,width));\r\n    }\r\n\r\n    const emit = function(){\r\n      shexUtils.emit(shapes,width);\r\n      visualize();\r\n    }\r\n\r\n    const emitPref = function(){\r\n      emitPrefixes(prefixes,width);\r\n      visualize();\r\n    }\r\n\r\n    const replaceShapes = (newShapes) =>{\r\n      //This allows to render all the shapes when a property is updated.\r\n      //Best Glitch Ever\r\n      //In fact... I would like to render just the property component...\r\n      setShapes([]); \r\n      \r\n      setShapes(newShapes);\r\n      visualize();\r\n    }\r\n\r\n    const replacePrefixes = (newPrefixes) =>{\r\n      \r\n      setPrefixes([]); \r\n      setPrefixes(newPrefixes);\r\n  \r\n    }\r\n    \r\n\r\n    const visualize = function(){\r\n\r\n        let bodyFormData = new FormData();\r\n        bodyFormData.set('schema', yasheUtils.getSchema());\r\n        bodyFormData.set('schemaFormat', 'ShExC');\r\n        bodyFormData.set('schemaEngine', 'SHEX');\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'https://api.rdfshape.weso.es/api/schema/visualize',\r\n            data: bodyFormData,\r\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n        })\r\n        .then(function(response){\r\n            if(response.data.svg != undefined){\r\n                if(response.data.svg.startsWith('<?xml')){\r\n                    setSvg(response.data.svg);\r\n                }else{\r\n                    setSvg(null)\r\n                }\r\n        }\r\n        })\r\n        .catch(function (response) {\r\n            //handle error\r\n            console.log(response);\r\n        });\r\n\r\n    }\r\n\r\n    const handleResize = function(e, data){\r\n        setWidth(data.size.width)\r\n        makeItResponsive(data.size.width); \r\n    }\r\n    \r\n    useEffect(() => {\r\n      makeItResponsive(width);\r\n    })\r\n\r\n\r\n    return (\r\n      <CookiesProvider>\r\n          <AppContext.Provider\r\n                value={\r\n                  {\r\n                  shapes:shapes,\r\n                  addShape:addShape,\r\n                  deleteShape:deleteShape,\r\n                  addPrefix:addPrefix,\r\n                  deletePrefix:deletePrefix,\r\n                  replaceShapes:replaceShapes,\r\n                  replacePrefixes:replacePrefixes,\r\n                  prefixes:prefixes,\r\n                  emit:emit,\r\n                  emitPref:emitPref,\r\n                  visualize:visualize,\r\n                  isToolBarOpen:isToolBarOpen,\r\n                  isAssistantOpen:isAssistantOpen,\r\n                  isVisualizeOpen:isVisualizeOpen,\r\n                  assistantToggle:assistantToggle,\r\n                  visualizeToggle:visualizeToggle,\r\n                  handleResize:handleResize,\r\n                  width:width\r\n                  }\r\n                }>\r\n\r\n              <Nav colapseAll={colapseAll}/>\r\n              <MainContainer/>\r\n              <Visualizer svg={svg} isVisualizeOpen={isVisualizeOpen}/>\r\n                                                  \r\n          </AppContext.Provider>\r\n      </CookiesProvider>);\r\n\r\n}  \r\n           \r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname == 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname == '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV == 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state == 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status == 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') == -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nsetTimeout(() => {    \r\n    for(let i=0;i<10;i++){\r\n        let spaces = ' ';\r\n        for(let j=0;j<i;j++){\r\n        spaces+='  ';\r\n        }\r\n        console.log('%c'+spaces,'color:pink;font-weight:bold;background-color:black; font-size:33px')\r\n\r\n    }\r\n    console.log('%c JavaScript is beautiful','color:pink;font-weight:bold;background-color:black; font-size:33px')\r\n}, 1000);\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}